WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-analytics', location = 'includes/js/analytics/capture-analytics.js' */
AJS.trigger=AJS.trigger||function(){};window.prepAccountInfo=function(){var a=jQuery("#bonfire-build-info").find('[data-bonfire-var="bonfire-gaTrackingCode"]').data("bonfire-value")};jQuery(prepAccountInfo);window.trackEvent=function(a,b){AJS.trigger("analyticsEvent",{name:a,data:b})};window.getBonfire=function(a){trackEvent("jira.capture.install.extension",{source:"JIRA",browser:a})};window.sessionStatusChangeInJira=function(a){trackEvent("jira.capture.session.status.change",{source:"JIRA",status:a})};window.noteStatusChangeInJira=function(a){trackEvent("jira.capture.session.notes",{source:"JIRA",status:a})};window.trackHelpButtonUse=function(){trackEvent("jira.capture.session.notes.help",{source:"JIRA"})};window.trackParticipationLeave=function(){trackEvent("jira.capture.session.leave",{source:"JIRA"})};window.trackParticipationJoin=function(){trackEvent("jira.capture.session.join",{source:"JIRA"})};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-shared', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-issuecollector-assets', location = 'includes/js/feedback/bf-issuecollector.js' */
AJS.$(function(){var b={data:{inline:true,decorator:"dialog"}};var e=function(){AJS.reloadViaWindowLocation(window.location.href)};var f=function(i){var g={preMsg:i.getResponseHeader("X-Atlassian-Dialog-Msg-Html-Pre"),postMsg:i.getResponseHeader("X-Atlassian-Dialog-Msg-Html-Post")};if(g.preMsg){g.msg=g.preMsg;var h=i.getResponseHeader("X-Atlassian-Dialog-Msg-Type");g.type=h?h.toUpperCase():h;g.closeable=(i.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable")==="true");g.target=i.getResponseHeader("X-Atlassian-Dialog-Msg-Target");return g}};var c=function(){if(JIRA.SessionStorage){var j="jira.messages.reloadMessageMsg",g="jira.messages.reloadMessageType",i="jira.messages.reloadMessageCloseable",h="jira.messages.reloadMessageTarget";JIRA.SessionStorage.removeItem(j);JIRA.SessionStorage.removeItem(g);JIRA.SessionStorage.removeItem(i);JIRA.SessionStorage.removeItem(h)}};var d=function(h,i,j,g){if(this.options.bonfireStayOnPage){return}e()};var a=function(i,j,k,h){if(this.options.bonfireStayOnPage){var g=f(j);if(g){if(JIRA.Messages===undefined){Bonfire.Messages.showMsg(g)}else{JIRA.Messages.showMsg(g.msg,{type:JIRA.Messages.Types[g.type],closeable:g.closeable,target:g.target});c()}}}};new AJS.FormPopup({trigger:"#bonfire-feedback",id:"bonfire-feedback-dialog",autoClose:true,bonfireStayOnPage:true,onSuccessfulSubmit:a,onDialogFinished:d,ajaxOptions:b})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-issuecollector', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-jquery-ui', location = 'includes/js/lib/jquery-ui-1.8.16.js' */
window.bfjQueryoverride=jQuery.noConflict();
/*!
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,d){a.uibonfire=a.uibonfire||{};a.extend(a.uibonfire,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn._focus||a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g)}},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!e.length?a(document):e},zIndex:function(h){if(h!==d){return this.css("zIndex",h)}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".uibonfire-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".uibonfire-disableSelection")}});a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function j(m,l,i,n){a.each(f,function(){l-=parseFloat(a.curCSS(m,"padding"+this,true))||0;if(i){l-=parseFloat(a.curCSS(m,"border"+this+"Width",true))||0}if(n){l-=parseFloat(a.curCSS(m,"margin"+this,true))||0}});return l}a.fn["inner"+e]=function(i){if(i===d){return k["inner"+e].call(this)}return this.each(function(){a(this).css(h,j(this,i)+"px")})};a.fn["outer"+e]=function(i,l){if(typeof i!=="number"){return k["outer"+e].call(this,i)}return this.each(function(){a(this).css(h,j(this,i,true,l)+"px")})}});function c(g,e){var j=g.nodeName.toLowerCase();if("area"===j){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(j)?!g.disabled:"a"==j?g.href||e:e)&&b(g)}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(g,f,e){return !!a.data(g,e[3])},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f)}});a(function(){var e=document.body,f=e.appendChild(f=document.createElement("div"));a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=f.offsetHeight===100;a.support.selectstart="onselectstart" in f;e.removeChild(f).style.display="none"});a.extend(a.uibonfire,{plugin:{add:function(f,g,j){var h=a.uibonfire[f].prototype;for(var e in j){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,j[e]])}},call:function(e,g,f){var j=e.plugins[g];if(!j||!e.element[0].parentNode){return}for(var h=0;h<j.length;h++){if(e.options[j[h][0]]){j[h][1].apply(e.element,f)}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e)},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true}h[e]=1;g=(h[e]>0);h[e]=0;return g},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g))},isOver:function(j,f,i,h,e,g){return a.uibonfire.isOverAxis(j,i,e)&&a.uibonfire.isOverAxis(f,h,g)}})})(bfjQueryoverride);
/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c,e){if(c.cleanData){var d=c.cleanData;c.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{c(h).triggerHandler("remove")}catch(j){}}d(f)}}else{var a=c.fn.remove;c.fn.remove=function(f,g){return this.each(function(){if(!g){if(!f||c.filter(f,[this]).length){c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(h){}})}}return a.call(c(this),f,g)})}}var b=c.widget&&c.widget.extend.bind(c.widget);c.widget=function(g,i,f){var h=g.split(".")[0],k;g=g.split(".")[1];k=h+"-"+g;if(!f){f=i;i=c.Widget}c.expr[":"][k]=function(l){return !!c.data(l,g)};c[h]=c[h]||{};c[h][g]=function(l,m){if(arguments.length){this._createWidget(l,m)}};var j=new i();j.options=c.extend(true,{},j.options);c[h][g].prototype=c.extend(true,j,{namespace:h,widgetName:g,widgetEventPrefix:c[h][g].prototype.widgetEventPrefix||g,widgetBaseClass:k},f);c.widget.bridge(g,c[h][g])};c.widget.extend=b;c.widget.bridge=function(g,f){c.fn[g]=function(j){var h=typeof j==="string",i=Array.prototype.slice.call(arguments,1),k=this;j=!h&&i.length?c.extend.apply(null,[true,j].concat(i)):j;if(h&&j.charAt(0)==="_"){return k}if(h){this.each(function(){var l=c.data(this,g),m=l&&c.isFunction(l[j])?l[j].apply(l,i):l;if(m!==l&&m!==e){k=m;return false}})}else{this.each(function(){var l=c.data(this,g);if(l){l._super=l._super||c.Widget.prototype._setOption||c.noop;l.option(j||{})._init()}else{l=c.data(this,g,new f(j,this));if(k.data instanceof Function){k.data("ui-"+g,l)}}})}return k}};c.Widget=function(f,g){if(arguments.length){this._createWidget(f,g)}};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,h){c.data(h,this.widgetName,this);this.element=c(h);this.options=c.extend(true,{},this.options,this._getCreateOptions(),g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});if(h&&((h.id&&h.id.indexOf("workflow-designer")==-1)||!h.id)){this._create()}this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled uibonfire-state-disabled")},widget:function(){return this.element},option:function(g,h){var f=g;if(arguments.length===0){return c.extend({},this.options)}if(typeof g==="string"){if(h===e){return this.options[g]}f={};f[g]=h}this._setOptions(f);return this},_setOptions:function(g){var f=this;c.each(g,function(h,i){f._setOption(h,i)});return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,h,j){var l=this.options[g];h=c.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();j=j||{};if(h.originalEvent){for(var f=c.event.props.length,k;f;){k=c.event.props[--f];h[k]=h.originalEvent[k]}}this.element.trigger(h,j);return !(c.isFunction(l)&&l.call(this.element[0],h,j)===false||h.isDefaultPrevented())}}})(bfjQueryoverride);(function(a,b){var c=0;a.widget("uibonfire.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,f=this.element[0].ownerDocument,e;this.element.addClass("uibonfire-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(g){if(d.options.disabled||d.element.propAttr("readOnly")){return}e=false;var h=a.uibonfire.keyCode;switch(g.keyCode){case h.PAGE_UP:d._move("previousPage",g);break;case h.PAGE_DOWN:d._move("nextPage",g);break;case h.UP:d._move("previous",g);g.preventDefault();break;case h.DOWN:d._move("next",g);g.preventDefault();break;case h.ENTER:case h.NUMPAD_ENTER:if(d.menu.active){e=true;g.preventDefault()}case h.TAB:if(!d.menu.active){return}d.menu.select(g);break;case h.ESCAPE:d.element.val(d.term);d.close(g);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,g)}},d.options.delay);break}}).bind("keypress.autocomplete",function(g){if(e){e=false;g.preventDefault()}}).bind("focus.autocomplete",function(){if(d.options.disabled){return}d.selectedItem=null;d.previous=d.element.val()}).bind("blur.autocomplete",function(g){if(d.options.disabled){return}clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(g);d._change(g)},150)});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("uibonfire-autocomplete").appendTo(a(this.options.appendTo||"body",f)[0]).mousedown(function(g){var h=d.menu.element[0];if(!a(g.target).closest(".uibonfire-menu-item").length){setTimeout(function(){a(document).one("mousedown",function(i){if(i.target!==d.element[0]&&i.target!==h&&!a.uibonfire.contains(h,i.target)){d.close()}})},1)}setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(h,i){var g=i.item.data("item.autocomplete");if(false!==d._trigger("focus",h,{item:g})){if(/^key/.test(h.originalEvent.type)){d.element.val(g.value)}}},selected:function(i,j){var h=j.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==f.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=h},1)}if(false!==d._trigger("select",i,{item:h})){d.element.val(h.value)}d.term=d.element.val();d.close(i);d.selectedItem=h},blur:function(g,h){if(d.menu.element.is(":visible")&&(d.element.val()!==d.term)){d.element.val(d.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(a.fn.bgiframe){this.menu.element.bgiframe()}},destroy:function(){this.element.removeClass("uibonfire-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,e){a.Widget.prototype._setOption.apply(this,arguments);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0])}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_initSource:function(){var d=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.uibonfire.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:e,data:h,dataType:"json",autocompleteRequest:++c,contentType:"application/json",success:function(j,i){if(this.autocompleteRequest===c){g(j)}},error:function(){if(this.autocompleteRequest===c){g([])}}})}}else{this.source=this.options.source}}},search:function(e,d){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(d)}clearTimeout(this.closing);if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("uibonfire-autocomplete-loading");this.source({term:d},this.response)},_response:function(d){if(!this.options.disabled&&d&&d.length){d=this._normalize(d);this._suggest(d);this._trigger("open")}else{this.close()}this.pending--;if(!this.pending){this.element.removeClass("uibonfire-autocomplete-loading")}},close:function(d){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",d)}},_change:function(d){if(this.previous!==this.element.val()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.deactivate();this.menu.refresh();e.show();e.width(this.element.outerWidth());e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new a.Event("mouseover"))}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(f,e){var d=this;a.each(e,function(g,h){d._renderItem(f,h)})},_renderItem:function(d,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return}this.menu[e](d)},widget:function(){return this.menu.element}})}(bfjQueryoverride));(function(f,g){f.uibonfire=f.uibonfire||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(i){if(!i||!i.of){return b.apply(this,arguments)}i=f.extend({},i);var m=f(i.of),l=m[0],o=(i.collision||"flip").split(" "),n=i.offset?i.offset.split(" "):[0,0],k,h,j;if(l.nodeType===9){k=m.width();h=m.height();j={top:0,left:0}}else{if(l.setTimeout){k=m.width();h=m.height();j={top:m.scrollTop(),left:m.scrollLeft()}}else{if(l.preventDefault){i.at="left top";k=h=0;j={top:i.of.pageY,left:i.of.pageX}}else{k=m.outerWidth();h=m.outerHeight();j=m.offset()}}}f.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=d.test(p[0])?p.concat([a]):e.test(p[0])?[a].concat(p):[a,a]}p[0]=d.test(p[0])?p[0]:a;p[1]=e.test(p[1])?p[1]:a;i[this]=p});if(o.length===1){o[1]=o[0]}n[0]=parseInt(n[0],10)||0;if(n.length===1){n[1]=n[0]}n[1]=parseInt(n[1],10)||0;if(i.at[0]==="right"){j.left+=k}else{if(i.at[0]===a){j.left+=k/2}}if(i.at[1]==="bottom"){j.top+=h}else{if(i.at[1]===a){j.top+=h/2}}j.left+=n[0];j.top+=n[1];return this.each(function(){var s=f(this),u=s.outerWidth(),r=s.outerHeight(),t=parseInt(f.curCSS(this,"marginLeft",true))||0,q=parseInt(f.curCSS(this,"marginTop",true))||0,w=u+t+(parseInt(f.curCSS(this,"marginRight",true))||0),x=r+q+(parseInt(f.curCSS(this,"marginBottom",true))||0),v=f.extend({},j),p;if(i.my[0]==="right"){v.left-=u}else{if(i.my[0]===a){v.left-=u/2}}if(i.my[1]==="bottom"){v.top-=r}else{if(i.my[1]===a){v.top-=r/2}}v.left=Math.round(v.left);v.top=Math.round(v.top);p={left:v.left-t,top:v.top-q};f.each(["left","top"],function(z,y){if(f.uibonfire.position[o[z]]){f.uibonfire.position[o[z]][y](v,{targetWidth:k,targetHeight:h,elemWidth:u,elemHeight:r,collisionPosition:p,collisionWidth:w,collisionHeight:x,offset:n,my:i.my,at:i.at})}});if(f.fn.bgiframe){s.bgiframe()}s.offset(f.extend(v,{using:i.using}))})};f.uibonfire.position={fit:{left:function(h,i){var k=f(window),j=i.collisionPosition.left+i.collisionWidth-k.width()-k.scrollLeft();h.left=j>0?h.left-j:Math.max(h.left-i.collisionPosition.left,h.left)},top:function(h,i){var k=f(window),j=i.collisionPosition.top+i.collisionHeight-k.height()-k.scrollTop();h.top=j>0?h.top-j:Math.max(h.top-i.collisionPosition.top,h.top)}},flip:{left:function(i,k){if(k.at[0]===a){return}var m=f(window),l=k.collisionPosition.left+k.collisionWidth-m.width()-m.scrollLeft(),h=k.my[0]==="left"?-k.elemWidth:k.my[0]==="right"?k.elemWidth:0,j=k.at[0]==="left"?k.targetWidth:-k.targetWidth,n=-2*k.offset[0];i.left+=k.collisionPosition.left<0?h+j+n:l>0?h+j+n:0},top:function(i,k){if(k.at[1]===a){return}var m=f(window),l=k.collisionPosition.top+k.collisionHeight-m.height()-m.scrollTop(),h=k.my[1]==="top"?-k.elemHeight:k.my[1]==="bottom"?k.elemHeight:0,j=k.at[1]==="top"?k.targetHeight:-k.targetHeight,n=-2*k.offset[1];i.top+=k.collisionPosition.top<0?h+j+n:l>0?h+j+n:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(l,i){if(/static/.test(f.curCSS(l,"position"))){l.style.position="relative"}var k=f(l),n=k.offset(),h=parseInt(f.curCSS(l,"top",true),10)||0,m=parseInt(f.curCSS(l,"left",true),10)||0,j={top:(i.top-n.top)+h,left:(i.left-n.left)+m};if("using" in i){i.using.call(l,j)}else{k.css(j)}};f.fn.offset=function(h){var i=this[0];if(!i||!i.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return c.call(this)}}}(bfjQueryoverride));(function(a){a.widget("uibonfire.menu",{_create:function(){var b=this;this.element.addClass("uibonfire-menu uibonfire-widget uibonfire-widget-content uibonfire-corner-all").attr({role:"listbox","aria-activedescendant":"uibonfire-active-menuitem"}).click(function(c){if(!a(c.target).closest(".uibonfire-menu-item a").length){return}c.preventDefault();b.select(c)});this.refresh()},refresh:function(){var c=this;var b=this.element.children("li:not(.uibonfire-menu-item):has(a)").addClass("uibonfire-menu-item").attr("role","menuitem");b.children("a").addClass("uibonfire-corner-all").attr("tabindex",-1).mouseenter(function(d){c.activate(d,a(this).parent())}).mouseleave(function(){c.deactivate()})},activate:function(e,d){this.deactivate();if(this.hasScroll()){var f=d.offset().top-this.element.offset().top,b=this.element.scrollTop(),c=this.element.height();if(f<0){this.element.scrollTop(b+f)}else{if(f>=c){this.element.scrollTop(b+f-c+d.height())}}}this.active=d.eq(0).children("a").addClass("uibonfire-state-hover").attr("id","uibonfire-active-menuitem").end();this._trigger("focus",e,{item:d})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("uibonfire-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(b){this.move("next",".uibonfire-menu-item:first",b)},previous:function(b){this.move("prev",".uibonfire-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".uibonfire-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".uibonfire-menu-item").length},move:function(e,d,c){if(!this.active){this.activate(c,this.element.children(d));return}var b=this.active[e+"All"](".uibonfire-menu-item").eq(0);if(b.length){this.activate(c,b)}else{this.activate(c,this.element.children(d))}},nextPage:function(d){if(this.hasScroll()){if(!this.active||this.last()){this.activate(d,this.element.children(".uibonfire-menu-item:first"));return}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".uibonfire-menu-item").filter(function(){var f=a(this).offset().top-e-c+a(this).height();return f<10&&f>-10});if(!b.length){b=this.element.children(".uibonfire-menu-item:last")}this.activate(d,b)}else{this.activate(d,this.element.children(".uibonfire-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(c){if(this.hasScroll()){if(!this.active||this.first()){this.activate(c,this.element.children(".uibonfire-menu-item:last"));return}var d=this.active.offset().top,b=this.element.height();result=this.element.children(".uibonfire-menu-item").filter(function(){var e=a(this).offset().top-d+b-a(this).height();return e<10&&e>-10});if(!result.length){result=this.element.children(".uibonfire-menu-item:first")}this.activate(c,result)}else{this.activate(c,this.element.children(".uibonfire-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})}(bfjQueryoverride));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:complete-session-resource', location = 'includes/js/sessions/complete-session.js' */
if(typeof BF=="undefined"){window.BF={}}AJS.$(function(){BF.bindCompleteSessionCommon=function(a,b){if(b&&b.$form){b.$form.find("input[type=text]").keypress(function(c){if(c.keyCode==13||c.keyCode==10){jQuery("#bonfire-complete-button").click()}})}};BF.bindCompleteSubmit=function(m,h,f){m.preventDefault();var g=h.closest("form");var l=g.find("[name=testSessionId]").val();var c=contextPath+"/rest/bonfire/1.0/sessions/"+l+"/complete";var n=g.find("#bf-time-spent").val();var a=g.find("#bf-log-time-issue");var q="";if(a.length!==0){q=a.val()}var o=g.find(".bfcom-select");var b=[];for(var k=0,p=o.length;k<p;k++){var d=jQuery(o[k]).data("raised-id");var r=o[k].value;b.push({raisedId:d,relatedId:r})}var j={timeSpent:n,logTimeIssueId:q,issueLinks:b};jQuery("#error-complete-session").empty();h[0].disabled=true;JIRA.SmartAjax.makeRequest({url:c,type:"POST",dataType:"json",data:BF.utils.bonJSONStringify(j),contentType:"application/json",complete:function(s,t,i){if(i.successful){g.find(".cancel").click();f()}else{h[0].disabled=false;var e=JSON.parse(i.data).errors;for(error in e){jQuery("#error-complete-session").append("<span>"+e[error].errorMessage+"</span><br/>")}}}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-common-resources', location = 'includes/js/utils/utils.js' */
if(typeof BF=="undefined"){window.BF={}}if(typeof BF.utils=="undefined"){BF.utils={}}BF.utils.bonJSONStringify=function(b){var a=JSON.stringify(b);if(a&&typeof(a)==="string"){if(/\?\?/.test(a)){var c="\\u003F";a=a.replace(/\?\?/g,c+c)}}return a};BF.utils.bonGetProp=function(a,b){if(!!a.prop){return a.prop(b)}else{return a.attr(b)}};BF.utils.bonSetProp=function(a,c,b){if(!!a.prop){a.prop(c,b)}else{a.attr(c,b)}};BF.utils.initOuterCSSFns=function(){var b=AJS.$.fn.outerHeight;AJS.$.fn.outerHeight=function(){return b.apply(this,[false])};var d=AJS.$.fn.outerWidth;AJS.$.fn.outerWidth=function(){return d.apply(this,[false])};var a=jQuery.fn.outerHeight;jQuery.fn.outerHeight=function(){return a.apply(this,[false])};var c=jQuery.fn.outerWidth;jQuery.fn.outerWidth=function(){return c.apply(this,[false])}};BF.utils.initOuterCSSFns();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:quick-session-dialog-resources', location = 'includes/js/quicksession/quick-session.js' */
if(typeof BF=="undefined"){window.BF={}}AJS.$(function(){var o=150;var g=0;var d=jQuery(window);var h={width:430,hideDelay:null,getArrowPath:function(p){return"M0,0L11,8,0,16"},calculatePositions:function(p,r,u,q){var t=r.target.offset();var s=d.scrollTop();return{displayAbove:false,popupCss:{position:"fixed",top:t.top-o-s,left:t.left-p.width()-11,right:"auto"},arrowCss:{position:"absolute",left:p.width()-1,right:"auto",top:o}}}};BF.quickSessionCreate=function(r,q){q=q+g;var p=function(w){var v=d.scrollTop();var t=jQuery("#inline-dialog-"+q);var s=r.offset();var x=s.top-o-v;var u=s.left-t.width()-11;t.css({top:x,left:u})};jQuery.extend(h,{initCallback:function(){d.bind("scroll resize",p)},hideCallback:function(){d.unbind("scroll resize",p)},});new AJS.InlineDialog(r,q,function(u,t,w){var v=jQuery(t).attr("data-session-id");var s=contextPath+"/rest/bonfire/1.0/quick-session/"+v;JIRA.SmartAjax.makeRequest({url:s,type:"GET",dataType:"json",contentType:"application/json",complete:function(A,B,y){var x=jQuery(u);x.empty();if(y.successful){var z={session:y.data,contextPath:contextPath};jQuery(BF.template.quicksession(z)).appendTo(u);f(u)}else{jQuery(BF.template.quicksessionError()).appendTo(u)}w()}})},h);jQuery(document).bind("showLayer",function(u,s,t){if(s&&s==="inlineDialog"&&t&&t.id&&t.id===q){t._validateClickToClose=function(v){if(jQuery(v.target).parents("#inline-dialog-"+t.id).length>0){return false}return true};jQuery("body").unbind("click."+t.id+".inline-dialog-check")}});g++};var f=function(r){var q=document.createElement("input");if(!("placeholder" in q)){var p=r.find(".bfq-placeholder");p.each(function(){var t=jQuery(this),s=jQuery("<label/>",{"class":"bfq-placeholder-label","for":this.id,text:t.attr("placeholder"),css:{fontFamily:t.css("fontFamily"),fontSize:t.css("fontSize")}}).insertBefore(t);t.focus(function(){s.hide()}).bind("blur change",function(){s.toggle(!jQuery(this).val().length)})})}q=null};var e=function(p){jQuery(".bfq-button").addClass("bfq-not-selected");jQuery(p).removeClass("bfq-not-selected")};var i=function(p){p.animate({scrollTop:p.scrollTop()+p.height()},500)};var m=function(p){p.find(".bfq-addinfo-edit").addClass("hidden");p.find(".bfq-addinfo-wiki").removeClass("hidden");p.find(".bfq-error").empty();p.find(".bfq-info-textarea").unbind("blur",b)};var l=function(r){var q=r.find(".bfq-note-display-container");var p=r.find(".bfq-note-edit");q.removeClass("hidden");p.addClass("hidden");r.find(".bfq-edit-error").empty();r.find(".bfq-note-textarea").unbind("blur",c);jQuery(".bfq-edit-note").live("click",n)};var n=function(t){t.preventDefault();var u=jQuery(this).closest(".bfq-note-container");var s=u.find(".bfq-note-display-container");var p=u.find(".bfq-note-edit");var r=u.find(".bfq-original-note").val();var q=u.find(".bfq-note-textarea");q.val(r);s.addClass("hidden");p.removeClass("hidden");q.focus();q.bind("blur",c);jQuery(".bfq-edit-note").die("click",n)};var j=function(q){var r=jQuery(this).closest(".bfq-additionalInfo");var p=r.data("blurTimeout");if(typeof p!="undefined"){clearTimeout(p);r.find(".bfq-info-textarea").focus()}};var k=function(q){var r=jQuery(this).closest(".bfq-note-container");var p=r.data("blurTimeout");if(typeof p!="undefined"){clearTimeout(p);r.find(".bfq-note-textarea").focus()}};var c=function(q){var r=jQuery(this).closest(".bfq-note-container");var p=setTimeout(function(){r.find(".bfq-note-edit-actions .bfq-submit").click()},5*1000);r.data("blurTimeout",p)};var b=function(q){var r=jQuery(this).closest(".bfq-additionalInfo");var p=setTimeout(function(){r.find(".bfq-add-info-actions .bfq-submit").click()},5*1000);r.data("blurTimeout",p)};var a=function(r,s){var q=JSON.parse(r.data).errors;for(error in q){var p=q[error].errorMessage;if(typeof p!=="undefined"){s.append("<span>"+p+"</span><br/>")}}};jQuery(".bfq-addinfo-tab").live("click",function(p){jQuery(".bfq-swappable-content").addClass("hidden");jQuery(".bfq-additionalInfo").removeClass("hidden");e(this)});jQuery(".bfq-notes-tab").live("click",function(p){jQuery(".bfq-swappable-content").addClass("hidden");jQuery(".bfq-notes").removeClass("hidden");e(this)});jQuery(".bfq-addinfo-wiki.bfq-editable").live("click",function(t){var p=jQuery(this);var u=p.closest(".bfq-additionalInfo");p.addClass("hidden");var q=u.find(".bfq-addinfo-edit");q.removeClass("hidden");var s=u.find(".bfq-original-addinfo").val();var r=q.find(".bfq-info-textarea");r.val(s);r.focus();u.find(".bfq-info-textarea").bind("blur",b)});jQuery(".bfq-add-info-actions .bfq-cancel").live("click",function(p){p.preventDefault();var q=jQuery(this).closest(".bfq-additionalInfo");m(q)});jQuery(".bfq-add-info-container").live("keydown",function(p){if(p.keyCode==27){p.preventDefault();var q=jQuery(this).closest(".bfq-additionalInfo");m(q)}if(p.ctrlKey&&(p.keyCode==13||p.keyCode==10)){p.preventDefault();var q=jQuery(this).closest(".bfq-additionalInfo");q.find(".bfq-add-info-actions .bfq-submit").click()}});jQuery(".bfq-add-info-actions").live("click",j);jQuery(".bfq-add-info-container").live("click",j);jQuery(".bfq-add-info-actions .bfq-submit").live("click",function(w){var x=jQuery(this).closest(".bfq-additionalInfo");var v=x.find(".bfq-original-addinfo");var q=x.find(".bfq-addinfo-wiki");var s=x.find(".bfq-error");var r=x.find(".bfq-waiting-icon");var u=x.find(".bfq-session-id").val();var p=contextPath+"/rest/bonfire/1.0/sessions/"+u+"/additionalInfo";var y=x.find(".bfq-info-textarea").val();var t={additionalInfo:y};s.empty();r.removeClass("hidden");JIRA.SmartAjax.makeRequest({url:p,type:"POST",dataType:"json",data:BF.utils.bonJSONStringify(t),contentType:"application/json",complete:function(A,B,z){r.addClass("hidden");if(z.successful){if(z.data.isEmpty){q.html(BF.template.getNoAddInfoMsg())}else{q.html(z.data.additionalInfoDisplay)}v.text(z.data.additionalInfoRaw);m(x)}else{a(z,s)}}})});jQuery(".bfq-add-note-textarea").live("focus",function(){var p=jQuery(this).closest(".bfq-notes");p.find(".bfq-note-button").removeClass("hidden");i(p)});jQuery(".bfq-add-note-textarea").live("keydown",function(p){if(p.ctrlKey&&(p.keyCode==13||p.keyCode==10)){p.preventDefault();var q=jQuery(this).closest(".bfq-notes");q.find(".bfq-note-button").click()}});jQuery(".bfq-note-button").live("click",function(){var u=jQuery(this).closest(".bfq-notes");var t=u.find(".bfq-session-id").val();var w=u.find(".bfq-add-note-textarea");var q=w.val();var v=u.find(".bfq-error.bfq-addnote-error");var r=u.find(".bfq-allnotes");var p=contextPath+"/rest/bonfire/1.0/sessions/"+t+"/note";var s={note:q};v.empty();JIRA.SmartAjax.makeRequest({url:p,type:"POST",dataType:"json",data:BF.utils.bonJSONStringify(s),contentType:"application/json",complete:function(y,z,x){if(x.successful){w.val("");r.find("em").remove();r.append(BF.template.drawnote({note:x.data}))}else{a(x,v)}i(u)}})});jQuery(".bfq-delete-note").live("click",function(t){t.preventDefault();if(confirm("Are you sure you want to delete this session note?")){var u=jQuery(this).closest(".bfq-note-container");var s=u.closest(".bfq-allnotes");var r=u.find(".bfq-note-id").val();var p=u.find(".bfq-error");var q=contextPath+"/rest/bonfire/1.0/notes/"+r;p.empty();JIRA.SmartAjax.makeRequest({url:q,type:"DELETE",dataType:"json",contentType:"application/json",complete:function(x,y,w){if(w.successful){u.remove();var v=s.find(".bfq-note-container").size();if(!v){s.html(BF.template.getNoNoteMsg())}}else{a(w,p)}}})}});jQuery(".bfq-note-data").live("click",function(p){var q=jQuery(this).closest(".bfq-note-container");q.find(".bfq-edit-note").click()});jQuery(".bfq-edit-note").live("click",n);jQuery(".bfq-note-edit-actions").live("click",k);jQuery(".bfq-note-edit-container").live("click",k);jQuery(".bfq-note-edit-actions .bfq-cancel").live("click",function(p){var q=jQuery(this).closest(".bfq-note-container");l(q)});jQuery(".bfq-note-edit-container").live("keydown",function(p){if(p.keyCode==27){p.preventDefault();var q=jQuery(this).closest(".bfq-note-container");l(q)}if(p.ctrlKey&&(p.keyCode==13||p.keyCode==10)){p.preventDefault();var q=jQuery(this).closest(".bfq-note-container");q.find(".bfq-note-edit-actions .bfq-submit").click()}});jQuery(".bfq-note-edit-actions .bfq-submit").live("click",function(t){var w=jQuery(this).closest(".bfq-note-container");var p=w.find(".bfq-note-id").val();var q=contextPath+"/rest/bonfire/1.0/notes/"+p;var u=w.find(".bfq-edit-error");var x=w.find(".bfq-note-textarea").val();var y=w.find(".bfq-note-data");var v=w.find(".bfq-original-note");var r=w.find(".bfq-waiting-icon");var s={noteData:x};u.empty();r.removeClass("hidden");JIRA.SmartAjax.makeRequest({url:q,type:"PUT",dataType:"json",data:BF.utils.bonJSONStringify(s),contentType:"application/json",complete:function(A,B,z){r.addClass("hidden");if(z.successful){y.html(z.data.noteData);v.text(z.data.rawNoteData);l(w)}else{a(z,u)}}})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:quick-session-dialog-resources', location = 'includes/soy/quicksession/quick-session.soy' */
// This file was automatically generated from quick-session.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace BF.template.
 */

if (typeof BF == 'undefined') { var BF = {}; }
if (typeof BF.template == 'undefined') { BF.template = {}; }


BF.template.quicksession = function(opt_data, opt_ignored) {
  var output = '<div class="bfq-main-container"><div class="bfq-header"><div class="bfq-name-container"><a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewSession.jspa?testSessionId=' + soy.$$escapeHtml(opt_data.session.id) + '" class="bfq-session-name" title="' + soy.$$escapeHtml(opt_data.session.name) + '">' + soy.$$escapeHtml(opt_data.session.name) + '</a></div><div class="bfq-button-container"><span class="bfq-button bfq-first bfq-addinfo-tab">' + soy.$$escapeHtml('Additional information') + '</span><span class="bfq-button bfq-last bfq-not-selected bfq-notes-tab">' + soy.$$escapeHtml('Notes') + '</span></div></div><div class="bfq-main-content"><div class="bfq-swappable-content bfq-additionalInfo"><div class="bfq-addinfo-wiki ' + ((opt_data.session.canEditSession) ? 'bfq-editable' : '') + '" ' + ((opt_data.session.canEditSession) ? 'title="' + soy.$$escapeHtml('Click to edit') + '"' : '') + '>' + ((opt_data.session.hasAdditionalInfo) ? soy.$$filterNoAutoescape(opt_data.session.additionalInfo) : (opt_data.session.canEditSession) ? '<em>' + soy.$$escapeHtml('Click here to add additional information') + '</em>' : soy.$$escapeHtml('There is no additional information for this session.')) + '</div>' + ((opt_data.session.canEditSession) ? '<input class="bfq-session-id" type="hidden" value="' + soy.$$escapeHtml(opt_data.session.id) + '"/><textarea class="bfq-original-addinfo hidden">' + soy.$$escapeHtml(opt_data.session.rawAdditionalInfo) + '</textarea><div class="bfq-addinfo-edit hidden"><div class="bfq-error"></div><div class="bfq-add-info-container"><textarea class="bfq-info-textarea"></textarea></div><div class="bfq-inline-button-container bfq-add-info-actions">' + BF.template.drawInlineEditButtons(null) + '</div></div>' : '') + '</div><div class="bfq-swappable-content bfq-notes hidden"><input class="bfq-session-id" type="hidden" value="' + soy.$$escapeHtml(opt_data.session.id) + '"/><div class="bfq-allnotes bfq-table">';
  if (opt_data.session.hasNotes) {
    var noteList53 = opt_data.session.notes;
    var noteListLen53 = noteList53.length;
    for (var noteIndex53 = 0; noteIndex53 < noteListLen53; noteIndex53++) {
      var noteData53 = noteList53[noteIndex53];
      output += BF.template.drawnote({note: noteData53});
    }
  } else {
    output += '<em>' + soy.$$escapeHtml('There are no notes for this session yet.') + '</em>';
  }
  output += '</div>' + ((opt_data.session.canAddNote) ? '<div class="bfq-add-note-container"><textarea class="bfq-add-note-textarea bfq-placeholder" placeHolder="Add note"></textarea></div><div class="bfq-error bfq-addnote-error"></div><div class="bfq-add-note-actions"><span class="bfq-note-button hidden">Add Note</span></div>' : '') + '</div></div></div>';
  return output;
};
if (goog.DEBUG) {
  BF.template.quicksession.soyTemplateName = 'BF.template.quicksession';
}


BF.template.drawnote = function(opt_data, opt_ignored) {
  return '<div class="bfq-note-container"><input class="bfq-note-id" type="hidden" value="' + soy.$$escapeHtml(opt_data.note.id) + '"/><div class="bfq-note-left"><img src="' + soy.$$escapeHtml(opt_data.note.userIconUrl) + '" title="Author: ' + soy.$$escapeHtml(opt_data.note.authorDisplayName) + '" width="32px" height="32px"/></div><div class="bfq-note-right"><div class="bfq-note-display-container"><div class="bfq-note-data ' + ((opt_data.note.canEdit) ? 'bfq-editable' : '') + '" ' + ((opt_data.note.canEdit) ? 'title="' + soy.$$escapeHtml('Click to edit') + '"' : '') + '>' + soy.$$filterNoAutoescape(opt_data.note.noteData) + '</div><div class="bfq-error"></div><div class="bfq-note-ops"><span class="bfq-timestamp">' + soy.$$escapeHtml(opt_data.note.createdDate) + ' ' + soy.$$escapeHtml(opt_data.note.createdTime) + '</span>' + ((opt_data.note.canEdit) ? '<a href="#" class="bfq-note-op bfq-edit-note" title="' + soy.$$escapeHtml('Click to edit') + '">edit</a><a href="#" class="bfq-note-op bfq-delete-note" title="' + soy.$$escapeHtml('Click to delete') + '">delete</a>' : '') + '</div></div>' + ((opt_data.note.canEdit) ? '<textarea class="bfq-original-note hidden">' + soy.$$escapeHtml(opt_data.note.rawNoteData) + '</textarea><div class="bfq-note-edit hidden"><div class="bfq-edit-error"></div><div class="bfq-note-edit-container"><textarea class="bfq-note-textarea"></textarea></div><div class="bfq-inline-button-container bfq-note-edit-actions">' + BF.template.drawInlineEditButtons(null) + '</div></div>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  BF.template.drawnote.soyTemplateName = 'BF.template.drawnote';
}


BF.template.getNoAddInfoMsg = function(opt_data, opt_ignored) {
  return '<em>' + soy.$$escapeHtml('Click here to add additional information') + '</em>';
};
if (goog.DEBUG) {
  BF.template.getNoAddInfoMsg.soyTemplateName = 'BF.template.getNoAddInfoMsg';
}


BF.template.getNoNoteMsg = function(opt_data, opt_ignored) {
  return '<em>' + soy.$$escapeHtml('There are no notes for this session yet.') + '</em>';
};
if (goog.DEBUG) {
  BF.template.getNoNoteMsg.soyTemplateName = 'BF.template.getNoNoteMsg';
}


BF.template.drawInlineEditButtons = function(opt_data, opt_ignored) {
  return '<span class="bfq-waiting-icon hidden"></span><button class="bfq-inline-edit-buttons bfq-submit" type="submit"><span class="bfq-inline-edit-button-icons bfq-tick-icon"></span></button><button class="bfq-inline-edit-buttons bfq-cancel" type="cancel" class="cancel" href="#"><span class="bfq-inline-edit-button-icons bfq-cross-icon"></span></button>';
};
if (goog.DEBUG) {
  BF.template.drawInlineEditButtons.soyTemplateName = 'BF.template.drawInlineEditButtons';
}


BF.template.quicksessionError = function(opt_data, opt_ignored) {
  return '<div class="bfq-main-container bfq-error-main"><div class="bfq-error-container"><div class="aui-message error shadowed"><span class="aui-icon icon-error"></span><p>' + soy.$$escapeHtml('Session was not found. The session or the project it belonged to may have been deleted. Please check that the session still exists on the server. ') + '</p></div></div></div>';
};
if (goog.DEBUG) {
  BF.template.quicksessionError.soyTemplateName = 'BF.template.quicksessionError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-test-session-dialog-assets', location = 'includes/js/sessions/test-session-dialog.js' */
AJS.$(function(){if(!AJS.FormPopup){AJS.FormPopup=JIRA.FormDialog}var d=function(){AJS.reloadViaWindowLocation(window.location.href)};var g={data:{inline:true,decorator:"dialog"}};var i=function(m,l){var j={preMsg:m.getResponseHeader("X-Atlassian-Dialog-Msg-Html-Pre"),postMsg:m.getResponseHeader("X-Atlassian-Dialog-Msg-Html-Post")};if(j.preMsg){j.msg=j.preMsg+l+j.postMsg;var k=m.getResponseHeader("X-Atlassian-Dialog-Msg-Type");j.type=k?k.toUpperCase():k;j.closeable=(m.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable")==="true");j.target=m.getResponseHeader("X-Atlassian-Dialog-Msg-Target");return j}};var e=function(){if(JIRA.SessionStorage){var m="jira.messages.reloadMessageMsg",j="jira.messages.reloadMessageType",l="jira.messages.reloadMessageCloseable",k="jira.messages.reloadMessageTarget";JIRA.SessionStorage.removeItem(m);JIRA.SessionStorage.removeItem(j);JIRA.SessionStorage.removeItem(l);JIRA.SessionStorage.removeItem(k)}};var b=function(m,n,o,k){if(this.options.bonfireStayOnPage){var l=AJS.escapeHtml(jQuery(this.$form).find("#ex-session-name").val());var j=i(n,l);if(j){if(JIRA.Messages===undefined){Bonfire.Messages.showMsg(j)}else{JIRA.Messages.showMsg(j.msg,{type:JIRA.Messages.Types[j.type],closeable:j.closeable,target:j.target});e()}}}};var h=function(k,l,m,j){if(this.options.bonfireStayOnPage){return}d()};new AJS.FormPopup({trigger:"#create-test-session.no-refresh",id:"capture-create-test-session",autoClose:true,bonfireStayOnPage:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:".bf-create-session.no-refresh",id:"capture-create-test-session",autoClose:true,bonfireStayOnPage:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#create-test-session:not(.no-refresh)",id:"capture-create-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:".issueaction-create-test-session",id:"capture-create-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#clone-test-session",autoClose:true,bonfireStayOnPage:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#assign-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#edit-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#delete-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#pause-test-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#unshare-test-session-confirm",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:"#add-raised-to-session",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:".bf-add-raised-issues-link",autoClose:true,onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});new AJS.FormPopup({trigger:'a[title="Create test session"][class="aui-list-item-link"]',onSuccessfulSubmit:b,onDialogFinished:h,ajaxOptions:g});jQuery(document).bind("dialogContentReady",function(k,l){var j=bfjQueryoverride("#ex-assignee");j.autocomplete({source:function(n,m){jQuery.getJSON(contextPath+"/rest/bonfire/latest/userSearch",n,function(o){m(o.searchResult)})},minLength:1});AJS.$(document.body).find(".bonfire-issuepicker").each(function(){var n=AJS.$(this);var m=274;new JIRA.IssuePicker({element:n,width:m,uppercaseUserEnteredOnSelect:true});AJS.$("#"+n.attr("id")+"-textarea").attr("tabindex",n.attr("tabindex"))});BF.bindCompleteSessionCommon(k,l);jQuery("#bonfire-complete-button").bind("click",function(n){var m=jQuery(this);BF.bindCompleteSubmit(n,m,d)})});jQuery(".bf-twixy").live("click",function(k){var j=jQuery(this);j.toggleClass("bf-twix-open")});var f=function(k,j){JIRA.SmartAjax.makeRequest({url:k,type:j,dataType:"json",contentType:"application/json",complete:function(m,n,l){d()}})};jQuery(".bf-delete-raised-in").live("click",function(k){k.preventDefault();if(confirm("Are you sure you want to remove this issue from this test session's list of raised issues?")){var j=this.href;f(j,"DELETE")}});jQuery(".gf-post-trigger").live("click",function(k){k.preventDefault();var j=this.href;f(j,"POST")});jQuery(".gf-delete-trigger").live("click",function(k){k.preventDefault();var j=this.href;f(j,"DELETE")});new AJS.FormPopup({trigger:".gf-dialog-link-trigger",autoClose:true,onDialogFinished:h,ajaxOptions:g});var c=AJS.FormPopup.extend({_submitForm:function(j){j.preventDefault()}});new c({trigger:"#gf-complete-dialog",id:"capture-complete-test-session",autoClose:true,onSuccessfulSubmit:h,onUnSuccessfulSubmit:h,onDialogFinished:h,ajaxOptions:g,width:"100%"});var a=function(){jQuery.each(jQuery(".bf-view-session-button"),function(){var k="bf-dialog";var l=jQuery(this);BF.quickSessionCreate(l,k)});try{AJS.Dropdown.create({trigger:jQuery(".bf-more-button .bf-more-trigger"),content:jQuery(".bf-more-button .aui-list"),alignment:AJS.RIGHT})}catch(j){}};a();JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(l,j,k){a()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-test-session-dialog-assets', location = 'includes/js/msg/bonfire-client-msg.js' */
jQuery.namespace("Bonfire.Messages");Bonfire.Messages.showMsg=function(b){var d=function(i){var f=jQuery("body").width();var g=jQuery("#header");var h=g.offset().top+g.outerHeight()+10;i.width("auto");i.css({width:"auto",left:(f-i.width())/2,top:h,margin:0,padding:"1em"})};var a=jQuery(b.target||"#session-top-bar");var e=jQuery("<div>");e.addClass("bonfire-msg aui-message "+b.type.toLowerCase());e.html(b.msg);e.prependTo(a);d(e);var c={opacity:0.2};e.delay(700).animate(c,2000,function(){e.remove()})};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-test-session-dialog', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-filtered-sessions-assets', location = 'includes/js/sessions/filtered-sessions.js' */
AJS.$(function(){var d=AJS.$;function g(j,k){if(k!==undefined){j.attr("checked",!!k)}return j.attr("checked")}function c(j,k){if(k!==undefined){j.attr("disabled",!!k)}return j.attr("disabled")}function e(k){var j=k.attr("data-initial");if(j===undefined){return""}return j}function h(j){var l=d("#filter-specifics.sessions"),k=l.find("input:checkbox");l.toggleClass("disabled",j);c(k,j)}var i=function(){var l=d("#sessionsFilterNothing");if(e(l)){var j=false;var k=d("#filter-specifics.sessions").find("input:checkbox").each(function(){var m=d(this);j=j||g(m)});if(!j){g(d("#sessionsFilterStatusCreated"),true)}}};var b=function(){var n=d("#sessionsFilterNothing");var l=d("#sessionsFilterApplied");var m=d("#sessionsFilterStatus");g(n,e(n));g(l,e(l));h(!e(l));var k=d("#filter-specifics.sessions").find("input:checkbox").each(function(){var o=d(this);g(o,e(o))});var j=m.find("option[data-initial]").val();m.val(j)};function f(j){var k=j.formToArray();return d.param(k)}var a=function(){while(d("#inline-dialog-session-sessions-filter").length){d("#inline-dialog-session-sessions-filter").remove()}var n=false;var m={useLiveEvents:true};var j=d("#session-filter.sessions");var l=AJS.InlineDialog(j,"session-sessions-filter",function(p,o,q){$filterForm=d("#bf-filter-form.sessions");if(!n&&$filterForm.length!==0){k(p,o,q,$filterForm);n=true}q();b()},m);var k=function(q,o,r,p){d(q).empty();p.appendTo(q).show().click(function(s){s.stopPropagation()});p.removeClass("hidden");d("#filter-close").click(function(s){s.preventDefault();l.hide()});p.delegate("input","click",function(){var s=d(this);var u=d("#sessionsFilterNothing");var t=d("#sessionsFilterApplied");if(s.attr("id")=="sessionsFilterNothing"){if(g(u)){g(t,false);h(true)}}if(s.attr("id")=="sessionsFilterApplied"){if(g(t)){g(u,false);h(false);i()}else{g(u,true);h(true)}}});p.submit(function(){p.removeData(AJS.DIRTY_FORM_VALUE);var t=f(p);var s=contextPath+p.attr("data-filer-url")+"&"+t;window.location.replace(s);return false});l.hideCallback=function(){b();p.removeData(AJS.DIRTY_FORM_VALUE)}}};a()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-filtered-sessions', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-editable-notes-assets', location = 'includes/js/notes/editable-notes.js' */
jQuery(function(h){var i=function(x){var v=jQuery(this).closest(".editable-note-target");var w=v.data("blurTimeout");if(typeof w!="undefined"){clearTimeout(w);v.find(".editable-note-input").focus()}};var e=function(w){var x=jQuery(this).closest(".editable-note-target");var v=setTimeout(function(){x.submit()},5*1000);x.data("blurTimeout",v)};function j(v,w){if(w!==undefined){v.attr("checked",!!w)}return v.attr("checked")}function g(v,w){if(w!==undefined){v.attr("disabled",!!w)}return v.attr("disabled")}function d(w){var v=w.attr("data-initial");if(v===undefined){return""}return v}var r=false,o=h("#bf-filter-form.notes");var c={hideCallback:function(){k();o.removeData(AJS.DIRTY_FORM_VALUE)}};function p(w){var y=h("#filter-specifics.notes"),x=y.find("input:checkbox"),v=y.find("select");y.toggleClass("disabled",w);g(x,w);g(v,w)}var a=function(){var x=h("#notesFilterNothing");if(d(x)){var v=false;var w=h("#filter-specifics.notes").find("input:checkbox").each(function(){var y=h(this);v=v||j(y)});if(!v){j(h("#notesFilterQuestion"),true)}}};var k=function(){var z=h("#notesFilterNothing");var x=h("#notesFilterApplied");var y=h("#notesFilterStatus");j(z,d(z));j(x,d(x));p(!d(x));var w=h("#filter-specifics.notes").find("input:checkbox").each(function(){var A=h(this);j(A,d(A))});var v=y.find("option[data-initial]").val();y.val(v)};var n=h("#session-filter.notes");var l=AJS.InlineDialog(n,"session-notes-filter",function(w,v,x){if(!r){o.appendTo(w).show().click(function(y){y.stopPropagation()});o.removeClass("hidden");h("#filter-close").click(function(y){y.preventDefault();l.hide()});r=true}x();k()},c);o.delegate("input","click",function(){var v=h(this);var x=h("#notesFilterNothing");var w=h("#notesFilterApplied");if(v.attr("id")=="notesFilterNothing"){if(j(x)){j(w,false);p(true)}}if(v.attr("id")=="notesFilterApplied"){if(j(w)){j(x,false);p(false);a()}else{j(x,true);p(true)}}});function m(v){var A=v.formToArray(),w=A.length,y;while(w--){y=A[w];if(y.name=="notesFilterStatus"){var z=y.value,x=z=="all";if(x||z=="complete"){A.push({name:"notesFilterComplete",value:"true"})}if(x||z=="incomplete"){A.push({name:"notesFilterIncomplete",value:"true"})}A.splice(w,1);break}}return h.param(A)}o.submit(function(){o.removeData(AJS.DIRTY_FORM_VALUE);var w=m(o);var v=contextPath+o.attr("data-filer-url")+"&"+w;window.location.replace(v);return false});var s=jQuery(".editable-note-target.flash");s.delay(700).animate({backgroundColor:"#ffffff"},1800,function(){s.removeClass("flash");s.css("backgroundColor","")});var u;function b(){if(u){u.removeClass("active");u.find(".editable-note-input-container").removeClass("active");u.find(".editable-note-buttons").addClass("hidden");u.find(".editable-note-readonly").addClass("active");u.find(".warning").empty();u.closest("form").removeData(AJS.DIRTY_FORM_VALUE);var v=u.find(".editable-note-input");v.unbind("blur",e);u=null}}function t(w){var y=w.closest(".editable-note-content");var v=y.attr("data-note-id");var x=y.attr("data-session-id");w.html('<input type="hidden" name="noteId" value="'+v+'"> <input type="hidden" name="testSessionId" value="'+x+'"> <textarea class="editable-note-input" name="noteText"></textarea><span class="bf-note-waiting-icon hidden"></span>');w.bind("keydown",function(A){if(A.keyCode==27){b()}});var z=w.find(".editable-note-input");z.keypress(submitOnCtrlEnter);return z}function q(A){b();var v=A.find(".editable-note-readonly");var w=A.find(".editable-note-input-container");var z=A.find(".editable-note-buttons");var y=A.find(".editable-note-original");var x=t(w);x.val(y.val());x.expandOnInput();v.removeClass("active");w.addClass("active");z.removeClass("hidden");A.addClass("active");x.focus().triggerHandler("input");x.bind("blur",e);u=A}jQuery(".editable-note-readonly.editable").bind("click",function(w){var v=h(w.target);if(v.is("span.editable-note-delete-button")||v.closest("a, .editable-note-readonly").is("a")){return}q(h(this).closest(".editable-note-target"))});jQuery(".editable-note-buttons .bf-cancel").bind("click",function(v){v.preventDefault();b()});jQuery(".editable-note-input-container").bind("click",i);jQuery(".editable-note-buttons").bind("click",i);jQuery(".bf-toggle-note-link").bind("click",function(z){z.preventDefault();var v=jQuery(this);var y=v.attr("data-note-id");var w=contextPath+"/rest/bonfire/1.0/notes/"+y+"/toggleResolution";var x=jQuery("#session-note-"+y);jQuery("#error-"+y).empty();JIRA.SmartAjax.makeRequest({url:w,type:"POST",dataType:"json",data:"[]",contentType:"application/json",complete:function(D,E,C){if(C.successful){var B="completed";if(C.data.resolutionState==="COMPLETED"){noteStatusChangeInJira("Complete");x.addClass(B);v.find("a").text("Reopen")}else{noteStatusChangeInJira("Uncomplete");x.removeClass(B);v.find("a").text("Complete")}}else{var A=JSON.parse(C.data).errors;for(error in A){jQuery("#error-"+y).append("<span>"+A[error].errorMessage+"</span><br/>")}}}})});jQuery(".bf-edit-note-link").bind("click",function(y){y.preventDefault();y.stopPropagation();var v=jQuery(this);var x=v.attr("data-note-id");var w=jQuery("#session-note-"+x);q(w)});jQuery(".bf-delete-note-link").bind("click",function(x){x.preventDefault();if(confirm("Are you sure you want to delete this session note?")){var v=jQuery(this);var w=v.attr("data-note-id");noteStatusChangeInJira("Delete");jQuery("#note-delete-form-"+w).submit()}});jQuery(".editable-note-delete-button").bind("click",function(x){if(confirm("Are you sure you want to delete this session note?")){x.preventDefault();var w=jQuery(this);var y=w.closest(".editable-note-content");var v=y.attr("data-note-id");noteStatusChangeInJira("Delete");jQuery("#note-delete-form-"+v).submit()}});jQuery(".edit-note-form").bind("submit",function(C){var x=jQuery(this);var v=x.attr("data-note-id");var w=contextPath+"/rest/bonfire/1.0/notes/"+v;var A=contextPath+x.find("[name=returnUrl]").val();var D=x.find(".editable-note-wiki-wrapper");var B=x.find(".editable-note-original");var E=x.find(".editable-note-input").val();var y=x.find(".bf-note-waiting-icon");var z={noteData:E};jQuery("#error-"+v).empty();y.removeClass("hidden");JIRA.SmartAjax.makeRequest({url:w,type:"PUT",dataType:"json",data:BF.utils.bonJSONStringify(z),contentType:"application/json",complete:function(H,I,G){y.addClass("hidden");if(G.successful){D.html(G.data.noteData);B.text(G.data.rawNoteData);if(G.data.resolutionState==="NON_ACTIONABLE"){jQuery("#bf-toggle-"+v).addClass("hidden");x.find(".editable-note-target").removeClass("completed")}else{jQuery("#bf-toggle-"+v).removeClass("hidden")}noteStatusChangeInJira("Update");b()}else{var F=JSON.parse(G.data).errors;for(error in F){jQuery("#error-"+v).append("<span>"+F[error].errorMessage+"</span><br/>")}}}});return false});jQuery(".editable-note-resolution-control").bind("click",function(z){var w=jQuery(this);var y=w.attr("data-note-id");var x=contextPath+"/rest/bonfire/1.0/notes/"+y+"/toggleResolution";var v=w.closest(".editable-note-target");jQuery("#error-"+y).empty();JIRA.SmartAjax.makeRequest({url:x,type:"POST",dataType:"json",data:"[]",contentType:"application/json",complete:function(D,E,C){if(C.successful){var B="completed";w.attr("data-note-id",C.data.id);if(C.data.resolutionState==="COMPLETED"){noteStatusChangeInJira("Complete");v.addClass(B)}else{noteStatusChangeInJira("Uncomplete");v.removeClass(B)}}else{var A=JSON.parse(C.data).errors;for(error in A){jQuery("#error-"+y).append("<span>"+A[error].errorMessage+"</span><br/>")}}}})});var f=h(".editable-note-target .bonfire-error");if(f){q(f.closest(".editable-note-target"))}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-editable-notes', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/aui-amd.js' */
define("dndattachment/aui/dialog2",function(){return AJS.dialog2});define("dndattachment/aui/escape-html",function(){return AJS.escapeHtml});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/dnd-template-wrapper.js' */
define("dndattachment/templates",function(){return window.JIRA.Templates.DnDAttachmentPlugin});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.22.2', location = 'libs/moment/2.22.2/moment-2.22.2.js' */
'use strict';(function(g){define("atlassian/libs/moment-2.22.2",function(){var A={};g.call(A);return A.moment})})(function(){(function(g,A){g.moment=A()})(this,function(){function g(){return dc.apply(null,arguments)}function A(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function ma(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function B(a){return void 0===a}function fa(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}
function wa(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function mb(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function v(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function S(a,b){for(var c in b)v(b,c)&&(a[c]=b[c]);v(b,"toString")&&(a.toString=b.toString);v(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function K(a,b,c,d){return nb(a,b,c,d,!0).utc()}function n(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,
charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function Oa(a){if(null==a._isValid){var b=n(a),c=ec.call(b.parsedDateParts,function(a){return null!=a});c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===
b.unusedTokens.length&&void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function xa(a){var b=K(NaN);null!=a?S(n(b),a):n(b).userInvalidated=!0;return b}function Pa(a,b){var c;B(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);B(b._i)||(a._i=b._i);B(b._f)||(a._f=b._f);B(b._l)||(a._l=b._l);B(b._strict)||(a._strict=b._strict);B(b._tzm)||(a._tzm=b._tzm);B(b._isUTC)||(a._isUTC=b._isUTC);B(b._offset)||(a._offset=b._offset);B(b._pf)||(a._pf=
n(b));B(b._locale)||(a._locale=b._locale);if(0<Qa.length)for(c=0;c<Qa.length;c++){var d=Qa[c];var f=b[d];B(f)||(a[d]=f)}return a}function na(a){Pa(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Ra&&(Ra=!0,g.updateOffset(this),Ra=!1)}function T(a){return a instanceof na||null!=a&&null!=a._isAMomentObject}function E(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function l(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=E(a));return b}function ob(a,b,c){var d=
Math.min(a.length,b.length),f=Math.abs(a.length-b.length),U=0,h;for(h=0;h<d;h++)(c&&a[h]!==b[h]||!c&&l(a[h])!==l(b[h]))&&U++;return U+f}function pb(a){!1===g.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function F(a,b){var c=!0;return S(function(){null!=g.deprecationHandler&&g.deprecationHandler(null,a);if(c){for(var d=[],f,U=0;U<arguments.length;U++){f="";if("object"===typeof arguments[U]){f+="\n["+U+"] ";for(var h in arguments[0])f+=
h+": "+arguments[0][h]+", ";f=f.slice(0,-2)}else f=arguments[U];d.push(f)}pb(a+"\nArguments: "+Array.prototype.slice.call(d).join("")+"\n"+Error().stack);c=!1}return b.apply(this,arguments)},b)}function qb(a,b){null!=g.deprecationHandler&&g.deprecationHandler(a,b);rb[a]||(pb(b),rb[a]=!0)}function L(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function sb(a,b){var c=S({},a),d;for(d in b)v(b,d)&&(ma(a[d])&&ma(b[d])?(c[d]={},S(c[d],a[d]),S(c[d],b[d])):null!=
b[d]?c[d]=b[d]:delete c[d]);for(d in a)v(a,d)&&!v(b,d)&&ma(a[d])&&(c[d]=S({},c[d]));return c}function Sa(a){null!=a&&this.set(a)}function C(a,b){var c=a.toLowerCase();oa[c]=oa[c+"s"]=oa[b]=a}function G(a){return"string"===typeof a?oa[a]||oa[a.toLowerCase()]:void 0}function Ta(a){var b={},c,d;for(d in a)v(a,d)&&(c=G(d))&&(b[c]=a[d]);return b}function fc(a){var b=[],c;for(c in a)b.push({unit:c,priority:z[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function O(a,b,c){var d=""+Math.abs(a);
return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function m(a,b,c,d){var f=d;"string"===typeof d&&(f=function(){return this[d]()});a&&(ha[a]=f);b&&(ha[b[0]]=function(){return O(f.apply(this,arguments),b[1],b[2])});c&&(ha[c]=function(){return this.localeData().ordinal(f.apply(this,arguments),a)})}function gc(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function hc(a){var b=a.match(tb),c;var d=0;for(c=b.length;d<c;d++)b[d]=ha[b[d]]?ha[b[d]]:
gc(b[d]);return function(d){var f="",h;for(h=0;h<c;h++)f+=L(b[h])?b[h].call(d,a):b[h];return f}}function ya(a,b){if(!a.isValid())return a.localeData().invalidDate();b=ub(b,a.localeData());Ua[b]=Ua[b]||hc(b);return Ua[b](a)}function ub(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(za.lastIndex=0;0<=d&&za.test(a);)a=a.replace(za,c),za.lastIndex=0,--d;return a}function k(a,b,c){Va[a]=L(b)?b:function(a,f){return a&&c?c:b}}function ic(a,b){return v(Va,a)?Va[a](b._strict,b._locale):new RegExp(jc(a))}
function jc(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,f,e){return c||d||f||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function r(a,b){var c,d=b;"string"===typeof a&&(a=[a]);fa(b)&&(d=function(a,c){c[b]=l(a)});for(c=0;c<a.length;c++)Wa[a[c]]=d}function pa(a,b){r(a,function(a,d,f,e){f._w=f._w||{};b(a,f._w,f,e)})}function V(a){return 0===a%4&&0!==a%100||0===a%400}function ia(a,b){return function(c){return null!=c?(vb(this,
a,c),g.updateOffset(this,b),this):Aa(this,a)}}function Aa(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function vb(a,b,c){if(a.isValid()&&!isNaN(c))if("FullYear"===b&&V(a.year())&&1===a.month()&&29===a.date())a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),Ba(c,a.month()));else a._d["set"+(a._isUTC?"UTC":"")+b](c)}function Ba(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=(b%12+12)%12;return 1===c?V(a+(b-c)/12)?29:28:31-c%7%2}function wb(a,b){if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=
l(b);else if(b=a.localeData().monthsParse(b),!fa(b))return a;var c=Math.min(a.date(),Ba(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function xb(a){return null!=a?(wb(this,a),g.updateOffset(this,!0),this):Aa(this,"Month")}function yb(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f;for(f=0;12>f;f++){var e=K([2E3,f]);b.push(this.monthsShort(e,""));c.push(this.months(e,""));d.push(this.months(e,""));d.push(this.monthsShort(e,""))}b.sort(a);c.sort(a);d.sort(a);for(f=
0;12>f;f++)b[f]=aa(b[f]),c[f]=aa(c[f]);for(f=0;24>f;f++)d[f]=aa(d[f]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function kc(a,b,c,d,f,e,h){b=new Date(a,b,c,d,f,e,h);100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a);return b}function qa(a){var b=new Date(Date.UTC.apply(null,arguments));100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a);
return b}function Ca(a,b,c){c=7+b-c;return-((7+qa(a,0,c).getUTCDay()-b)%7)+c-1}function zb(a,b,c,d,f){c=(7+c-d)%7;d=Ca(a,d,f);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(V(b)?366:365)+d):d>(V(a)?366:365)?(b=a+1,a=d-(V(a)?366:365)):(b=a,a=d);return{year:b,dayOfYear:a}}function ra(a,b,c){var d=Ca(a.year(),b,c);d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-1,b=d+ba(a,b,c)):d>ba(a.year(),b,c)?(b=d-ba(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function ba(a,b,c){var d=Ca(a,b,c);b=Ca(a+
1,b,c);return((V(a)?366:365)-d+b)/7}function lc(a,b,c){var d;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d){var f=K([2E3,1]).day(d);this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase();this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase();this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase()}if(c)b="dddd"===b?w.call(this._weekdaysParse,a):"ddd"===b?w.call(this._shortWeekdaysParse,
a):w.call(this._minWeekdaysParse,a);else if("dddd"===b){b=w.call(this._weekdaysParse,a);if(-1!==b)return b;b=w.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=w.call(this._minWeekdaysParse,a)}else if("ddd"===b){b=w.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=w.call(this._weekdaysParse,a);if(-1!==b)return b;b=w.call(this._minWeekdaysParse,a)}else{b=w.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=w.call(this._weekdaysParse,a);if(-1!==b)return b;b=w.call(this._shortWeekdaysParse,
a)}return-1!==b?b:null}function Xa(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f=[],e;for(e=0;7>e;e++){var h=K([2E3,1]).day(e);var g=this.weekdaysMin(h,"");var k=this.weekdaysShort(h,"");h=this.weekdays(h,"");b.push(g);c.push(k);d.push(h);f.push(g);f.push(k);f.push(h)}b.sort(a);c.sort(a);d.sort(a);f.sort(a);for(e=0;7>e;e++)c[e]=aa(c[e]),d[e]=aa(d[e]),f[e]=aa(f[e]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysStrictRegex=
new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Ya(){return this.hours()%12||12}function Ab(a,b){m(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Bb(a,b){return b._meridiemParse}function Cb(a){return a?a.toLowerCase().replace("_","-"):a}function Da(a){var b=null;if(!x[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=
sa._abbr,require("./locale/"+a),ja(b)}catch(c){}return x[a]}function ja(a,b){a&&((b=B(b)?W(a):Za(a,b))?sa=b:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?"));return sa._abbr}function Za(a,b){if(null!==b){var c=Db;b.abbr=a;if(null!=x[a])qb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
c=x[a]._config;else if(null!=b.parentLocale)if(null!=x[b.parentLocale])c=x[b.parentLocale]._config;else if(c=Da(b.parentLocale),null!=c)c=c._config;else return ta[b.parentLocale]||(ta[b.parentLocale]=[]),ta[b.parentLocale].push({name:a,config:b}),null;x[a]=new Sa(sb(c,b));ta[a]&&ta[a].forEach(function(a){Za(a.name,a.config)});ja(a);return x[a]}delete x[a];return null}function W(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return sa;if(!A(a)){if(b=Da(a))return b;a=[a]}a:{b=0;for(var c,
d,f,e;b<a.length;){e=Cb(a[b]).split("-");c=e.length;for(d=(d=Cb(a[b+1]))?d.split("-"):null;0<c;){if(f=Da(e.slice(0,c).join("-"))){a=f;break a}if(d&&d.length>=c&&ob(e,d,!0)>=c-1)break;c--}b++}a=sa}return a}function $a(a){var b;(b=a._a)&&-2===n(a).overflow&&(b=0>b[P]||11<b[P]?P:1>b[M]||b[M]>Ba(b[H],b[P])?M:0>b[y]||24<b[y]||24===b[y]&&(0!==b[I]||0!==b[Q]||0!==b[ca])?y:0>b[I]||59<b[I]?I:0>b[Q]||59<b[Q]?Q:0>b[ca]||999<b[ca]?ca:-1,n(a)._overflowDayOfYear&&(b<H||b>M)&&(b=M),n(a)._overflowWeeks&&-1===b&&
(b=mc),n(a)._overflowWeekday&&-1===b&&(b=nc),n(a).overflow=b);return a}function ka(a,b,c){return null!=a?a:null!=b?b:c}function ab(a){var b=[];if(!a._d){var c=new Date(g.now());c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];if(a._w&&null==a._a[M]&&null==a._a[P]){var d=a._w;if(null!=d.GG||null!=d.W||null!=d.E){var f=1;var e=4;var h=ka(d.GG,a._a[H],ra(u(),1,4).year);var k=ka(d.W,1);var m=ka(d.E,1);if(1>m||7<m)var l=!0}else if(f=a._locale._week.dow,
e=a._locale._week.doy,k=ra(u(),f,e),h=ka(d.gg,a._a[H],k.year),k=ka(d.w,k.week),null!=d.d){if(m=d.d,0>m||6<m)l=!0}else if(null!=d.e){if(m=d.e+f,0>d.e||6<d.e)l=!0}else m=f;1>k||k>ba(h,f,e)?n(a)._overflowWeeks=!0:null!=l?n(a)._overflowWeekday=!0:(l=zb(h,k,m,f,e),a._a[H]=l.year,a._dayOfYear=l.dayOfYear)}if(null!=a._dayOfYear){l=ka(a._a[H],c[H]);if(a._dayOfYear>(V(l)?366:365)||0===a._dayOfYear)n(a)._overflowDayOfYear=!0;l=qa(l,0,a._dayOfYear);a._a[P]=l.getUTCMonth();a._a[M]=l.getUTCDate()}for(l=0;3>l&&
null==a._a[l];++l)a._a[l]=b[l]=c[l];for(;7>l;l++)a._a[l]=b[l]=null==a._a[l]?2===l?1:0:a._a[l];24===a._a[y]&&0===a._a[I]&&0===a._a[Q]&&0===a._a[ca]&&(a._nextDay=!0,a._a[y]=0);a._d=(a._useUTC?qa:kc).apply(null,b);b=a._useUTC?a._d.getUTCDay():a._d.getDay();null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[y]=24);a._w&&"undefined"!==typeof a._w.d&&a._w.d!==b&&(n(a).weekdayMismatch=!0)}}function Eb(a){var b;var c=a._i;var d=oc.exec(c)||pc.exec(c);if(d){n(a).iso=!0;c=0;for(b=
Ea.length;c<b;c++)if(Ea[c][1].exec(d[1])){var f=Ea[c][0];var e=!1!==Ea[c][2];break}if(null==f)a._isValid=!1;else{if(d[3]){c=0;for(b=bb.length;c<b;c++)if(bb[c][1].exec(d[3])){var h=(d[2]||" ")+bb[c][0];break}if(null==h){a._isValid=!1;return}}if(e||null==h){if(d[4])if(qc.exec(d[4]))var g="Z";else{a._isValid=!1;return}a._f=f+(h||"")+(g||"");cb(a)}else a._isValid=!1}}else a._isValid=!1}function Fb(a){var b=rc.exec(a._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,
""));if(b){var c=b[3],d=b[2],f=b[5],e=b[6],h=b[7],g=parseInt(b[4],10);c=[49>=g?2E3+g:999>=g?1900+g:g,Gb.indexOf(c),parseInt(d,10),parseInt(f,10),parseInt(e,10)];h&&c.push(parseInt(h,10));a:{if(h=b[1])if(h=Hb.indexOf(h),d=(new Date(c[0],c[1],c[2])).getDay(),h!==d){n(a).weekdayMismatch=!0;h=a._isValid=!1;break a}h=!0}h&&(a._a=c,(h=b[8])?b=sc[h]:b[9]?b=0:(b=parseInt(b[10],10),h=b%100,b=(b-h)/100*60+h),a._tzm=b,a._d=qa.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),n(a).rfc2822=!0)}else a._isValid=
!1}function tc(a){var b=uc.exec(a._i);null!==b?a._d=new Date(+b[1]):(Eb(a),!1===a._isValid&&(delete a._isValid,Fb(a),!1===a._isValid&&(delete a._isValid,g.createFromInputFallback(a))))}function cb(a){if(a._f===g.ISO_8601)Eb(a);else if(a._f===g.RFC_2822)Fb(a);else{a._a=[];n(a).empty=!0;var b=""+a._i,c,d,f=b.length,e=0;var h=ub(a._f,a._locale).match(tb)||[];for(c=0;c<h.length;c++){var k=h[c];if(d=(b.match(ic(k,a))||[])[0]){var l=b.substr(0,b.indexOf(d));0<l.length&&n(a).unusedInput.push(l);b=b.slice(b.indexOf(d)+
d.length);e+=d.length}if(ha[k]){if(d?n(a).empty=!1:n(a).unusedTokens.push(k),l=a,null!=d&&v(Wa,k))Wa[k](d,l._a,l,k)}else a._strict&&!d&&n(a).unusedTokens.push(k)}n(a).charsLeftOver=f-e;0<b.length&&n(a).unusedInput.push(b);12>=a._a[y]&&!0===n(a).bigHour&&0<a._a[y]&&(n(a).bigHour=void 0);n(a).parsedDateParts=a._a.slice(0);n(a).meridiem=a._meridiem;b=a._a;c=y;f=a._locale;h=a._a[y];e=a._meridiem;null!=e&&(null!=f.meridiemHour?h=f.meridiemHour(h,e):null!=f.isPM&&((f=f.isPM(e))&&12>h&&(h+=12),f||12!==h||
(h=0)));b[c]=h;ab(a);$a(a)}}function vc(a){if(!a._d){var b=Ta(a._i);a._a=mb([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});ab(a)}}function Ib(a){var b=a._i,c=a._f;a._locale=a._locale||W(a._l);if(null===b||void 0===c&&""===b)return xa({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(T(b))return new na($a(b));if(wa(b))a._d=b;else if(A(c))if(0===a._f.length)n(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++){c=
0;var d=Pa({},a);null!=a._useUTC&&(d._useUTC=a._useUTC);d._f=a._f[b];cb(d);if(Oa(d)&&(c+=n(d).charsLeftOver,c+=10*n(d).unusedTokens.length,n(d).score=c,null==f||c<f)){var f=c;var e=d}}S(a,e||d)}else c?cb(a):wc(a);Oa(a)||(a._d=null);return a}function wc(a){var b=a._i;B(b)?a._d=new Date(g.now()):wa(b)?a._d=new Date(b.valueOf()):"string"===typeof b?tc(a):A(b)?(a._a=mb(b.slice(0),function(a){return parseInt(a,10)}),ab(a)):ma(b)?vc(a):fa(b)?a._d=new Date(b):g.createFromInputFallback(a)}function nb(a,b,
c,d,f){var e={};if(!0===c||!1===c)d=c,c=void 0;var h;if(h=ma(a))a:if(h=a,Object.getOwnPropertyNames)h=0===Object.getOwnPropertyNames(h).length;else{for(var g in h)if(h.hasOwnProperty(g)){h=!1;break a}h=!0}if(h||A(a)&&0===a.length)a=void 0;e._isAMomentObject=!0;e._useUTC=e._isUTC=f;e._l=c;e._i=a;e._f=b;e._strict=d;a=new na($a(Ib(e)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function u(a,b,c,d){return nb(a,b,c,d,!1)}function Jb(a,b){var c;1===b.length&&A(b[0])&&(b=b[0]);if(!b.length)return u();
var d=b[0];for(c=1;c<b.length;++c)if(!b[c].isValid()||b[c][a](d))d=b[c];return d}function Fa(a){var b=Ta(a);a=b.year||0;var c=b.quarter||0,d=b.month||0,f=b.week||0,e=b.day||0,h=b.hour||0,g=b.minute||0,k=b.second||0,m=b.millisecond||0;a:{for(var n in b)if(-1===w.call(ua,n)||null!=b[n]&&isNaN(b[n])){b=!1;break a}n=!1;for(var p=0;p<ua.length;++p)if(b[ua[p]]){if(n){b=!1;break a}parseFloat(b[ua[p]])!==l(b[ua[p]])&&(n=!0)}b=!0}this._isValid=b;this._milliseconds=+m+1E3*k+6E4*g+36E5*h;this._days=+e+7*f;this._months=
+d+3*c+12*a;this._data={};this._locale=W();this._bubble()}function db(a){return a instanceof Fa}function eb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){m(a,0,0,function(){var a=this.utcOffset(),d="+";0>a&&(a=-a,d="-");return d+O(~~(a/60),2)+b+O(~~a%60,2)})}function fb(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(xc)||["-",0,0];b=+(60*a[1])+l(a[2]);return 0===b?0:"+"===a[0]?b:-b}function gb(a,b){return b._isUTC?(b=b.clone(),a=(T(a)||wa(a)?a.valueOf():
u(a).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+a),g.updateOffset(b,!1),b):u(a).local()}function Lb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function J(a,b){var c=a;db(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:fa(a)?(c={},b?c[b]=a:c.milliseconds=a):(b=yc.exec(a))?(c="-"===b[1]?-1:1,c={y:0,d:l(b[M])*c,h:l(b[y])*c,m:l(b[I])*c,s:l(b[Q])*c,ms:l(eb(1E3*b[ca]))*c}):(b=zc.exec(a))?(c="-"===b[1]?-1:1,c={y:da(b[2],c),M:da(b[3],c),w:da(b[4],c),d:da(b[5],c),h:da(b[6],c),m:da(b[7],
c),s:da(b[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(b=u(c.from),c=u(c.to),b.isValid()&&c.isValid()?(c=gb(c,b),b.isBefore(c)?c=Mb(b,c):(c=Mb(c,b),c.milliseconds=-c.milliseconds,c.months=-c.months),b=c):b={milliseconds:0,months:0},c={},c.ms=b.milliseconds,c.M=b.months);c=new Fa(c);db(a)&&v(a,"_locale")&&(c._locale=a._locale);return c}function da(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function Mb(a,b){var c={milliseconds:0,months:0};c.months=b.month()-
a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function Nb(a,b){return function(c,d){if(null!==d&&!isNaN(+d)){qb(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var f=c;c=d;d=f}c=J("string"===typeof c?+c:c,d);Ob(this,c,a);return this}}function Ob(a,b,c,d){var f=b._milliseconds,e=eb(b._days);
b=eb(b._months);a.isValid()&&(d=null==d?!0:d,b&&wb(a,Aa(a,"Month")+b*c),e&&vb(a,"Date",Aa(a,"Date")+e*c),f&&a._d.setTime(a._d.valueOf()+f*c),d&&g.updateOffset(a,e||b))}function hb(a,b){var c=12*(b.year()-a.year())+(b.month()-a.month()),d=a.clone().add(c,"months");0>b-d?(a=a.clone().add(c-1,"months"),b=(b-d)/(d-a)):(a=a.clone().add(c+1,"months"),b=(b-d)/(a-d));return-(c+b)||0}function Pb(a){if(void 0===a)return this._locale._abbr;a=W(a);null!=a&&(this._locale=a);return this}function Qb(){return this._locale}
function Ga(a,b){m(0,[a,a.length],0,b)}function Rb(a,b,c,d,f){if(null==a)return ra(this,d,f).year;var e=ba(a,d,f);b>e&&(b=e);a=zb(a,b,c,d,f);a=qa(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}function Ac(a,b){b[ca]=l(1E3*("0."+a))}function Sb(a){return a}function Ha(a,b,c,d){var f=W();b=K().set(d,b);return f[c](b,a)}function Tb(a,b,c){fa(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return Ha(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=
Ha(a,b,c,"month");return d}function ib(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);fa(b)&&(c=b,b=void 0);b=b||"";var f=W();a=a?f._week.dow:0;if(null!=c)return Ha(b,(c+a)%7,d,"day");f=[];for(c=0;7>c;c++)f[c]=Ha(b,(c+a)%7,d,"day");return f}function Ub(a,b,c,d){b=J(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function Vb(a){return 0>a?Math.floor(a):Math.ceil(a)}function X(a){return function(){return this.as(a)}}function ea(a){return function(){return this.isValid()?
this._data[a]:NaN}}function Bc(a,b,c,d,f){return f.relativeTime(b||1,!!c,a,d)}function la(a){return(0<a)-(0>a)||+a}function Ia(){if(!this.isValid())return this.localeData().invalidDate();var a=jb(this._milliseconds)/1E3,b=jb(this._days),c=jb(this._months);var d=E(a/60);var f=E(d/60);a%=60;d%=60;var e=E(c/12);c%=12;a=a?a.toFixed(3).replace(/\.?0+$/,""):"";var h=this.asSeconds();if(!h)return"P0D";var g=0>h?"-":"",k=la(this._months)!==la(h)?"-":"",l=la(this._days)!==la(h)?"-":"";h=la(this._milliseconds)!==
la(h)?"-":"";return g+"P"+(e?k+e+"Y":"")+(c?k+c+"M":"")+(b?l+b+"D":"")+(f||d||a?"T":"")+(f?h+f+"H":"")+(d?h+d+"M":"")+(a?h+a+"S":"")}var ec=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Qa=g.momentProperties=[],Ra=!1,rb={};g.suppressDeprecationWarnings=!1;g.deprecationHandler=null;var Cc=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)v(a,b)&&c.push(b);return c};var oa={},z=
{},tb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,za=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ua={},ha={},Wb=/\d/,D=/\d\d/,Xb=/\d{3}/,kb=/\d{4}/,Ja=/[+-]?\d{6}/,t=/\d\d?/,Yb=/\d\d\d\d?/,Zb=/\d\d\d\d\d\d?/,Ka=/\d{1,3}/,lb=/\d{1,4}/,La=/[+-]?\d{1,6}/,Dc=/\d+/,Ma=/[+-]?\d+/,Ec=/Z|[+-]\d\d:?\d\d/gi,Na=/Z|[+-]\d\d(?::?\d\d)?/gi,va=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
Va={},Wa={},H=0,P=1,M=2,y=3,I=4,Q=5,ca=6,mc=7,nc=8;m("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});m(0,["YY",2],0,function(){return this.year()%100});m(0,["YYYY",4],0,"year");m(0,["YYYYY",5],0,"year");m(0,["YYYYYY",6,!0],0,"year");C("year","y");z.year=1;k("Y",Ma);k("YY",t,D);k("YYYY",lb,kb);k("YYYYY",La,Ja);k("YYYYYY",La,Ja);r(["YYYYY","YYYYYY"],H);r("YYYY",function(a,b){b[H]=2===a.length?g.parseTwoDigitYear(a):l(a)});r("YY",function(a,b){b[H]=g.parseTwoDigitYear(a)});r("Y",function(a,
b){b[H]=parseInt(a,10)});g.parseTwoDigitYear=function(a){return l(a)+(68<l(a)?1900:2E3)};var $b=ia("FullYear",!0);var w=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};m("M",["MM",2],"Mo",function(){return this.month()+1});m("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});m("MMMM",0,0,function(a){return this.localeData().months(this,a)});C("month","M");z.month=8;k("M",t);k("MM",t,D);k("MMM",function(a,
b){return b.monthsShortRegex(a)});k("MMMM",function(a,b){return b.monthsRegex(a)});r(["M","MM"],function(a,b){b[P]=l(a)-1});r(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[P]=d:n(c).invalidMonth=a});var ac=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");m("w",["ww",2],"wo","week");m("W",["WW",2],"Wo","isoWeek");C("week","w");C("isoWeek","W");z.week=5;z.isoWeek=5;k("w",t);k("ww",t,D);k("W",t);k("WW",t,D);pa(["w","ww",
"W","WW"],function(a,b,c,d){b[d.substr(0,1)]=l(a)});m("d",0,"do","day");m("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});m("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});m("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});m("e",0,0,"weekday");m("E",0,0,"isoWeekday");C("day","d");C("weekday","e");C("isoWeekday","E");z.day=11;z.weekday=11;z.isoWeekday=11;k("d",t);k("e",t);k("E",t);k("dd",function(a,b){return b.weekdaysMinRegex(a)});k("ddd",
function(a,b){return b.weekdaysShortRegex(a)});k("dddd",function(a,b){return b.weekdaysRegex(a)});pa(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:n(c).invalidWeekday=a});pa(["d","e","E"],function(a,b,c,d){b[d]=l(a)});var Hb="Sun Mon Tue Wed Thu Fri Sat".split(" ");m("H",["HH",2],0,"hour");m("h",["hh",2],0,Ya);m("k",["kk",2],0,function(){return this.hours()||24});m("hmm",0,0,function(){return""+Ya.apply(this)+O(this.minutes(),2)});m("hmmss",0,0,function(){return""+
Ya.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)});m("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)});m("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)});Ab("a",!0);Ab("A",!1);C("hour","h");z.hour=13;k("a",Bb);k("A",Bb);k("H",t);k("h",t);k("k",t);k("HH",t,D);k("hh",t,D);k("kk",t,D);k("hmm",Yb);k("hmmss",Zb);k("Hmm",Yb);k("Hmmss",Zb);r(["H","HH"],y);r(["k","kk"],function(a,b,c){a=l(a);b[y]=24===a?0:a});r(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);
c._meridiem=a});r(["h","hh"],function(a,b,c){b[y]=l(a);n(c).bigHour=!0});r("hmm",function(a,b,c){var d=a.length-2;b[y]=l(a.substr(0,d));b[I]=l(a.substr(d));n(c).bigHour=!0});r("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[y]=l(a.substr(0,d));b[I]=l(a.substr(d,2));b[Q]=l(a.substr(e));n(c).bigHour=!0});r("Hmm",function(a,b,c){c=a.length-2;b[y]=l(a.substr(0,c));b[I]=l(a.substr(c))});r("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[y]=l(a.substr(0,c));b[I]=l(a.substr(c,2));b[Q]=l(a.substr(d))});
var Fc=ia("Hours",!0),Db={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",
hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Gb,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:Hb,meridiemParse:/[ap]\.?m?\.?/i},x={},ta={},sa,oc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
pc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qc=/Z|[+-]\d\d(?::?\d\d)?/,Ea=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bb=
[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],uc=/^\/?Date\((\-?\d+)/i,rc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sc={UT:0,GMT:0,EDT:-240,
EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};g.createFromInputFallback=F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});g.ISO_8601=function(){};
g.RFC_2822=function(){};var Gc=F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=u.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:xa()}),Hc=F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=u.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:xa()}),ua="year quarter month week day hour minute second millisecond".split(" ");
Kb("Z",":");Kb("ZZ","");k("Z",Na);k("ZZ",Na);r(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=fb(Na,a)});var xc=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var yc=/^(\-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;J.fn=Fa.prototype;J.invalid=function(){return J(NaN)};var Ic=Nb(1,"add"),Jc=Nb(-1,"subtract");g.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var bc=F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});m(0,["gg",2],0,function(){return this.weekYear()%100});m(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ga("gggg","weekYear");Ga("ggggg","weekYear");Ga("GGGG","isoWeekYear");Ga("GGGGG","isoWeekYear");C("weekYear",
"gg");C("isoWeekYear","GG");z.weekYear=1;z.isoWeekYear=1;k("G",Ma);k("g",Ma);k("GG",t,D);k("gg",t,D);k("GGGG",lb,kb);k("gggg",lb,kb);k("GGGGG",La,Ja);k("ggggg",La,Ja);pa(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=l(a)});pa(["gg","GG"],function(a,b,c,d){b[d]=g.parseTwoDigitYear(a)});m("Q",0,"Qo","quarter");C("quarter","Q");z.quarter=7;k("Q",Wb);r("Q",function(a,b){b[P]=3*(l(a)-1)});m("D",["DD",2],"Do","date");C("date","D");z.date=9;k("D",t);k("DD",t,D);k("Do",function(a,b){return a?
b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});r(["D","DD"],M);r("Do",function(a,b){b[M]=l(a.match(t)[0])});var cc=ia("Date",!0);m("DDD",["DDDD",3],"DDDo","dayOfYear");C("dayOfYear","DDD");z.dayOfYear=4;k("DDD",Ka);k("DDDD",Xb);r(["DDD","DDDD"],function(a,b,c){c._dayOfYear=l(a)});m("m",["mm",2],0,"minute");C("minute","m");z.minute=14;k("m",t);k("mm",t,D);r(["m","mm"],I);var Kc=ia("Minutes",!1);m("s",["ss",2],0,"second");C("second","s");z.second=15;k("s",t);k("ss",t,
D);r(["s","ss"],Q);var Lc=ia("Seconds",!1);m("S",0,0,function(){return~~(this.millisecond()/100)});m(0,["SS",2],0,function(){return~~(this.millisecond()/10)});m(0,["SSS",3],0,"millisecond");m(0,["SSSS",4],0,function(){return 10*this.millisecond()});m(0,["SSSSS",5],0,function(){return 100*this.millisecond()});m(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});m(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});m(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});m(0,
["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});C("millisecond","ms");z.millisecond=16;k("S",Ka,Wb);k("SS",Ka,D);k("SSS",Ka,Xb);var Y;for(Y="SSSS";9>=Y.length;Y+="S")k(Y,Dc);for(Y="S";9>=Y.length;Y+="S")r(Y,Ac);var Mc=ia("Milliseconds",!1);m("z",0,0,"zoneAbbr");m("zz",0,0,"zoneName");var e=na.prototype;e.add=Ic;e.calendar=function(a,b){a=a||u();var c=gb(a,this).startOf("day");c=g.calendarFormat(this,c)||"sameElse";b=b&&(L(b[c])?b[c].call(this,a):b[c]);return this.format(b||this.localeData().calendar(c,
this,u(a)))};e.clone=function(){return new na(this)};e.diff=function(a,b,c){if(!this.isValid())return NaN;a=gb(a,this);if(!a.isValid())return NaN;var d=6E4*(a.utcOffset()-this.utcOffset());b=G(b);switch(b){case "year":b=hb(this,a)/12;break;case "month":b=hb(this,a);break;case "quarter":b=hb(this,a)/3;break;case "second":b=(this-a)/1E3;break;case "minute":b=(this-a)/6E4;break;case "hour":b=(this-a)/36E5;break;case "day":b=(this-a-d)/864E5;break;case "week":b=(this-a-d)/6048E5;break;default:b=this-
a}return c?b:E(b)};e.endOf=function(a){a=G(a);if(void 0===a||"millisecond"===a)return this;"date"===a&&(a="day");return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};e.format=function(a){a||(a=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);a=ya(this,a);return this.localeData().postformat(a)};e.from=function(a,b){return this.isValid()&&(T(a)&&a.isValid()||u(a).isValid())?J({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.fromNow=function(a){return this.from(u(),
a)};e.to=function(a,b){return this.isValid()&&(T(a)&&a.isValid()||u(a).isValid())?J({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.toNow=function(a){return this.to(u(),a)};e.get=function(a){a=G(a);return L(this[a])?this[a]():this};e.invalidAt=function(){return n(this).overflow};e.isAfter=function(a,b){a=T(a)?a:u(a);if(!this.isValid()||!a.isValid())return!1;b=G(B(b)?"millisecond":b);return"millisecond"===b?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};
e.isBefore=function(a,b){a=T(a)?a:u(a);if(!this.isValid()||!a.isValid())return!1;b=G(B(b)?"millisecond":b);return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};e.isBetween=function(a,b,c,d){d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};e.isSame=function(a,b){a=T(a)?a:u(a);if(!this.isValid()||!a.isValid())return!1;b=G(b||"millisecond");if("millisecond"===b)return this.valueOf()===a.valueOf();
a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};e.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};e.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};e.isValid=function(){return Oa(this)};e.lang=bc;e.locale=Pb;e.localeData=Qb;e.max=Hc;e.min=Gc;e.parsingFlags=function(){return S({},n(this))};e.set=function(a,b){if("object"===typeof a){a=Ta(a);b=fc(a);for(var c=0;c<b.length;c++)this[b[c].unit](a[b[c].unit])}else if(a=
G(a),L(this[a]))return this[a](b);return this};e.startOf=function(a){a=G(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};e.subtract=Jc;e.toArray=function(){return[this.year(),this.month(),
this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};e.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};e.toDate=function(){return new Date(this.valueOf())};e.toISOString=function(a){if(!this.isValid())return null;var b=(a=!0!==a)?this.clone().utc():this;return 0>b.year()||9999<b.year()?ya(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):
L(Date.prototype.toISOString)?a?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",ya(b,"Z")):ya(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");a="["+a+'("]';var c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+
(b+'[")]'))};e.toJSON=function(){return this.isValid()?this.toISOString():null};e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};e.unix=function(){return Math.floor(this.valueOf()/1E3)};e.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};e.year=$b;e.isLeapYear=function(){return V(this.year())};e.weekYear=function(a){return Rb.call(this,
a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};e.isoWeekYear=function(a){return Rb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};e.quarter=e.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};e.month=xb;e.daysInMonth=function(){return Ba(this.year(),this.month())};e.week=e.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};e.isoWeek=e.isoWeeks=function(a){var b=
ra(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};e.weeksInYear=function(){var a=this.localeData()._week;return ba(this.year(),a.dow,a.doy)};e.isoWeeksInYear=function(){return ba(this.year(),1,4)};e.date=cc;e.day=e.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c=this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};
e.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};e.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};e.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:
this.add(a-b,"d")};e.hour=e.hours=Fc;e.minute=e.minutes=Kc;e.second=e.seconds=Lc;e.millisecond=e.milliseconds=Mc;e.utcOffset=function(a,b,c){var d=this._offset||0,e;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"===typeof a){if(a=fb(Na,a),null===a)return this}else 16>Math.abs(a)&&!c&&(a*=60);!this._isUTC&&b&&(e=15*-Math.round(this._d.getTimezoneOffset()/15));this._offset=a;this._isUTC=!0;null!=e&&this.add(e,"m");d!==a&&(!b||this._changeInProgress?Ob(this,J(a-d,"m"),1,!1):this._changeInProgress||
(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?d:15*-Math.round(this._d.getTimezoneOffset()/15)};e.utc=function(a){return this.utcOffset(0,a)};e.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};e.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var a=fb(Ec,this._i);null!=a?this.utcOffset(a):
this.utcOffset(0,!0)}return this};e.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?u(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};e.isLocal=function(){return this.isValid()?!this._isUTC:!1};e.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};e.isUtc=Lb;e.isUTC=Lb;e.zoneAbbr=function(){return this._isUTC?"UTC":""};e.zoneName=function(){return this._isUTC?
"Coordinated Universal Time":""};e.dates=F("dates accessor is deprecated. Use date instead.",cc);e.months=F("months accessor is deprecated. Use month instead",xb);e.years=F("years accessor is deprecated. Use year instead",$b);e.zone=F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});e.isDSTShifted=F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
function(){if(!B(this._isDSTShifted))return this._isDSTShifted;var a={};Pa(a,this);a=Ib(a);if(a._a){var b=a._isUTC?K(a._a):u(a._a);this._isDSTShifted=this.isValid()&&0<ob(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var q=Sa.prototype;q.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return L(a)?a.call(b,c):a};q.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=
c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});return this._longDateFormat[a]};q.invalidDate=function(){return this._invalidDate};q.ordinal=function(a){return this._ordinal.replace("%d",a)};q.preparse=Sb;q.postformat=Sb;q.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return L(e)?e(a,b,c,d):e.replace(/%d/i,a)};q.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return L(a)?a(b):a.replace(/%s/i,b)};q.set=function(a){var b;for(b in a){var c=a[b];L(c)?this[b]=
c:this["_"+b]=c}this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};q.months=function(a,b){return a?A(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ac).test(b)?"format":"standalone"][a.month()]:A(this._months)?this._months:this._months.standalone};q.monthsShort=function(a,b){return a?A(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ac.test(b)?"format":"standalone"][a.month()]:
A(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};q.monthsParse=function(a,b,c){var d;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d){var e=K([2E3,d]);this._shortMonthsParse[d]=this.monthsShort(e,"").toLocaleLowerCase();this._longMonthsParse[d]=this.months(e,"").toLocaleLowerCase()}if(c)b="MMM"===b?w.call(this._shortMonthsParse,a):w.call(this._longMonthsParse,a);
else if("MMM"===b){b=w.call(this._shortMonthsParse,a);if(-1!==b)break a;b=w.call(this._longMonthsParse,a)}else{b=w.call(this._longMonthsParse,a);if(-1!==b)break a;b=w.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=K([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+
this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};q.monthsRegex=function(a){if(this._monthsParseExact)return v(this,"_monthsRegex")||yb.call(this),a?this._monthsStrictRegex:this._monthsRegex;v(this,"_monthsRegex")||(this._monthsRegex=
va);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};q.monthsShortRegex=function(a){if(this._monthsParseExact)return v(this,"_monthsRegex")||yb.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;v(this,"_monthsShortRegex")||(this._monthsShortRegex=va);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};q.week=function(a){return ra(a,this._week.dow,this._week.doy).week};q.firstDayOfYear=function(){return this._week.doy};
q.firstDayOfWeek=function(){return this._week.dow};q.weekdays=function(a,b){return a?A(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:A(this._weekdays)?this._weekdays:this._weekdays.standalone};q.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin};q.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};q.weekdaysParse=function(a,b,c){var d;if(this._weekdaysParseExact)return lc.call(this,
a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++){var e=K([2E3,1]).day(d);c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i"));this._weekdaysParse[d]||
(e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(e.replace(".",""),"i"));if(c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d}};q.weekdaysRegex=function(a){if(this._weekdaysParseExact)return v(this,"_weekdaysRegex")||Xa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;v(this,"_weekdaysRegex")||
(this._weekdaysRegex=va);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};q.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return v(this,"_weekdaysRegex")||Xa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=va);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};q.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return v(this,
"_weekdaysRegex")||Xa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=va);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};q.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};q.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};ja("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=1===l(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":
"th";return a+b}});g.lang=F("moment.lang is deprecated. Use moment.locale instead.",ja);g.langData=F("moment.langData is deprecated. Use moment.localeData instead.",W);var R=Math.abs,Nc=X("ms"),Oc=X("s"),Pc=X("m"),Qc=X("h"),Rc=X("d"),Sc=X("w"),Tc=X("M"),Uc=X("y"),Vc=ea("milliseconds"),Wc=ea("seconds"),Xc=ea("minutes"),Yc=ea("hours"),Zc=ea("days"),$c=ea("months"),ad=ea("years"),Z=Math.round,N={ss:44,s:45,m:45,h:22,d:26,M:11},jb=Math.abs,p=Fa.prototype;p.isValid=function(){return this._isValid};p.abs=
function(){var a=this._data;this._milliseconds=R(this._milliseconds);this._days=R(this._days);this._months=R(this._months);a.milliseconds=R(a.milliseconds);a.seconds=R(a.seconds);a.minutes=R(a.minutes);a.hours=R(a.hours);a.months=R(a.months);a.years=R(a.years);return this};p.add=function(a,b){return Ub(this,a,b,1)};p.subtract=function(a,b){return Ub(this,a,b,-1)};p.as=function(a){if(!this.isValid())return NaN;var b=this._milliseconds;a=G(a);if("month"===a||"year"===a){var c=this._days+b/864E5;c=this._months+
4800*c/146097;return"month"===a?c:c/12}c=this._days+Math.round(146097*this._months/4800);switch(a){case "week":return c/7+b/6048E5;case "day":return c+b/864E5;case "hour":return 24*c+b/36E5;case "minute":return 1440*c+b/6E4;case "second":return 86400*c+b/1E3;case "millisecond":return Math.floor(864E5*c)+b;default:throw Error("Unknown unit "+a);}};p.asMilliseconds=Nc;p.asSeconds=Oc;p.asMinutes=Pc;p.asHours=Qc;p.asDays=Rc;p.asWeeks=Sc;p.asMonths=Tc;p.asYears=Uc;p.valueOf=function(){return this.isValid()?
this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*l(this._months/12):NaN};p._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*Vb(146097*c/4800+b),c=b=0);d.milliseconds=a%1E3;a=E(a/1E3);d.seconds=a%60;a=E(a/60);d.minutes=a%60;a=E(a/60);d.hours=a%24;b+=E(a/24);a=E(4800*b/146097);c+=a;b-=Vb(146097*a/4800);a=E(c/12);d.days=b;d.months=c%12;d.years=a;return this};p.clone=function(){return J(this)};p.get=function(a){a=
G(a);return this.isValid()?this[a+"s"]():NaN};p.milliseconds=Vc;p.seconds=Wc;p.minutes=Xc;p.hours=Yc;p.days=Zc;p.weeks=function(){return E(this.days()/7)};p.months=$c;p.years=ad;p.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData();var c=!a;var d=J(this).abs(),e=Z(d.as("s")),g=Z(d.as("m")),h=Z(d.as("h")),k=Z(d.as("d")),l=Z(d.as("M"));d=Z(d.as("y"));e=e<=N.ss&&["s",e]||e<N.s&&["ss",e]||1>=g&&["m"]||g<N.m&&["mm",g]||1>=h&&["h"]||h<N.h&&["hh",h]||1>=
k&&["d"]||k<N.d&&["dd",k]||1>=l&&["M"]||l<N.M&&["MM",l]||1>=d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Bc.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};p.toISOString=Ia;p.toString=Ia;p.toJSON=Ia;p.locale=Pb;p.localeData=Qb;p.toIsoString=F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ia);p.lang=bc;m("X",0,0,"unix");m("x",0,0,"valueOf");k("x",Ma);k("X",/[+-]?\d+(\.\d{1,3})?/);r("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});
r("x",function(a,b,c){c._d=new Date(l(a))});g.version="2.22.2";var dc=u;g.fn=e;g.min=function(){var a=[].slice.call(arguments,0);return Jb("isBefore",a)};g.max=function(){var a=[].slice.call(arguments,0);return Jb("isAfter",a)};g.now=function(){return Date.now?Date.now():+new Date};g.utc=K;g.unix=function(a){return u(1E3*a)};g.months=function(a,b){return Tb(a,b,"months")};g.isDate=wa;g.locale=ja;g.invalid=xa;g.duration=J;g.isMoment=T;g.weekdays=function(a,b,c){return ib(a,b,c,"weekdays")};g.parseZone=
function(){return u.apply(null,arguments).parseZone()};g.localeData=W;g.isDuration=db;g.monthsShort=function(a,b){return Tb(a,b,"monthsShort")};g.weekdaysMin=function(a,b,c){return ib(a,b,c,"weekdaysMin")};g.defineLocale=Za;g.updateLocale=function(a,b){if(null!=b){var c=Db;var d=Da(a);null!=d&&(c=d._config);b=sb(c,b);b=new Sa(b);b.parentLocale=x[a];x[a]=b;ja(a)}else null!=x[a]&&(null!=x[a].parentLocale?x[a]=x[a].parentLocale:null!=x[a]&&delete x[a]);return x[a]};g.locales=function(){return Cc(x)};
g.weekdaysShort=function(a,b,c){return ib(a,b,c,"weekdaysShort")};g.normalizeUnits=G;g.relativeTimeRounding=function(a){return void 0===a?Z:"function"===typeof a?(Z=a,!0):!1};g.relativeTimeThreshold=function(a,b){if(void 0===N[a])return!1;if(void 0===b)return N[a];N[a]=b;"s"===a&&(N.ss=b-1);return!0};g.calendarFormat=function(a,b){a=a.diff(b,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};g.prototype=e;g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",
DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};return g})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment-2.22.2"],function(n){return n});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(t,e){"use strict";function r(e){return u[e]||t.reduce(e,function(t,e){return t+(u[e]||e)},"")}function n(e){var n=!1,u=!1,a="",o=t.reduce(e,function(t,e,o,i){return u?u=!1:"'"===e?(a&&(t+=r(a),a=""),"'"===i[o+1]?(t+=e,u=!0):(t+=n?"]":"[",n=!n)):n?t+=e:/[a-zA-Z]/.test(e)?a&&a[a.length-1]!==e?(t+=r(a),a=e):a+=e:(a&&(t+=r(a),a=""),t+=e),t},"");return a&&(o+=r(a)),o}var u={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};e.translateSimpleDateFormat=n});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
!function(){"use strict";var e;define("jira/moment/moment.jira.datetime-formats",["wrm/data"],function(t){return e||(e=t.claim("jira.core:dateFormatProvider.allFormats")),e})}(),define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.datetime-formats","jira/moment/moment.jira.formatter","jira/util/formatter"],function(e,t,m,a){"use strict";var o=t.dateFormats,r=t.lookAndFeelFormats;return e.locale("jira",{months:o.months,monthsShort:o.monthsShort,weekdays:o.weekdays,weekdaysShort:o.weekdaysShort,weekdaysMin:o.weekdaysShort,longDateFormat:{LT:m.translateSimpleDateFormat(r.time),L:m.translateSimpleDateFormat(r.day),LL:m.translateSimpleDateFormat(r.dmy),LLL:m.translateSimpleDateFormat(r.complete)},meridiem:function(e){return o.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("in {0}","%s"),past:a.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:a.format("{0} minutes","%d"),h:"an hour",hh:a.format("{0} hours","%d"),d:"a day",dd:a.format("{0} days","%d"),M:"a month",MM:a.format("{0} months","%d"),y:"a year",yy:a.format("{0} years","%d")}}),e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.jira.i18n"],function(t){return t.splitDate=function(t,n){return Date.splitDate(t,n)},t});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat),AJS.namespace("window.moment",null,require("jira/moment"))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",["require"],function(a){return a("jira/moment")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(c){var f=function(b){b=b.replace(/[^A-Za-z0-9\+\/]/g,"");for(var g=b.length,c=3*g+1>>2,f=new Uint8Array(c),d,h=0,k=0,e=0;e<g;e++){d=e&3;var a=b.charCodeAt(e);h|=(64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0)<<18-6*d;if(3===d||1===g-e){for(d=0;3>d&&k<c;d++,k++)f[k]=h>>>(16>>>d&24)&255;h=0}}return f};c.base64decode=f;c.decodeBase64DataUri=function(b){var c=b.slice(0,b.indexOf(";base64,"))+";base64,";b=b.substring(c.length);
return f(b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["require","exports"],function(g,c){var r=g("jira/jquery/deferred"),k=g("jquery"),d=g("underscore"),t=g("dndattachment/ctrlv/base64decode"),u=g("dndattachment/ctrlv/time"),n=g("dndattachment/ctrlv/version"),v=g("jira/flag"),m=g("jira/util/navigator");c.isKeyPasteEvent=function(a,b){b=-1!==(b||"").indexOf("Mac")||m.isMac();return 86===a.which&&(b?a.metaKey:a.ctrlKey)};c.isImagePasteEvent=function(a){if(a&&a.clipboardData){var b=d.union(d.toArray(a.clipboardData.items),
d.toArray(a.clipboardData.files));a=b.some(function(a){return-1!==a.type.indexOf("image")});b=b.some(function(a){return-1!==a.type.indexOf("rtf")});return a&&!b}};var p=function(a){if(a.clipboardData&&a.clipboardData.types&&d.contains(a.clipboardData.types,"text/html"))return a=k(a.clipboardData.getData("text/html")),1===a.length&&0===a.children().length&&"img"===a[0].nodeName.toLowerCase()?a[0].src:null};c.getHtmlImagePaste=p;c.isHtmlImagePasteEvent=function(a){return null!=p(a)};c.isTextPasteEvent=
function(a){return a.clipboardData.types&&(d.contains(a.clipboardData.types,"text/plain")||d.contains(a.clipboardData.types,"text/html"))};c.isContentEditable=function(a){return"true"==a.contentEditable||""==a.contentEditable||"inherit"==a.contentEditable&&k(a).parents().is("[contenteditable\x3dtrue]")};c.isValidFileName=function(a){return!d('\\/":?*\x3c|\x3e!'.split("")).any(function(b){return-1<a.indexOf(b)})};c.getTextPasteContent=function(a){return a.clipboardData.types&&d.contains(a.clipboardData.types,
"text/plain")&&a.clipboardData.getData("text/plain")||""};c.getTextContent=function(a){return a?m.isIE()&&"undefined"!==typeof a.innerText?a.innerText:k(a).text():""};c.normalizePasteEvent=function(a){a&&a.originalEvent&&a.originalEvent.clipboardData&&(a.clipboardData=a.originalEvent.clipboardData);a&&!a.clipboardData&&window.clipboardData&&(a.clipboardData={files:window.clipboardData.files,types:{contains:function(a){if("text/plain"==a)return!!window.clipboardData.getData("Text")}},getData:function(a){if("text/plain"==
a)return window.clipboardData.getData("Text")}});return a};c.browserIsSupported=function(a){a=-1!==(a||"").indexOf("Mac")||m.isMac();var b=m.isSafari();return!(a&&b)&&!(n.isIE8()||n.isIE9()||n.isIE10())};c.browserIsNativePaste=function(){return m.isChrome()||m.isSafari()};c.isWikiTextfield=function(a){return a.is(":input")&&a.hasClass("wiki-textfield")};var q=function(a,b,l,h){var e=k(b);if((c.isWikiTextfield(e)||e.is("input#summary"))&&a){if(!e.is(":focus"))e.one("focus",function(){var b=e[0];b.selectionStart=
b.selectionEnd=l+a.length});var f=e.val(),g=f.substring(0,l);h=f.substring(h,f.length);(f=e.data("wikiEditor"))&&f.undoRedoEl&&d.isFunction(f.undoRedoEl.recordHistoryItem)&&f.undoRedoEl.recordHistoryItem();e.val(g+a+h);e.trigger("input");b.selectionStart=b.selectionEnd=l+a.length;f&&f.undoRedoEl&&d.isFunction(f.undoRedoEl.updateCurrent)&&f.undoRedoEl.updateCurrent()}};c.insertToInput=q;c.isThumbnailsAllowed=function(){var a=k("#dnd-metadata-webpanel").data("thumbnails-allowed"),b=!0;null!=a&&(b=!!a);
return b};c.getMarkup=function(a){var b=["bmp","gif"],l=["pjpeg","jpeg","jpg","png"],h=a.split("."),e=c.isThumbnailsAllowed();h=h[h.length-1].toLowerCase();return e&&d.contains(l,h)?"!"+a+"|thumbnail!":d.contains(l,h)||d.contains(b,h)?"!"+a+"!":"[^"+a+"]"};c.insertWikiMarkup=function(a,b,l,d,e){(a=c.getMarkup(a,e))&&q(" "+a+" ",b,l,d)};c.loadImage=function(a){var b=new r,c=new Image;c.setAttribute("crossOrigin","anonymous");c.onload=function(){b.resolve(c)};c.onerror=b.reject.bind(b);c.src=a;0<c.width&&
0<c.height&&b.resolve(c);return b};c.convertImageToBlob=function(a){var b=k("\x3ccanvas\x3e").attr("width",a.width).attr("height",a.height)[0];b.getContext("2d").drawImage(a,0,0);try{if(b.mozGetAsFile)return b.mozGetAsFile("image/png");if(b.toDataURL)return new Blob([t.decodeBase64DataUri(b.toDataURL("image/png"))],{type:"image/png"})}catch(l){return null}};c.convertBlobToImage=function(a,b){a=new Blob([a.slice()],{type:a.type});a.lastModifiedDate=new Date;a.name=b;return a};c.dropFileToElement=function(a,
b){var c=a.name;c||(c=this.generateFileName(),a.name=c+".png");a=k.Event("drop",{dataTransfer:{files:[a]}});var d=!1;k(document).on("dropHandled.dropFileToElement",function(){d=!0});b.trigger(a);k(document).off(".dropFileToElement");return d};c.generateFileName=function(){return"image-"+u().format("YYYY-MM-DD-HH-mm-ss-SSS")};c.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()};c.showErrorMsg=function(a,b){v.showErrorMsg(a,b)};c.createBlobFromFile=function(a){var b=new Blob([a.slice()],
{type:a.type});b.name=a.name;return b};c.dragEventContainsFiles=function(a){if(!a.dataTransfer||!a.dataTransfer.types)return!0;a=a.dataTransfer.types;return m.isMozilla()?d.contains(a,"application/x-moz-file"):d.contains(a,"Files")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/ie_version.js' */
define("dndattachment/ctrlv/version",["require","exports"],function(a,d){var b=a("jquery"),e=a("underscore"),c=a("jira/util/navigator");a=document.documentElement.className.split(/\s+/);c=c.isIE();var h=-1<b.inArray("msie-gt-7",a),f=-1<b.inArray("msie-gt-8",a),g=-1<b.inArray("msie-gt-9",a);b=-1<b.inArray("msie-gt-10",a);var k=c&&h&&!f,l=c&&f&&!g,m=c&&g&&!b;d.isIE8=e.once(function(){return k});d.isIE9=e.once(function(){return l});d.isIE10=e.once(function(){return m})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/Configuration.js' */
define("dndattachment/util/Configuration",["require"],function(a){var b=a("wrm/data");return{getWRM:function(a){return b.claim("com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone."+a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["require"],function(f){var h=f("jira/lib/class"),d=f("underscore"),e=f("jira/jquery/deferred"),g=f("jquery");return h.extend({init:function(b){this._dataTransfer=b},getFiles:function(){var b=this._dataTransfer.files,a=this._dataTransfer.items;return a&&0<a.length&&d.any(a,function(c){return!!c.webkitGetAsEntry})?this.readEntries(a):b&&0<b.length?this.readFiles(this._dataTransfer.files):(new e).reject()},readFiles:function(b){var a=new e;g.when.apply(window,
d.map(b,function(c){var a=new e;!c.name.match(/\.([a-z0-9]+)$/i)&&8192>=c.size||8192==c.size||4096==c.size||1024>=c.size?this.readFileAsText(c).fail(function(){b=d(b).without(c)}).always(a.resolve.bind(a)):a.resolve();return a}.bind(this))).always(function(){a.resolve(b)});return a},readFileAsText:function(b){var a=new e,c=new FileReader;c.onload=function(){a.resolve(this.result)};c.onerror=function(){a.reject(this.error)};c.readAsText(b);return a},readEntries:function(b){var a=new e;b=d.filter(b,
function(a){return"file"===a.kind});g.when.apply(window,d.map(b,function(a){return this.readEntry(a.webkitGetAsEntry(),a)}.bind(this))).then(function(){a.resolve(d.union.apply(d,arguments))},a.reject.bind(a));return a},readEntry:function(b,a){var c=new e;b.isFile?a&&a.getAsFile?c.resolve([a.getAsFile()]):b.file(function(a){c.resolve([a])}):b.isDirectory&&b.createReader().readEntries(function(a){var b=[];g.when.apply(window,d.map(a,function(a){return this.readEntry(a).then(function(a){return b.push.apply(b,
a)})}.bind(this))).always(function(){c.resolve(b)})}.bind(this));return c}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){return{format:function(a){return 1048576<a?(a/1048576).toFixed(2)+" MB":1024<a?Math.round(a/1024)+" kB":(a/1024).toFixed(1)+" kB"}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["require","exports"],function(b,f){var l=b("jira/analytics"),r=b("jira/dialog/dialog-stack"),t=b("jira/jquery/deferred"),m=b("jira/util/events"),n=b("dndattachment/util/events/types"),g=b("underscore"),u=b("jquery"),k=b("dndattachment/ctrlv/utility"),h=[],p,q=function(c,a){var d=t(),e=r.current;if(e&&e.$form){l.send({name:"attach.screenshot.html5.dialogPaste",data:{}});var b=k.createBlobFromFile(a.files[0]);k.dropFileToElement(b,e.$form)&&d.resolve([a.files[0].name])}else if(b=
g.find(h,function(b){return b.isValid(c,a)}))d=b.processFiles(a.files,p),a.successCallback&&d.done(a.successCallback),a.failureCallback&&d.fail(a.failureCallback),a.alwaysCallback&&d.always(a.alwaysCallback);d.done(function(c,b){if(!b&&a.isWikiTextfieldFocused){var d=a.wikiTextfield;g.each(c,function(a){k.insertWikiMarkup(a,d,d.selectionStart,d.selectionStart)});e&&a.isPaste&&l.send({name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}});u(a.wikiTextfield).is(":focus")||setTimeout(function(){a.wikiTextfield.focus()},
0)}})},v=function(c){if(c){var a="undefined"!==typeof c.processFiles,b="undefined"!==typeof c.weight,e="undefined"!==typeof c.name;return"undefined"!==typeof c.isValid&&a&&b&&e}return!1};f.registerExecutor=function(b){var a=v(b);if(a){var c=g.reject(h,function(a){return a.name===b.name});c.push(b);h=g.sortBy(c,function(a){return-a.weight})}return a};f.unregisterExecutor=function(b){h=g.reject(h,function(a){return a.name===b.name})};f.initialize=function(){m.bind(n.ATTACHMENT_FOR_PAGE_RECEIVED,q)};
f.disable=function(){m.unbind(n.ATTACHMENT_FOR_PAGE_RECEIVED,q)};f.setAttachmentDropZone=function(b){p=b}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["require","exports"],function(c,a){a.name="Default attachment executor";a.weight=0;a.isValid=function(a,b){return!0};a.processFiles=function(a,b){return b.uploadFiles(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/i18n.js' */
define("dndattachment/i18n",["require"],function(c){var a=c("jira/util/formatter"),b={"dnd.attachment.unsupported.browser":"Drag and Drop of attachments is currently only available for the following browsers:","dnd.attachment.file.is.too.large":"File exceeds maximum size limit set by the administrator ({0}).","dnd.attachment.upload.in.progress":"Upload in progress, please wait.","dnd.attachment.not.uploaded":function(d){return a.format("File \"{0}\" was not uploaded",d)},"dnd.attachment.unauthorized":"You are not authorized, session has expired or connection is lost.",
"dnd.attachment.internal.server.error":"An internal error has occurred. Please contact your administrator.","dnd.attachment.upload.aborted":"Upload was aborted.","dnd.attachment.upload.remove":"Remove attachment"};return function(a){if(b[a])return b[a];throw"Unknown key: "+a;}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/TemporaryAttachments.js' */
define("dndattachment/TemporaryAttachments",[],function(){var d={};return{createAttachment:function(a,b,c,d){return{id:a,name:b,type:c,file:d}},getAttachment:function(a,b){return d[a]||this.createAttachment(a,b)},putAttachment:function(a,b,c){c=c||{};return d[a]=this.createAttachment(a,c.name||b.name,c.type||b.type,b)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/Parser.js' */
define("dndattachment/Parser",["require"],function(b){function c(d){d=a(d).find("*[duiType]:not(.-dui-type-parsed)").add(d.filter("*[duiType]:not(.-dui-type-parsed)")).addClass("-dui-type-parsed").map(function(d,c){var e=new f;b([a(c).attr("duiType")],function(a){"function"==typeof a?e.resolve(new a(c)):e.reject()});return e});return a.when.apply(window,a.makeArray(d))}var g=b("jira/util/events"),h=b("jira/util/events/types"),f=b("jira/jquery/deferred"),a=b("jquery");g.bind(h.NEW_CONTENT_ADDED,function(a,
b,f){c(b)});a.isReady?c(a("body")):a(function(){c(a("body"))});return{parse:c}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'templates/IssueDropZone.soy' */
// This file was automatically generated from IssueDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.IssueDropZone = function(opt_data, opt_ignored) {
  return '<div class="issue-drop-zone__target"></div><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span> ' + soy.$$escapeHtml('Drop files to attach, or') + ' <button type="button" id="attachment-browse-button" class="issue-drop-zone__button"> ' + soy.$$escapeHtml('browse') + '.</button><input class="issue-drop-zone__file ignore-inline-attach" type="file" multiple aria-hidden="true" aria-labelledby="attachment-browse-button" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.IssueDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.IssueDropZone';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone = function(opt_data, opt_ignored) {
  return '<div duiType="dndattachment/dropzones/AttachmentsDropZone" class="issue-drop-zone" data-upload-limit="' + soy.$$escapeHtml(opt_data.jiraAttachmentSize) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/dropzones/IssueDropZone.js' */
define("dndattachment/dropzones/IssueDropZone",["require"],function(c){var f=c("jira/util/formatter"),n=c("jira/util/logger"),u=c("jira/analytics"),v=c("jira/ajs/ajax/smart-ajax"),w=c("jira/issue"),g=c("jira/jquery/plugins/isdirty"),p=c("jira/util/data/meta"),x=c("jira/lib/class"),e=c("underscore"),h=c("jira/jquery/deferred"),b=c("jquery"),k=c("jira/flag"),y=c("dndattachment/Parser"),z=c("dndattachment/i18n"),q=c("dndattachment/templates"),A=c("dndattachment/util/DataTransfer"),l=["An internal error has occurred. Please contact your administrator."];
return x.extend({eventGroup:"issuedropzone",progressBarType:"dndattachment/progressbars/UploadProgressBar",init:function(a){this.$node=b(a);if(!this.isSupportedBrowser())return this.renderUnsupported();this.$node.parents(".mod-content")&&this.$node.parents(".mod-content").addClass("issue-drop-zone");this.uploadLimit=this.$node.data("upload-limit");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.attachFileUrl=contextPath+"/secure/AttachFile.jspa";this.pendingQueue=
[];this.render();this.queueEvent("init")},queueTask:function(a){this.pendingQueue.push(a);a.always(function(){this.pendingQueue.splice(this.pendingQueue.indexOf(a),1)}.bind(this));this.markDirty(!0);b.when.apply(window,this.pendingQueue).always(e.debounce(this.checkMarkDirty,!1,!0).bind(this))},render:function(){this.$node.html(q.IssueDropZone({}));this.fileInput=this.$node.find(".issue-drop-zone__file");this.fileButton=this.$node.find("button.issue-drop-zone__button");this.connectListeners();n.trace("jira.issue.dnd.issuedropzone.render")},
connectListeners:function(){this.fileInput.change(function(a){this.handleFilesReceived(this.fileInput[0].files);this.queueEvent("fileInput",{count:this.fileInput[0].files.length});this.fileInput.attr("value",null)}.bind(this));this.fileButton.click(function(a){a.preventDefault();this.fileInput.click()}.bind(this));var a=0<this.$node.parents(".issue-drop-zone").length?this.$node.parents(".issue-drop-zone"):this.$node;this.$dropTarget=a.find("\x3e*").andSelf();this.$dropTarget.on("dragover dragenter drop",
function(d){d.preventDefault();d.stopPropagation();a.addClass("dragover");"drop"==d.type&&(a.removeClass("dragover"),b(document).trigger("dropHandled"),(new A(d.dataTransfer)).getFiles().then(function(a){this.handleFilesReceived(a);this.queueEvent("fileDrop",{count:a.length})}.bind(this)))}.bind(this));this.$dropTarget.on("dragleave",function(){a.removeClass("dragover")}.bind(this))},configureUploadProgressBar:function(a,d){a.data("upload-size",this.uploadSize).data("file",d).data("form-token",this.formToken)},
createUploadProgressBar:function(a){var d=b('\x3cdiv duiType\x3d"'+this.progressBarType+'" class\x3d"upload-progress-bar"\x3e\x3c/div\x3e');this.configureUploadProgressBar(d,a);return y.parse(d).done(function(a){this.placeUploadProgressBar(d,a);this.handleNewProgressBar(a)}.bind(this))},placeUploadProgressBar:function(a){return a.insertAfter(this.$node)},handleNewProgressBar:function(a){},handleFilesReceived:function(a){this.uploadFiles(a)},getSuccessfulUploads:function(a){return e.filter(a,function(a){return"resolved"===
a.result.state()})},uploadFiles:function(a){var d=new h,c=[],B=p.get("issue-key"),g=p.get("viewissue-permlink"),l=b("#summary-val input").attr("value")||b("#summary-val").text(),r=q.SuccessMessageLink({issueLink:g,issueKey:B,issueSummary:l}),t=e.map(a,function(a){var b=new h;this.createUploadProgressBar(a).then(function(m){this.trigger("progressBarInserted",m);c.push(m);m.uploadFile(a,this.uploadLimit).then(b.resolve.bind(b),b.resolve.bind(b)).done(function(){this.trigger("uploadFinished",m)}.bind(this)).fail(function(){d.reject(arguments)})}.bind(this));
return b}.bind(this));a=b.when.apply(window,t);a.done(function(){var a=e.filter(1==t.length?[arguments]:arguments,function(a){return a&&a[0]&&a[0].id}).map(function(a){return a[0].id});if(0!=a.length){if(this.showFlagsForCreateDialogUploads){var b=this.getSuccessfulUploads(c);1==b.length?(b=b[0].getFileName(),k.showSuccessMsg("",f.format("{0} has been attached successfully to this issue.",b))):1<b.length&&k.showSuccessMsg("",f.format("{0} files have been attached successfully to this issue.",
b.length))}this.commitUpload(a).done(function(){e.delay(function(){c.some(function(a){a.getAutoDestroy()&&(a.destroy(),this.queueEvent("autoDestroy"))}.bind(this))}.bind(this),5E3);var a=this.getSuccessfulUploads(c);if(1==a.length){var b=a[0].getFileName();k.showSuccessMsg("",f.format("{0} has been attached successfully to {1}.",b,r))}else 1<a.length&&k.showSuccessMsg("",f.format("{0} files have been attached successfully to {1}.",a.length,r));d.resolve(e.map(a,function(a){return a.file.name}))}.bind(this)).fail(function(a,
b){d.reject(a,b);a&&a.forEach(function(a){c.forEach(function(b){b.reportError(a)})});b&&c.forEach(function(a){var d=b["#"+a.getFileID()]||b[a.getFileName()];d&&a.reportError(d)});n.trace("jira.issue.dnd.commit.fail")})}}.bind(this));this.queueTask(a);return d},loadAttachments:function(a){a.forEach(function(a){this.createUploadProgressBar(a.file).then(function(b){b.setFileID(a.id);b.setFileName(a.name);b.setFileSize(a.size);b.setProgress(1);b.setFinished();this.trigger("uploadFinished",b)}.bind(this))},
this)},commitUpload:function(a){return new h},attachFile:function(a){var b=new h;v.makeRequest({type:"POST",url:this.attachFileUrl,data:{inline:!0,id:w.getIssueId(),filetoconvert:a,atl_token:atl_token(),formToken:this.formToken},dataType:"json"}).done(b.resolve.bind(b)).fail(function(a){try{var c=JSON.parse(a.responseText);b.reject(c.errorMessages||l,c.errors)}catch(C){b.reject(l)}});return b},isSupportedBrowser:function(){if(b("html.webkit")[0]||b("html.safari")[0]){if(b.browser.chrome&&49>b.browser.versionNumber||
b.browser.safari&&10>b.browser.versionNumber||b.browser.opera&&35>b.browser.versionNumber)return!1}else if(b("html.mozilla")[0]){if(42>b.browser.versionNumber)return!1}else if(b("html.msie")[0]){if(10>b.browser.versionNumber)return!1}else return!1;return!0},renderUnsupported:function(){this.$node.addClass("issue-drop-zone__not-supported").text(z("dnd.attachment.unsupported.browser")).append("\x3cul\x3e\x3cli\x3eFireFox 3.6+\x3c/li\x3e\x3cli\x3eChrome 5+\x3c/li\x3e\x3cli\x3eSafari 5\x3c/li\x3e\x3c/ul\x3e")},
markDirty:function(a){this.$node.addClass(g.ClassNames.SANCTIONED);this.$node.toggleClass(g.ClassNames.EXEMPT,!a);this.$node.attr("value",!1);this.$node.attr("defaultValue",!0)},checkMarkDirty:function(){0==this.pendingQueue.length&&this.markDirty(!1)},queueEvent:function(a,b){u.send({name:"issue.dnd.attachment."+this.eventGroup+"."+a,data:b||{}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:drag-and-drop-attachment-javascript-init', location = 'js/initIssueDropZone.js' */
define("dndattachment/init","jira/util/events jira/util/events/types jira/dialog/dialog-register jira/dialog/dialog-stack underscore dndattachment/Parser jquery dndattachment/dropzones/IssueDropZone dndattachment/upload/handler dndattachment/upload/default/executor dndattachment/TemporaryAttachments dndattachment/templates dndattachment/util/Configuration dndattachment/util/FileSizeUtil".split(" "),function(k,t,l,u,v,m,c,d,f,w,x,n,y,p){function g(a,b){a=a.find(".field-group.file-input-list");if(0!=
a.size()&&!(0<a.find('*[duiType*\x3d"'+b+'"]').length)){var z=a.find("input[name\x3dfiletoconvert]:checked").map(function(a,b){return x.getAttachment(b.value,c(b).siblings("label").text())}).toArray(),d=a.find(".description:last-child").html();a.empty();b=c(n[b]({uploadLimit:p.format(e),jiraAttachmentSize:e,description:d}));m.parse(b.appendTo(a)).then(function(a){null!=a&&a.loadAttachments(z)})}}function q(a,b){var c=function(){g(a.$popupContent,b)};if(a.$popup&&a.$popup.is(":visible"))c();else a.onContentReady(c)}
function r(a){var b=a&&"attachmentmodule"==a.attr("id")&&c(".mod-content:not(.issue-drop-zone)",a);b&&0<b.size()&&0!=a.find("#add-attachments-link").length&&(b.addClass("issue-drop-zone"),a=c(n.AttachmentsDropZone({uploadLimit:p.format(e),jiraAttachmentSize:e})),m.parse(a.prependTo(b)).then(function(a){h&&h.disconnectContainer();h=a;f.setAttachmentDropZone(a)}))}if(d.prototype.isSupportedBrowser()){var e=y.getWRM("upload-limit"),h;d=function(){l.attachFile&&q(l.attachFile,"AttachFilesDropZone");var a=
["create-issue-dialog","create-subtask-dialog","edit-issue-dialog"],b=function(b,c,d){v.contains(a,c.attr("id"))&&q(d,"CreateIssueDropZone")};k.bind("Dialog.show",b);const d=u.current;d&&b(null,d.$popup,d);k.bind(t.NEW_CONTENT_ADDED,function(a,b,c){g(b,"CreateIssueDropZone");r(b)});b=c("form#issue-create, form#issue-edit, form.dnd-attachment-support");0<b.size()&&g(b,"CreateIssueDropZone");f.initialize();f.registerExecutor(w);r(c("#attachmentmodule"));c(document).on("dragover dragenter",function(){c("body").addClass("issue-drop-zone-document__dragover")});
c(document).on("dragleave drop dropHandled",function(){c("body").removeClass("issue-drop-zone-document__dragover")})};c.isReady?d():c(d);c.event.props.push("dataTransfer")}});require("dndattachment/init");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'viewissue/attachmentsblock.soy' */
// This file was automatically generated from attachmentsblock.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.renderAttachments = function(opt_data, opt_ignored) {
  return '' + ((opt_data.viewMode == 'list') ? JIRA.Templates.ViewIssue.fileAttachments(opt_data) : JIRA.Templates.ViewIssue.galleryAttachments(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachments';
}


JIRA.Templates.ViewIssue.fileAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="file_attachments" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var fileAttachmentList14 = opt_data.attachments;
  var fileAttachmentListLen14 = fileAttachmentList14.length;
  for (var fileAttachmentIndex14 = 0; fileAttachmentIndex14 < fileAttachmentListLen14; fileAttachmentIndex14++) {
    var fileAttachmentData14 = fileAttachmentList14[fileAttachmentIndex14];
    output += JIRA.Templates.ViewIssue.fileAttachment(soy.$$augmentMap(opt_data, {fileAttachment: fileAttachmentData14}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachments';
}


JIRA.Templates.ViewIssue.galleryAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="attachment_thumbnails" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var imageAttachmentList25 = opt_data.attachments;
  var imageAttachmentListLen25 = imageAttachmentList25.length;
  for (var imageAttachmentIndex25 = 0; imageAttachmentIndex25 < imageAttachmentListLen25; imageAttachmentIndex25++) {
    var imageAttachmentData25 = imageAttachmentList25[imageAttachmentIndex25];
    output += JIRA.Templates.ViewIssue.imageAttachment(soy.$$augmentMap(opt_data, {imageAttachment: imageAttachmentData25}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.galleryAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.galleryAttachments';
}


JIRA.Templates.ViewIssue.fileAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment' + ((! opt_data.fileAttachment.latest) ? ' earlier-version' : '') + '" data-attachment-id="' + soy.$$escapeHtml(opt_data.fileAttachment.id) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.fileAttachment}) + '>' + ((opt_data.fileAttachment.expandable) ? JIRA.Templates.ViewIssue.zipFileAttachment(opt_data) : '<div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachment';
}


JIRA.Templates.ViewIssue.zipFileAttachment = function(opt_data, opt_ignored) {
  return '<div class="twixi-block collapsed expander"><div class="twixi-wrap verbose"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>' + soy.$$escapeHtml('Hide') + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '<dd class="zip-contents"><ol><li><div class="attachment-thumb"><img src="' + soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/wait.gif" /></div>' + soy.$$escapeHtml('Extracting archive...') + '</li></ol></dd></dl></div><div class="twixi-wrap concise"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>' + soy.$$escapeHtml('Show') + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.zipFileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.zipFileAttachment';
}


JIRA.Templates.ViewIssue.imageAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.imageAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.imageAttachment}) + '><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml('Latest') : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + ((opt_data.imageAttachment.thumbnailUrl != null) ? '<img loading="lazy" src="' + soy.$$escapeHtml('' + opt_data.imageAttachment.thumbnailUrl) + '" alt="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '" />' : JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype: opt_data.imageAttachment.mimeType})) + '</a></div><dl ' + ((! opt_data.imageAttachment.latest) ? 'class="earlier-version"' : '') + '><dt>' + ((opt_data.imageAttachment.deletable) ? '<span class="blender blender-delete"></span><div class="attachment-delete"><a title="' + soy.$$escapeHtml('Delete this attachment') + '" aria-label="' + soy.$$escapeHtml(AJS.format('Delete attachment - {0}',opt_data.imageAttachment.fileName)) + '" id="del_' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml('Delete this attachment') + '</span></a></div>' : '<span class="blender"></span>') + '<a  href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" class="attachment-title" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml('Latest') : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '</a></dt><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.imageAttachment.fileSize) + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.imageAttachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + '</time></dd></dl></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.imageAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.imageAttachment';
}


JIRA.Templates.ViewIssue.renderAttachmentInfo = function(opt_data, opt_ignored) {
  return '<dt class="attachment-title"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '" title="' + ((opt_data.attachment.latest) ? soy.$$escapeHtml('Latest') + ' ' : '') + ' ' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + ((opt_data.attachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName) : '') + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.attachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment(opt_data) + '>' + soy.$$escapeHtml(opt_data.attachment.fileName) + '</a></dt><dd class="attachment-delete">' + ((opt_data.attachment.deletable) ? '<a title="' + soy.$$escapeHtml('Delete this attachment') + '" aria-label="' + soy.$$escapeHtml(AJS.format('Delete attachment - {0}',opt_data.attachment.fileName)) + '" id="del_' + soy.$$escapeHtml(opt_data.attachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.attachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml('Delete this attachment') + '</span></a>' : '<span class="icon"></span>') + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.attachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + '</time></dd><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.attachment.fileSize) + '</dd><dd class="attachment-author">' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName ? opt_data.attachment.authorDisplayName : '') + '</dd>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentInfo.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentInfo';
}


JIRA.Templates.ViewIssue.renderAttachmentData = function(opt_data, opt_ignored) {
  return 'data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '"' + ((opt_data.attachment.expandable) ? 'data-attachment-type="expandable"' : (opt_data.attachment.imageFileType) ? 'data-attachment-type="image" data-attachment-thumbnail="' + soy.$$escapeHtml(opt_data.attachment.thumbnailUrl != null) + '"' : 'data-attachment-type="file"');
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentData.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentData';
}


JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileIconUrl__soy290 = '' + JIRA.Templates.ViewIssue.matchFileIconUrl(opt_data);
  var fileIconAlt__soy292 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<img src="' + soy.$$escapeHtml(fileIconUrl__soy290) + '" height="16" width="16" border="0" alt="' + soy.$$escapeHtml(fileIconAlt__soy292) + '" role="presentation">';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon';
}


JIRA.Templates.ViewIssue.matchFileIconUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/attach/' + JIRA.Templates.ViewIssue.matchFileIcon(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconUrl.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconUrl';
}


JIRA.Templates.ViewIssue.matchFileIcon = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'pdf.gif';
      break;
    case 'image/gif':
      output += 'image.gif';
      break;
    case 'image/png':
      output += 'image.gif';
      break;
    case 'image/jpeg':
      output += 'image.gif';
      break;
    case 'text/xml':
      output += 'xml.gif';
      break;
    case 'text/html':
      output += 'html.gif';
      break;
    case 'text/plain':
      output += 'text.gif';
      break;
    case 'application/zip':
      output += 'zip.gif';
      break;
    case 'application/x-gzip-compressed':
      output += 'zip.gif';
      break;
    case 'application/msword':
      output += 'word.gif';
      break;
    case 'application/msword-template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-excel':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'powerpoint.gif';
      break;
    case 'text/x-java':
      output += 'java.gif';
      break;
    case 'text/x-java-source':
      output += 'java.gif';
      break;
    case 'application/x-java-archive':
      output += 'java.gif';
      break;
    default:
      output += 'file.gif';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIcon';
}


JIRA.Templates.ViewIssue.matchFileIconAlt = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += soy.$$escapeHtml('PDF File');
      break;
    case 'image/gif':
      output += soy.$$escapeHtml('GIF File');
      break;
    case 'image/png':
      output += soy.$$escapeHtml('PNG File');
      break;
    case 'image/jpeg':
      output += soy.$$escapeHtml('JPEG File');
      break;
    case 'text/xml':
      output += soy.$$escapeHtml('XML File');
      break;
    case 'text/html':
      output += soy.$$escapeHtml('HTML File');
      break;
    case 'text/plain':
      output += soy.$$escapeHtml('Text File');
      break;
    case 'application/zip':
      output += soy.$$escapeHtml('Zip Archive');
      break;
    case 'application/x-gzip-compressed':
      output += soy.$$escapeHtml('GZip Archive');
      break;
    case 'application/msword':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/msword-template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-powerpoint':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'text/x-java':
      output += soy.$$escapeHtml('Java Source File');
      break;
    case 'text/x-java-source':
      output += soy.$$escapeHtml('Java Source File');
      break;
    case 'application/x-java-archive':
      output += soy.$$escapeHtml('Java Archive File');
      break;
    default:
      output += soy.$$escapeHtml('File');
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconAlt.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconAlt';
}


JIRA.Templates.ViewIssue.renderAttachmentIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy448 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  var fileIconAlt__soy450 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<span class="aui-icon aui-icon-small attachment-icon ' + soy.$$escapeHtml(fileClass__soy448) + '" title="' + soy.$$escapeHtml(fileIconAlt__soy450) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentIcon';
}


JIRA.Templates.ViewIssue.renderThumbnailIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy458 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  output += (fileClass__soy458 == 'aui-iconfont-image') ? '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" class="no-image"><defs><path d="M39 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9s-9-4.0294373-9-9c0-4.97056275 4.0294373-9 9-9zm4.1553041 4.84471837c-.4595944-.45962449-1.2024684-.45962449-1.6620628 0l-2.4930944 2.49325714-2.4942697-2.49325714c-.4584191-.45962449-1.2024684-.45962449-1.6620629 0-.4584191.45844898-.4584191 1.20254694 0 1.66217143l2.4930943 2.49325714-2.4930943 2.49325716c-.4584191.4596245-.4584191 1.2025469 0 1.6621714.2303849.2292245.5301205.3444245.8310314.3444245.300911 0 .6018219-.1152.8310315-.3444245l2.4942697-2.4932571 2.4930944 2.4932571c.2292095.2292245.5301204.3444245.8310314.3444245.300911 0 .6018219-.1152.8310314-.3444245.4595945-.4596245.4595945-1.2025469 0-1.6621714l-2.4930943-2.49325716 2.4930943-2.49325714c.4595945-.45962449.4595945-1.20372245 0-1.66217143z" id="a"/></defs><g fill-rule="evenodd"><path d="M27 9c0 6.627417 5.372583 12 12 12 2.1861601 0 4.2357797-.5845995 6.0010592-1.6059991L45 38.982424C45 42.3058395 42.3088196 45 38.982424 45H9.01757598C5.69416054 45 3 42.3088196 3 38.982424V9.01757598C3 5.69416054 5.69118038 3 9.01757598 3l19.58867952-.00150229C27.5846974 4.76387737 27 6.81365699 27 9zm6.6773881 15l-9.2173637 9.1911941-4.4147772-4.4022429L8 40.8h30l.1762728-.0050927C39.75108 40.7036609 41 39.3976809 41 37.8v-6.4981782L33.6773881 24zM15 10.5c-2.4852814 0-4.5 2.0147186-4.5 4.5s2.0147186 4.5 4.5 4.5 4.5-2.0147186 4.5-4.5-2.0147186-4.5-4.5-4.5z"/><use xlink:href="#a"/></g></svg>' : '<span class="aui-icon aui-icon-large attachment-thumbnail-icon ' + soy.$$escapeHtml(fileClass__soy458) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderThumbnailIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderThumbnailIcon';
}


JIRA.Templates.ViewIssue.matchFileClass = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'aui-iconfont-file-pdf';
      break;
    case 'image/gif':
      output += 'aui-iconfont-image';
      break;
    case 'image/png':
      output += 'aui-iconfont-image';
      break;
    case 'image/jpeg':
      output += 'aui-iconfont-image';
      break;
    case 'text/xml':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/html':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/plain':
      output += 'aui-iconfont-file-txt';
      break;
    case 'application/zip':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/x-gzip-compressed':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/msword':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/msword-template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-excel':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'text/x-java':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/x-java-source':
      output += 'aui-iconfont-file-code';
      break;
    case 'application/x-java-archive':
      output += 'aui-iconfont-file-zip';
      break;
    default:
      output += 'aui-iconfont-devtools-file';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileClass.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileClass';
}


JIRA.Templates.ViewIssue.tagAttachment = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id, title: opt_data.attachment.fileName, mimeType: opt_data.attachment.mimeType, isImage: opt_data.attachment.thumbnailUrl != null, thumbnailUrl: opt_data.attachment.thumbnailUrl});
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.tagAttachment';
}


JIRA.Templates.ViewIssue.tagFilePreview = function(opt_data, opt_ignored) {
  var output = '';
  var previewType__soy545 = '' + ((opt_data.isImage || opt_data.mimeType != null && ('' + opt_data.mimeType).indexOf('image/') != -1) ? 'image' : (opt_data.mimeType == 'application/pdf') ? 'document' : 'unknown');
  output += (previewType__soy545 != 'unknown') ? ' file-preview-id="' + soy.$$escapeHtml(opt_data.id) + '" file-preview-title="' + soy.$$escapeHtml(opt_data.title) + '" file-preview-type="' + soy.$$escapeHtml(previewType__soy545) + '"' + ((opt_data.thumbnailUrl != null) ? 'file-preview-url="' + soy.$$escapeHtml('' + opt_data.thumbnailUrl) + '"' : '') : '';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagFilePreview.soyTemplateName = 'JIRA.Templates.ViewIssue.tagFilePreview';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/dropzones/AttachmentsDropZone.js' */
define("dndattachment/dropzones/AttachmentsDropZone",["require"],function(c){var n=c("jira/libs/parse-uri"),h=c("jira/util/logger"),k=c("jira/util/events/types"),p=c("jira/util/events/reasons"),q=c("underscore"),r=c("jira/jquery/deferred"),t=c("dndattachment/dropzones/IssueDropZone"),f=c("jira/util/events"),u=c("dndattachment/util/events/types"),d=c("jquery"),m=c("dndattachment/templates"),v=c("dndattachment/util/DataTransfer"),l=c("dndattachment/ctrlv/utility"),w=c("jira/dialog/dialog-stack"),x=
function(){var a=n(window.location);return a.protocol+"://"+a.authority}();return t.extend({eventGroup:"attachmentsdropzone",progressBarType:"dndattachment/progressbars/AttachmentsUploadProgressBar",init:function(){this._super.apply(this,arguments);this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment";f.bind(k.PANEL_REFRESHED,this.panelRefreshed.bind(this));this.connectContainer()},connectContainer:function(){this.$pagePanel=d("div.aui-page-panel");this.$containerNode=this.getContainerNode();
this.$dragoverDropzone=d(m.dropzone());this.$dragoverBorder=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-border");this.$dragoverInfo=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-info");this.$dragoverDropzone.appendTo(this.$containerNode);this.onDragOverDropHandler=this.onDragOverDrop.bind(this);this.onDragLeaveHandler=this.onDragLeave.bind(this);this.$containerNode.on("dragover dragenter drop",this.onDragOverDropHandler);this.$containerNode.on("dragleave",this.onDragLeaveHandler);
this.$windowMask=d(m.windowDropzoneMask());this.$body=d(document.body);this.$body.append(this.$windowMask);this.$body.on("dragenter",q.throttle(this.onBodyDragEnter.bind(this),200,{trailing:!1}));this.$body.on("dragleave",this.onBodyDragLeave.bind(this));this.$windowMask.on("dragover dragenter",this.onWindowMaskDragEnter.bind(this));this.$windowMask.on("dragleave",this.onWindowMaskDragLeave.bind(this));this.$windowMask.on("drop",this.onWindowMaskDrop.bind(this));this.$auiSidebar=d(".aui-sidebar-body");
this._disconnectListenersFromParentDropzone();this.onContentAddedHandler=this.onContentAdded.bind(this);f.bind(k.NEW_CONTENT_ADDED,this.onContentAddedHandler)},_disconnectListenersFromParentDropzone:function(){this.$dropTarget.off("dragover drop dragleave dragenter");d(document).off("dragover dragenter")},_risePagePanel:function(){this._pagePanelZIndex=this.$pagePanel.css("z-index");this.$pagePanel.css("z-index","auto")},_releasePagePanel:function(){this.$pagePanel.css("z-index",this._pagePanelZIndex)},
disconnectContainer:function(){this.$dragoverDropzone.remove();this.$windowMask.remove();this.$body.removeClass("attachments-drop-zone__dragover");this.$body.off("dragenter",this.onBodyDragEnter.bind(this));this.$containerNode.off("dragenter dragover drop",this.onDragOverDropHandler);this.$containerNode.off("dragleave",this.onDragLeaveHandler);f.unbind(k.NEW_CONTENT_ADDED,this.onContentAddedHandler)},isAttached:function(){return d.contains(document,this.$node[0])},onContentAdded:function(){this.isAttached()||
this.disconnectContainer()},getContainerNode:function(){var a=d(d(".issue-container")[0]);"static"===a.css("position")&&a.css("position","relative");return a},canDoFullPageDrop:function(){if(w.current)return h.trace("jira.issue.dnd.dropnotallowed"),!1;h.trace("jira.issue.dnd.dropallowed");return!0},onDragOverDrop:function(a){this.isAttached()?l.dragEventContainsFiles(a)&&this.canDoFullPageDrop()&&(a.preventDefault(),a.originalEvent&&(a.originalEvent.dataTransfer.dropEffect="copy"),h.trace("jira.issue.dnd.dragover"),
this.$body.addClass("attachments-drop-zone__dragover"),this.$body.addClass("attachments-drop-zone__window-dragover"),this.$containerNode.addClass("attachments-drop-zone__dragover-fade"),this._readjustDropzone(),this._repositionStickyInfoBox(),"drop"==a.type&&(this.removeAllDragoverClasses(this.$containerNode),this._releasePagePanel(),d(document).trigger("dropHandled"),(new v(a.dataTransfer)).getFiles().then(function(a){this.handleFilesReceived(a);this.queueEvent("fileDrop",{count:a.length})}.bind(this)))):
this.disconnectContainer()},onDragLeave:function(){this.removeAllDragoverClasses(this.$containerNode)},_readjustDropzone:function(){if(0!==this.$auiSidebar.length){var a=this.$auiSidebar.offset().left+this.$auiSidebar.width();if(this.$dragoverBorder.parent().offset()){var b=this.$dragoverBorder.parent().offset().left;a>b?this.$dragoverBorder.css({left:a-b}):this.$dragoverBorder.css({left:0})}else this.$dragoverBorder.css({left:0});this._risePagePanel()}},_repositionStickyInfoBox:function(){var a=
this.$containerNode.scrollParent().scrollTop()+10,b=this.$containerNode.offset().top;a=0===(this.$containerNode.scrollParent().offset()?this.$containerNode.scrollParent().offset().top:0)?a>=b?a-b:10:a;this.$dragoverInfo.css({top:a})},onBodyDragEnter:function(a){l.dragEventContainsFiles(a)&&(this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"))},onBodyDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDragEnter:function(a){l.dragEventContainsFiles(a)&&
(a.preventDefault(),a.originalEvent&&(a.originalEvent.dataTransfer.dropEffect="none"),this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"),this.canDoFullPageDrop()&&(this.$body.addClass("attachments-drop-zone__dragover"),this._repositionStickyInfoBox()))},onWindowMaskDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDrop:function(a){a.preventDefault();this.removeAllDragoverClasses()},removeAllDragoverClasses:function(a){a&&a.removeClass("attachments-drop-zone__dragover-fade");
this.$body.removeClass("attachments-drop-zone__window-dragover");this.$body.removeClass("attachments-drop-zone__dragover")},handleFilesReceived:function(a){var b=d("textarea.wiki-textfield:visible:focus"),e=0<b.length,g=d(".jira-editor-container iframe:visible:focus");f.trigger(u.ATTACHMENT_FOR_PAGE_RECEIVED,{files:a,isWikiTextfieldFocused:e,wikiTextfield:b[0],isRichEditorFieldFocused:0<g.length,richEditorField:g[0]})},render:function(){this.$node.parents("#attachmentmodule").addClass("attachments-drop-zone-parent");
this.$listNode=this.$node.siblings("#file_attachments, #attachment_thumbnails");return this._super.apply(this,arguments)},panelRefreshed:function(a,b,e,g){g.find(this.$node).is("*")&&(this.getViewMode(),e=e.find("\x3e.mod-content"),e.addClass("issue-drop-zone"),this.$node.prependTo(e),this.render(),a=g.find(".attachments-upload-progress-bar"),a.data("viewMode",this.getViewMode()).each(function(a,b){d(b).prop("_instance").render()}),a.each(function(a,b){this.insertProgressBar(d(b))}.bind(this)),this._disconnectListenersFromParentDropzone())},
getViewMode:function(){return"file_attachments"==this.$listNode.attr("id")?"list":"gallery"},getSortBy:function(){return this.$listNode.data("sort-key")},getSortOrder:function(){return this.$listNode.data("sort-order")},getSortComparator:function(){var a="asc"==this.getSortOrder()?1:-1,b="fileName"==this.getSortBy()?function(a){return a.find(".attachment-title").text()}:function(a){return(new Date(a.find("*[datetime]").attr("datetime"))).getTime()},e="fileName"==this.getSortBy()&&String.prototype.localeCompare?
function(a,b){return a.localeCompare(b)}:function(a,b){return a<b?-1:a>b?1:0};return function(d,c){d=b(d);c=b(c);return a*e(d,c)}},commitUpload:function(a){var b=new r;this.attachFile(a).then(b.resolve.bind(b),b.reject.bind(b));b.then(function(b){var c=d(JIRA.Templates.ViewIssue.renderAttachments({baseurl:contextPath,fullBaseUrl:x+contextPath,issue:{id:JIRA.Issues.Api.getSelectedIssueId()},attachments:b,viewMode:this.getViewMode()})).find(".attachment-content");b.forEach(function(b,d){b=c[d];this.$listNode.find('\x3e*[data-file-id\x3d"'+
a[d]+'"]').replaceWith(b)},this);f.trigger(k.NEW_CONTENT_ADDED,[this.$listNode,p.panelRefreshed]);h.trace("jira.issue.dnd.attached")}.bind(this));this.queueTask(b);this.queueEvent("commitUpload",{count:a.length});return b},configureUploadProgressBar:function(a){this._super.apply(this,arguments);a.data("viewMode",this.getViewMode())},placeUploadProgressBar:function(a,b){b.$node.find("time.livestamp").attr("datetime",(new Date).toISOString()).livestamp();this.insertProgressBar(a);b.bind("onDestroy",
function(){var b=a.parents(".item-attachments");0==b.find(".attachments-upload-progress-bar, .attachment-content").length&&b.remove()});return a},insertProgressBar:function(a){var b=this.getSortComparator();this.$listNode.children().toArray().some(function(c){if(1>b(a,d(c)))return a.insertBefore(c),!0})||a.appendTo(this.$listNode)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/UploadProgressBar.js' */
define("dndattachment/progressbars/UploadProgressBar",["require"],function(b){function k(a,d){n.send({name:"issue.dnd.attachment.uploadprogress."+a,data:d||{}})}var n=b("jira/analytics"),p=b("jira/util/formatter"),l=b("jira/util/logger"),q=b("jira/issue"),m=b("jira/attachment/inline-attach"),r=b("jira/lib/class"),g=b("underscore"),t=b("wrm/context-path"),h=b("jira/jquery/deferred"),e=b("jquery");b("dndattachment/Parser");var f=b("dndattachment/i18n"),u=b("dndattachment/TemporaryAttachments"),v=b("dndattachment/templates"),
w=b("dndattachment/util/Configuration"),x=b("dndattachment/util/FileSizeUtil"),y=["aui-iconfont-error","aui-iconfont-success","aui-iconfont-close-dialog"],z=w.getWRM("thumbnail-mime-types").split(",");return r.extend({autoDestroy:!0,init:function(a){this.result=new h;this.$node=e(a);this.file=this.$node.data("file");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.$node.prop("_instance",this);this.render()},render:function(){this.$node.html(v.UploadProgressBar({isImageType:this.isImageType()}));
this.afterRender()},afterRender:function(){this.file&&(this.setFileName(this.file.name),this.setFileSize(this.file.size),this.loadThumbnail(this.file));this.progress&&this.updateProgress();this.connectListeners()},connectListeners:function(){this.getControlNode().on("click",function(){this.destroy();k("buttonClick")}.bind(this))},destroy:function(){this.destroyed||(this.upload&&this.upload.abort(),this.setAutoDestroy(!1),this.trigger("onBeforeDestroy"),this.destroyed=!0,this.$node.animate({opacity:0},
{duration:250,complete:function(){this.$node.slideUp(250,function(){this.objectURL&&window.URL.revokeObjectURL(this.objectURL);this.$node.remove();l.trace("jira.issue.dnd.progressbar.removed");this.trigger("onDestroy")}.bind(this))}.bind(this)}))},isDestroyed:function(){return!!this.destroyed},setAutoDestroy:function(a){this.autoDestroy=a},getAutoDestroy:function(){return this.autoDestroy},getUploadParams:function(a){a={filename:a.name,size:a.size,atl_token:atl_token(),formToken:this.formToken};g.extend(a,
this.getEntityParams());return a},getEntityParams:function(){var a={},d=q.getIssueId(),c=this.$node.parents("form").find('*[name\x3d"pid"]').attr("value");c?a.projectId=c:d&&(a.issueId=d);return a},setFile:function(a){this.file=a},setFileID:function(a){this.fileID=a;this.$node.attr("data-file-id",a)},getFileID:function(){return this.fileID},setFileName:function(a){this.$node.find(".upload-progress-bar__file-name").text(a)},getFileName:function(){return this.$node.find(".upload-progress-bar__file-name").text()},
setFileNameIcon:function(a){this.$node.find(".upload-progress-bar__control .aui-icon").append(" "+a)},setFileSize:function(a){0<=a&&this.$node.find(".upload-progress-bar__file-size").html(x.format(a))},uploadFile:function(a,d){this.setFile(a);var c=this.result;this.monitorUpload(c);c.fail(this.reportError.bind(this));if(a.size>d)return c.reject(f("dnd.attachment.file.is.too.large").replace("{0}",this.uploadSize),!0),c;d='\\/":?*\x3c|\x3e'.split("");for(var b=0;b<d.length;b++){var e=d[b];if(g.contains(a.name,
e))return c.reject(p.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",a.name,e),!0),c}this.upload=new m.AjaxUpload({file:a,params:this.getUploadParams(a),url:m.AjaxPresenter.DEFAULT_URL,progress:function(b){c.notify(b/a.size)},success:function(b,d){void 0!==b.id&&void 0!==b.name?(c.notify(1),c.resolve(b,d,a)):c.reject(b,d,a)},error:function(a,b){c.reject(f("dnd.attachment.internal.server.error"),b)},abort:function(){c.reject(f("dnd.attachment.upload.aborted"),"abort")}});this.checkSession().then(function(){this.upload.upload()}.bind(this)).fail(function(){c.reject(f("dnd.attachment.unauthorized"),
401)});this.$node.find(".upload-progress-bar__control\x3e*").on("click",function(){this.upload.abort();c.reject()}.bind(this));c.done(function(a){u.putAttachment(a.id,this.file,{name:a.name});this.setFile(this.file);this.setFileName(a.name);this.setFileNameIcon(a.name);this.setFileID(a.id);l.trace("jira.issue.dnd.uploaded")}.bind(this));return c},monitorUpload:function(a){a.progress(this.setProgress.bind(this));a.done(this.setFinished.bind(this));a.fail(this.setFailed.bind(this))},setProgress:function(a){this.progress=
a;this.updateProgress()},updateProgress:function(){var a=this.$node.find(".upload-progress-bar__progress-bar");a.toggleClass("UploadProgressBar_progressUnknown",!1===this.progress);0<=this.progress&&a.find(".upload-progress-bar__bar").css("width",100*this.progress+"%")},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__control button .aui-icon").addClass("aui-iconfont-success").removeClass("aui-iconfont-close-dialog");this.finished=
!0;this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed");this.failed=this.finished=!0;this.trigger("onFailed")},isFinished:function(){return!!this.finished},isFailed:function(){return!!this.failed},isSuccessful:function(){return this.isFinished()&&!this.isFailed()},isImageType:function(){return this.file&&this.file.type&&g.contains(z,this.file.type)},getThumbnailSrc:function(a){this.isImageType()&&(this.objectURL=window.URL.createObjectURL(a));return this.objectURL||
JIRA.Templates.ViewIssue.matchFileIconUrl({baseurl:t(),mimetype:a.type})},getThumbnailNode:function(){return this.$node.find(".upload-progress-bar__thumbnail")},getControlNode:function(){return this.$node.find(".upload-progress-bar__control button")},loadThumbnail:function(a){a=this.getThumbnailSrc(a);var b=this.getThumbnailNode();b.addClass(this.objectURL?"upload-progress-bar__thumbnail_image":"upload-progress-bar__thumbnail_icon");return e("\x3cimg/\x3e").attr("src",a).appendTo(b)},reportError:function(a,
b){"object"==typeof a&&a.errorMessage&&(a=a.errorMessage);this.$node.addClass("upload-progress-bar__upload-error");this.$node.removeClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__bar").css("width","100%");this.showErrorMessage(a,b);this.setAutoDestroy(!1);k("error",{message:a})},showErrorMessage:function(a){this.$node.find(".upload-progress-bar__error-message").text(a)},setIcon:function(a){var b=this.$node.find(".upload-progress-bar__control button .aui-icon");
if(!y.some(function(c){b.toggleClass(c,c==a);return c==a}))throw"Unknown icon";},checkSession:function(){var a=new h;e.ajax({type:"GET",url:contextPath+"/rest/auth/1/session",contentType:"application/json"}).done(function(){a.resolve()}).fail(function(){this.checkPermissions().done(function(b){a.resolve()}).fail(function(){a.reject()})}.bind(this));return a},checkPermissions:function(){var a=new h;e.ajax({type:"GET",url:contextPath+"/rest/api/2/mypermissions",contentType:"application/json",data:this.getEntityParams()}).done(function(b){b.permissions.CREATE_ATTACHMENT.havePermission?
a.resolve():a.reject()}).fail(function(){a.reject()});return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/AttachmentsUploadProgressBar.js' */
define("dndattachment/progressbars/AttachmentsUploadProgressBar",["require"],function(a){var b=a("dndattachment/progressbars/UploadProgressBar");a("jira/analytics");var e=a("jira/flag"),c=a("jquery"),f=a("dndattachment/aui/escape-html"),g=a("dndattachment/templates"),h=a("dndattachment/i18n");return b.extend({render:function(){this.$node.html(g.AttachmentsUploadProgressBar({isImageType:this.isImageType()})).removeClass("upload-progress-bar").addClass("attachments-upload-progress-bar");this.$node.toggleClass("attachment-content",
!this.isImageType());this.afterRender()},loadThumbnail:function(a){return"gallery"==this.$node.data("viewMode")?b.prototype.isImageType.call(this)?this._super.apply(this,arguments):c(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:a.type})).appendTo(this.getThumbnailNode()):c(JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:a.type})).appendTo(this.getThumbnailNode())},showErrorMessage:function(a,b){if("abort"!=b){var d=e.showErrorMsg(h("dnd.attachment.not.uploaded")(this.getFileName()),
f(a));c(d).on("aui-flag-close",function(){this.destroy()}.bind(this));this.bind("onDestroy",function(){d.close()})}},isImageType:function(){return"gallery"==this.$node.data("viewMode")},getControlNode:function(){return this.$node.find(".upload-progress-bar__upload-control span")},getAutoDestroy:function(){return!1}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/AttachmentsDropZone.soy' */
// This file was automatically generated from AttachmentsDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.dropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzoneMask';
}


JIRA.Templates.DnDAttachmentPlugin.dropzone = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-border"><div class="attachments-drop-zone__dragover-info"><p>' + soy.$$escapeHtml('Drop files to attach them to the issue') + '</p></div></div></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzone';
}


JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__window-dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/UploadProgressBar.soy' */
// This file was automatically generated from UploadProgressBar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="upload-progress-bar__thumbnail"> </div><span class="upload-progress-bar__file-name"> </span><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Cancel upload for') + '</span></button></div><div class="upload-progress-bar__error-message"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isImageType) ? '<div class="upload-progress-bar__thumbnail"><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><dl><dt><span class="upload-progress-bar__file-name"> </span></dt><dd class="upload-progress-bar__file-size"> </dd><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml('Cancel') + '</span></dd><dd class="upload-progress-bar__error-message"></dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>' : '<div class="attachment-thumb upload-progress-bar__thumbnail"></div><dl><dt class="attachment-title upload-progress-bar__file-name"></dt><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml('Cancel') + '</span></dd><dd class="attachment-size"><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></dd><dd class="attachment-author"> </dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>');
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="temp-upload-progress-bar__parent-container temp-upload-progress-bar__uploading"><div class="temp-upload-progress-bar__container"><div class="upload-progress-bar__thumbnail"></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__error"><div class="upload-progress-bar__error-indicator"><span class="aui-icon aui-icon-large aui-iconfont-error">' + soy.$$escapeHtml('Upload error') + '</span></div><div class="upload-progress-bar__error-text">' + soy.$$escapeHtml('Upload failed') + '</div></div><div class="upload-progress-bar__upload-mask"></div><div class="upload-progress-bar__control"><button type="button" class="aui-button"><span class="aui-icon aui-iconfont-close-dialog"><div class="button-text" aria-label="' + soy.$$escapeHtml('Cancel upload') + ' "></div><div class="file-name"></div><div class="error-message"></div></span></button></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><div class="upload-progress-bar_file-name-container"><span class="upload-progress-bar__file-name"></span></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.issueLink) + '">' + soy.$$escapeHtml(opt_data.issueKey) + ' - ' + soy.$$escapeHtml(opt_data.issueSummary) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.system.comment-panel:expandablecomments', location = 'js/plugin/comment/init-comments-expanding.js' */
require(["jira/util/formatter","jira/util/logger","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/ajax/smart-ajax","jquery"],function(e,t,a,i,n,s,r){"use strict";r(document).on("simpleClick",".collapsed-comments",function(o){function c(e){var s=r(e).find(".activity-comment").slice(f,f+p);m.replaceWith(s),t.trace("jira.issue.comment.expanded"),a.trigger(i.NEW_CONTENT_ADDED,[d,n.panelRefreshed]),u.find(".activity-comment:first").removeClass("collapsed").addClass("expanded")}o.preventDefault();var l=r(this),m=l.closest(".message-container"),u=l.closest(".issuePanelContainer"),d=l.closest(".module"),f=m.prevAll(".activity-comment").length,p=l.data("collapsed-count");!function(){l.text("Loading...")}(),function(){var e=l.attr("href");s.makeRequest({url:e,method:"GET",headers:{"X-PJAX":!0}}).done(c)}()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.help', location = 'aui.chunk.09fb29655ea68ba72c1b--56553e59e2ce00fc2629.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.pattern.help"],{H4sa:function(i,u,n){"use strict";n.r(u);n("FStl"),n("Q0fs"),n("nqD9"),n("0FWE"),n("VtiI")}},[["H4sa","runtime","aui.splitchunk.fbbef27525","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.d925afe2c0","aui.splitchunk.d727dd207f","aui.splitchunk.7da3927366"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:analytics', location = 'util/analytics.js' */
define("jira-help-tips/util/analytics",["jira/analytics"],function(t){"use strict";function e(t){return t=""+(t||""),t.replace(/\./g,"-")}function i(i,n){if(n&&n.attributes.id){var r={},a=e(n.attributes.id),s="";n.attributes.eventPrefix&&(s=n.attributes.eventPrefix,"."!==s.charAt(s.length-1)&&(s+=".")),r.name=s+"helptips."+a+"."+i,r.properties={},t.send(r)}}return{clean:e,send:i}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager', location = 'js/HelpTipManager.js' */
define("jira-help-tips/feature/help-tip-manager",["require"],function(s){"use strict";var e=s("underscore"),i=s("jquery"),t=s("jira/jquery/deferred"),n=s("wrm/context-path"),r=s("wrm/data"),d=n()+"/rest/helptips/1.0/tips",u=r.claim("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData");return{dismissedTipIds:[],sequences:[],loaded:new t,url:function(){return d},sync:function(s,e){var n=new t;return s||(s="get"),e||(e=null),"get"===s&&u&&u.dismissed?n.resolve(u.dismissed):i.ajax(this.url(),{type:s,dataType:"json",contentType:"application/json",data:e&&JSON.stringify(e),processData:!1}).done(function(s){n.resolve(s)}).fail(function(){n.reject()}),n.promise()},fetch:function(){var s=this.sync();return s.done(i.proxy(function(s){i.merge(this.dismissedTipIds,s),this.loaded.resolve()},this)),s.promise()},show:function(s){this.loaded.done(s)},dismiss:function(s){var e=s.attributes.id;e?(this.dismissedTipIds.push(e),this.sync("post",{id:e})):s._dismissed=!0},undismiss:function(s){var e=s.attributes.id;e?(this.dismissedTipIds.splice(i.inArray(e,this.dismissedTipIds),1),this.sync("delete",{id:e})):s._dismissed=!1},isDismissed:function(s){var e=s.attributes.id;return e?i.inArray(e,this.dismissedTipIds)>=0:s._dismissed},clearSequences:function(){this.sequences=[]},hideSequences:function(){e.each(this.sequences,function(s){s.view.dismiss()})},showSequences:function(){if(!this._showStarted){var s=this,t=0;this._showStarted=!0,i.when(this.loaded).done(function(){s.sequences.sort(function(s,e){return s.attributes.weight-e.attributes.weight}),s.sequences=e.filter(s.sequences,function(i){var n=-1===e.indexOf(s.dismissedTipIds,i.attributes.id);return n&&(i.attributes.position=t++),n}),s.sequences.length>0&&(e.last(s.sequences).attributes.showCloseButton=!0,s.sequences[0].show({force:!0})),s._showStarted=!1})}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'templates/HelpTip.soy' */
// This file was automatically generated from HelpTip.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.HelpTip.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }
if (typeof AJS.Templates.HelpTip == 'undefined') { AJS.Templates.HelpTip = {}; }


AJS.Templates.HelpTip.tipContent = function(opt_data, opt_ignored) {
  return ((opt_data.title) ? '<h2 class="helptip-title">' + soy.$$escapeHtml(opt_data.title) + '</h2>' : '') + '<p class="helptip-body">' + soy.$$filterNoAutoescape(opt_data.bodyHtml) + '</p>' + ((opt_data.url) ? '<p><a class="helptip-link" href="' + soy.$$escapeHtml(opt_data.url) + '" target="_blank">' + ((opt_data.linkText) ? soy.$$escapeHtml(opt_data.linkText) : soy.$$escapeHtml('Learn more')) + '</a></p>' : '') + AJS.Templates.HelpTip.tipFooter(opt_data);
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipContent.soyTemplateName = 'AJS.Templates.HelpTip.tipContent';
}


AJS.Templates.HelpTip.tipFooter = function(opt_data, opt_ignored) {
  return '<form class="tip-footer">' + AJS.Templates.HelpTip.nextButton(opt_data) + AJS.Templates.HelpTip.closeButton(opt_data) + AJS.Templates.HelpTip.sequencePaging(opt_data) + '</form>';
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipFooter.soyTemplateName = 'AJS.Templates.HelpTip.tipFooter';
}


AJS.Templates.HelpTip.nextButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showNextButton) ? '<button class="aui-button helptip-next" type="button">' + ((opt_data.nextButtonText) ? soy.$$escapeHtml(opt_data.nextButtonText) : soy.$$escapeHtml('Next')) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.nextButton.soyTemplateName = 'AJS.Templates.HelpTip.nextButton';
}


AJS.Templates.HelpTip.closeButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showCloseButton) ? '<button class="aui-button ' + ((opt_data.showNextButton) ? ' aui-button-link ' : '') + ' helptip-close" type="button">' + ((opt_data.closeButtonText) ? soy.$$escapeHtml(opt_data.closeButtonText) : soy.$$escapeHtml('Close')) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.closeButton.soyTemplateName = 'AJS.Templates.HelpTip.closeButton';
}


AJS.Templates.HelpTip.sequencePaging = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isSequence && opt_data.length > 1) ? '<span class="helptip-sequence-paging">' + soy.$$escapeHtml(opt_data.position + 1) + '/' + soy.$$escapeHtml(opt_data.length) + '</span>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.sequencePaging.soyTemplateName = 'AJS.Templates.HelpTip.sequencePaging';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'js/HelpTip.js' */
define("jira-help-tips/feature/help-tip",["require"],function(i){"use strict";function t(){return!1}function e(){return!0}function s(){return"jira-help-tip-"+p+d++}var n=i("jquery"),o=i("underscore"),h=i("jira-help-tips/feature/help-tip-manager"),l=i("jira-help-tips/util/analytics"),r=i("aui/inline-dialog"),a=i("jira/jquery/deferred"),u=AJS.Popups,c=AJS.Templates.HelpTip,d=0,p=(new Date).getTime(),f=function(i,t){this.initialize(i,t)},b=function(i){this.initialize(i)},m=function(i){var t;this.attributes=n.extend({},i),this.attributes.id||(this.attributes.id=!1),this.attributes.callbacks||(this.attributes.callbacks={}),this.attributes.isSequence&&(this.attributes.weight||(this.attributes.weight=Number.MAX_VALUE),h.sequences.push(this)),this.attributes.body&&(this.attributes.bodyHtml=this.attributes.body,delete this.attributes.body),this.cid=s(),t=this.attributes.anchor,delete this.attributes.anchor,this.view=t?new f(this,t):new b(this)};return n.extend(m.prototype,{show:function(i){i=i||{};var t=this,e=new a;if(this.attributes.callbacks.beforeShow){var s=this.attributes.callbacks.beforeShow();s&&o.isFunction(s.done)?s.done(e.resolve):e.resolve()}else e.resolve();e.done(function(){h.show(function(){t.isDismissed()||(!i.force&&u&&u.DisplayController?u.DisplayController.request({name:t.id,weight:1e3,show:function(){t.view.show()}}):t.view.show(),l.send("shown",t))})})},dismiss:function(){var i=l.clean(arguments[0]||"programmatically");this.view.dismiss(),"close-button"===i&&this.attributes.isSequence&&h.clearSequences(),this.isDismissed()||(h.dismiss(this),l.send("dismissed."+i,this))},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return h.isDismissed(this)},refresh:function(){this.isDismissed()||this.view.refresh()},hide:function(){this.isDismissed()||this.view.dismiss()},showNextHelpTipInSequence:function(){this.view.clickNext()}}),n.extend(f.prototype,{initialize:function(i,e){this.model=i,this.anchorSelector=e,this.anchor=n(e),this._initDialog(e),n(document).bind("showLayer",function(e,s,o){"inlineDialog"===s&&o.id===i.cid&&(r.current=null,n(document.body).unbind("click."+i.cid+".inline-dialog-check"),o._validateClickToClose=t,o.hide=t)})},show:function(){this.beforeHide=t,this.popup.show()},refresh:function(){var i=n(this.anchorSelector);i.is(":visible")?i.get(0)!==this.anchor.get(0)?this.changeAnchor(i):this.isVisible()?this.popup.refresh():this.show():this.dismiss()},changeAnchor:function(i){var t=this.isVisible();this.dismiss(),this.$el.remove(),this.anchor=i,this._initDialog(i),t&&this.show()},dismiss:function(){this.beforeHide=e,this._popupHide()},clickNext:function(){var i=n(this.$el).find(".helptip-next");i.length>0&&i.click()},isVisible:function(){return this.$el.is(":visible")},_initDialog:function(i){var e=this,s=this.model;this.popup=new r(n(i),s.cid,o.bind(this._createDialog,this),o.extend({container:"#content",noBind:!0,preHideCallback:function(){return e.beforeHide()},calculatePositions:function(i,t,e,s){var o=r.opts.calculatePositions(i,t,e,s),h=n(this.container),l=h.offset();return"auto"!==o.popupCss.left&&(o.popupCss.left-=l.left,o.popupCss.right="auto"),o.popupCss.top-=l.top,o},addActiveClass:!1,initCallback:s.attributes.callbacks.init,hideCallback:s.attributes.callbacks.hide,persistent:!0},s.attributes.inlineDialogOpts)),this._popupHide=this.popup.hide,this.popup.hide=t,this.$el=n(this.popup[0]),this.$el.addClass("jira-help-tip aui-help")},_createDialog:function(i,t,e){var s=this,r=h.sequences,a=this.model.attributes.position,u=this.model.attributes.isSequence;i.removeClass("contents"),i.html(n(c.tipContent(o.extend({showNextButton:u&&r.length>1&&a+1<r.length,length:r.length,position:a,showCloseButton:!0},this.model.attributes)))),i.unbind("mouseover mouseout"),i.find(".helptip-link").click(function(){l.send("learn-more.clicked",s.model)}),i.find(".helptip-close").click(function(i){i.preventDefault(),s.model.dismiss("close-button")}),i.find(".helptip-next").click(function(i){i.preventDefault(),s.model.dismiss("next-button");var t=a+1;r[t]&&r[t].show({force:!0})}),e()}}),n.extend(b.prototype,{initialize:function(){this.$el=n("<div></div>"),this.$el.addClass("jira-help-tip aui-help")},show:function(){},dismiss:function(){}}),m});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:initialiser', location = 'js/initialiser.js' */
define("jira-help-tips/page/initialiser",["jira-help-tips/feature/help-tip-manager","jira/util/users/logged-in-user","underscore"],function(e,i,n){"use strict";function r(){i.isAnonymous()||e.fetch()}return{init:n.once(r)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:common', location = 'js/legacy.js' */
!function(){"use strict";AJS.namespace("AJS.HelpTip",null,require("jira-help-tips/feature/help-tip")),AJS.namespace("AJS.HelpTip.Manager",null,require("jira-help-tips/feature/help-tip-manager")),require("jira-help-tips/page/initialiser").init()}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events', location = 'util/Events.js' */
define("jira/components/util/events",["require"],function(a){var b=a("jira/util/events/types");return a("jira/components/libs/underscore").extend({},b,{LAYOUT_RENDERED:"layoutRendered"})});AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-easing', location = '/includes/jquery/plugins/easing/jquery.easing.1.3.js' */
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,e,t,u,a){return jQuery.easing[jQuery.easing.def](n,e,t,u,a)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(1-Math.pow(2,-10*e/a))+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=a*(.3*1.5)),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*(e*e*((1+(r*=1.525))*e-r))+t:u/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(n,e,t,u,a){return u-jQuery.easing.easeOutBounce(n,a-e,0,u,a)+t},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?u*(7.5625*e*e)+t:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,e,t,u,a){return e<a/2?.5*jQuery.easing.easeInBounce(n,2*e,0,u,a)+t:.5*jQuery.easing.easeOutBounce(n,2*e-a,0,u,a)+.5*u+t}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox-1.3.4.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e,i,n,a,o,d,c,r,s,h,l,f,p,g=0,b={},y=[],u=0,w={},v=[],m=null,x=new Image,I=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,k=1,O=0,j="",S=!1,T=t.extend(t("<div/>")[0],{prop:0}),D=t.browser.msie&&t.browser.version<7&&!window.XMLHttpRequest,A=function(){i.hide(),x.onerror=x.onload=null,m&&m.abort(),e.empty()},F=function(){if(!1===b.onError(y,g,b))return i.hide(),void(S=!1);b.titleShow=!1,b.width="auto",b.height="auto",e.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),N()},E=function(){var n,a,o,c,r,s,h=y[g];if(A(),b=t.extend({},t.fn.fancybox.defaults,void 0===t(h).data("fancybox")?b:t(h).data("fancybox")),!1===(s=b.onStart(y,g,b)))return void(S=!1);if("object"==(void 0===s?"undefined":_typeof(s))&&(b=t.extend(b,s)),o=b.title||(h.nodeName?t(h).attr("title"):h.title)||"",h.nodeName&&!b.orig&&(b.orig=t(h).children("img:first").length?t(h).children("img:first"):t(h)),""===o&&b.orig&&b.titleFromAlt&&(o=b.orig.attr("alt")),n=b.href||(h.nodeName?t(h).attr("href"):h.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),b.type?(a=b.type,n||(n=b.content)):b.content?a="html":n&&(a=n.match(I)?"image":n.match(C)?"swf":t(h).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),!a)return void F();switch("inline"==a&&(h=n.substr(n.indexOf("#")),a=t(h).length>0?"inline":"ajax"),b.type=a,b.href=n,b.title=o,b.autoDimensions&&("html"==b.type||"inline"==b.type||"ajax"==b.type?(b.width="auto",b.height="auto"):b.autoDimensions=!1),b.modal&&(b.overlayShow=!0,b.hideOnOverlayClick=!1,b.hideOnContentClick=!1,b.enableEscapeButton=!1,b.showCloseButton=!1),b.padding=parseInt(b.padding,10),b.margin=parseInt(b.margin,10),e.css("padding",b.padding+b.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(d.children())}),a){case"html":e.html(b.content),N();break;case"inline":if(!0===t(h).parent().is("#fancybox-content"))return void(S=!1);t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(h)).bind("fancybox-cleanup",function(){t(this).replaceWith(d.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(h).appendTo(e),N();break;case"image":S=!1,t.fancybox.showActivity(),x=new Image,x.onerror=function(){F()},x.onload=function(){S=!0,x.onerror=x.onload=null,P()},x.src=n;break;case"swf":b.scrolling="no",c='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+b.width+'" height="'+b.height+'"><param name="movie" value="'+n+'"></param>',r="",t.each(b.swf,function(t,e){c+='<param name="'+t+'" value="'+e+'"></param>',r+=" "+t+'="'+e+'"'}),c+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+b.width+'" height="'+b.height+'"'+r+"></embed></object>",e.html(c),N();break;case"ajax":S=!1,t.fancybox.showActivity(),b.ajax.win=b.ajax.success,m=t.ajax(t.extend({},b.ajax,{url:n,data:b.ajax.data||{},error:function(t,e,i){t.status>0&&F()},success:function(t,a,o){if(200==("object"==(void 0===o?"undefined":_typeof(o))?o:m).status){if("function"==typeof b.ajax.win){if(!1===(s=b.ajax.win(n,t,a,o)))return void i.hide();"string"!=typeof s&&"object"!=(void 0===s?"undefined":_typeof(s))||(t=s)}e.html(t),N()}}}));break;case"iframe":B()}},N=function(){var i=b.width,n=b.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*b.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*b.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==b.scrolling?"auto":"yes"==b.scrolling?"scroll":"hidden")+';position:relative;"></div>'),b.width=e.width(),b.height=e.height(),B()},P=function(){b.width=x.width,b.height=x.height,t("<img />").attr({id:"fancybox-img",src:x.src,alt:b.title}).appendTo(e),B()},B=function(){var o,l;return i.hide(),a.is(":visible")&&!1===w.onCleanup(v,u,w)?(t.event.trigger("fancybox-cancel"),void(S=!1)):(S=!0,t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),a.is(":visible")&&"outside"!==w.titlePosition&&a.css("height",a.height()),v=y,u=g,w=b,w.overlayShow?(n.css({"background-color":w.overlayColor,opacity:w.overlayOpacity,cursor:w.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(D&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),p=W(),M(),a.is(":visible")?(t(c.add(s).add(h)).hide(),o=a.position(),f={top:o.top,left:o.left,width:a.width(),height:a.height()},l=f.width==p.width&&f.height==p.height,void d.fadeTo(w.changeFade,.3,function(){var i=function(){d.html(e.contents()).fadeTo(w.changeFade,1,z)};t.event.trigger("fancybox-change"),d.empty().removeAttr("filter").css({"border-width":w.padding,width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}),l?i():(T.prop=0,t(T).animate({prop:1},{duration:w.changeSpeed,easing:w.easingChange,step:R,complete:i}))})):(a.removeAttr("style"),d.css("border-width",w.padding),"elastic"==w.transitionIn?(f=Q(),d.html(e.contents()),a.show(),w.opacity&&(p.opacity=0),T.prop=0,void t(T).animate({prop:1},{duration:w.speedIn,easing:w.easingIn,step:R,complete:z})):("inside"==w.titlePosition&&O>0&&r.show(),d.css({width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}).html(e.contents()),void a.css(p).fadeIn("none"==w.transitionIn?0:w.speedIn,z))))},L=function(t){return!(!t||!t.length)&&("float"==w.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+w.titlePosition+'">'+t+"</div>")},M=function(){if(j=w.title||"",O=0,r.empty().removeAttr("style").removeClass(),!1===w.titleShow)return void r.hide();if(!(j=t.isFunction(w.titleFormat)?w.titleFormat(j,v,u,w):L(j))||""===j)return void r.hide();switch(r.addClass("fancybox-title-"+w.titlePosition).html(j).appendTo("body").show(),w.titlePosition){case"inside":r.css({width:p.width-2*w.padding,marginLeft:w.padding,marginRight:w.padding}),O=r.outerHeight(!0),r.appendTo(o),p.height+=O;break;case"over":r.css({marginLeft:w.padding,width:p.width-2*w.padding,bottom:w.padding}).appendTo(o);break;case"float":r.css("left",-1*parseInt((r.width()-p.width-40)/2,10)).appendTo(a);break;default:r.css({width:p.width-2*w.padding,paddingLeft:w.padding,paddingRight:w.padding}).appendTo(a)}r.hide()},_=function(){if((w.enableEscapeButton||w.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&w.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!w.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),!w.showNavArrows)return s.hide(),void h.hide();(w.cyclic&&v.length>1||0!==u)&&s.show(),(w.cyclic&&v.length>1||u!=v.length-1)&&h.show()},z=function(){t.support.opacity||(d.get(0).style.removeProperty("filter"),a.get(0).style.removeProperty("filter")),b.autoDimensions&&d.css("height","auto"),a.css("height","auto"),j&&j.length&&r.show(),w.showCloseButton&&c.show(),_(),w.hideOnContentClick&&d.bind("click",t.fancybox.close),w.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),w.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==w.type&&t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(t.browser.msie?'allowtransparency="true""':"")+' scrolling="'+b.scrolling+'" src="'+w.href+'"></iframe>').appendTo(d),a.show(),S=!1,t.fancybox.center(),w.onComplete(v,u,w),H()},H=function(){var t,e;v.length-1>u&&void 0!==(t=v[u+1].href)&&t.match(I)&&(e=new Image,e.src=t),u>0&&void 0!==(t=v[u-1].href)&&t.match(I)&&(e=new Image,e.src=t)},R=function(t){var e={width:parseInt(f.width+(p.width-f.width)*t,10),height:parseInt(f.height+(p.height-f.height)*t,10),top:parseInt(f.top+(p.top-f.top)*t,10),left:parseInt(f.left+(p.left-f.left)*t,10)};void 0!==p.opacity&&(e.opacity=t<.5?.5:t),a.css(e),d.css({width:e.width-2*w.padding,height:e.height-O*t-2*w.padding})},K=function(){return[t(window).width()-2*w.margin,t(window).height()-2*w.margin,t(document).scrollLeft()+w.margin,t(document).scrollTop()+w.margin]},W=function(){var t,e=K(),i={},n=w.autoScale,a=2*w.padding;return w.width.toString().indexOf("%")>-1?i.width=parseInt(e[0]*parseFloat(w.width)/100,10):i.width=w.width+a,w.height.toString().indexOf("%")>-1?i.height=parseInt(e[1]*parseFloat(w.height)/100,10):i.height=w.height+a,n&&(i.width>e[0]||i.height>e[1])&&("image"==b.type||"swf"==b.type?(t=w.width/w.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-a)/t+a,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-a)*t+a,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},q=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},Q=function(){var e,i,n=!!b.orig&&t(b.orig),a={};return n&&n.length?(e=q(n),a={width:e.width+2*w.padding,height:e.height+2*w.padding,top:e.top-w.padding-20,left:e.left-w.padding-20}):(i=K(),a={width:2*w.padding,height:2*w.padding,top:parseInt(i[3]+.5*i[1],10),left:parseInt(i[2]+.5*i[0],10)}),a},X=function(){if(!i.is(":visible"))return void clearInterval(l);t("div",i).css("top",-40*k+"px"),k=(k+1)%12};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!S){S=!0,t(this).blur(),y=[],g=0;var i=t(this).attr("rel")||"";i&&""!=i&&"nofollow"!==i?(y=t("a[rel="+i+"], area[rel="+i+"]"),g=y.index(this)):y.push(this),E()}}),this):this},t.fancybox=function(e){var i;if(!S){if(S=!0,i=void 0!==arguments[1]?arguments[1]:{},y=[],g=parseInt(i.index,10)||0,t.isArray(e)){for(var n=0,a=e.length;n<a;n++)"object"==_typeof(e[n])?t(e[n]).data("fancybox",t.extend({},i,e[n])):e[n]=t({}).data("fancybox",t.extend({content:e[n]},i));y=jQuery.merge(y,e)}else"object"==(void 0===e?"undefined":_typeof(e))?t(e).data("fancybox",t.extend({},i,e)):e=t({}).data("fancybox",t.extend({content:e},i)),y.push(e);(g>y.length||g<0)&&(g=0),E()}},t.fancybox.showActivity=function(){clearInterval(l),i.show(),l=setInterval(X,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(u+1)},t.fancybox.prev=function(){return t.fancybox.pos(u-1)},t.fancybox.pos=function(t){S||(t=parseInt(t),y=v,t>-1&&t<v.length?(g=t,E()):w.cyclic&&v.length>1&&(g=t>=v.length?0:v.length-1,E()))},t.fancybox.cancel=function(){S||(S=!0,t.event.trigger("fancybox-cancel"),A(),b.onCancel(y,g,b),S=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),r.empty().hide(),a.hide(),t.event.trigger("fancybox-cleanup"),d.empty(),w.onClosed(v,u,w),v=b=[],u=g=0,w=b={},S=!1}if(!S&&!a.is(":hidden")){if(S=!0,w&&!1===w.onCleanup(v,u,w))return void(S=!1);if(A(),t(c.add(s).add(h)).hide(),t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),d.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==w.titlePosition&&r.empty(),a.stop(),"elastic"==w.transitionOut){f=Q();var i=a.position();p={top:i.top,left:i.left,width:a.width(),height:a.height()},w.opacity&&(p.opacity=1),r.empty().hide(),T.prop=1,t(T).animate({prop:0},{duration:w.speedOut,easing:w.easingOut,step:R,complete:e})}else a.fadeOut("none"==w.transitionOut?0:w.speedOut,e)}},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(){var t,e;S||(e=!0===arguments[0]?1:0,t=K(),!e&&(a.width()>t[0]||a.height()>t[1])||a.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-d.height()-40)-w.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-d.width()-40)-w.padding))},"number"==typeof arguments[0]?arguments[0]:200))},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),i=t('<div id="fancybox-loading"><div></div></div>'),n=t('<div id="fancybox-overlay"></div>'),a=t('<div id="fancybox-wrap"></div>')),o=t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a),o.append(d=t('<div id="fancybox-content"></div>'),c=t('<a id="fancybox-close"></a>'),r=t('<div id="fancybox-title"></div>'),s=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),h=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),c.click(t.fancybox.close),i.click(t.fancybox.cancel),s.click(function(e){e.preventDefault(),t.fancybox.prev()}),h.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&a.bind("mousewheel.fb",function(e,i){S?e.preventDefault():0!=t(e.target).get(0).clientHeight&&t(e.target).get(0).scrollHeight!==t(e.target).get(0).clientHeight||(e.preventDefault(),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||a.addClass("fancybox-ie"),D&&(i.addClass("fancybox-ie6"),a.addClass("fancybox-ie6"),t('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
AJS.$.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length)return t=AJS.escapeHtml(t),"float"==this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jquery","jira/moment","jira/util/data/meta"],function(e,t,n,o){"use strict";function r(e,t){this.key=e,this.isAge=t}function a(t,n,o){return t in I?e.format(I[t],o):null}function i(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":case"timestamp":return"LLL";default:return null}}function u(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function l(e,t){var n=u(e);return n.clone().subtract("d",1)<=t&&t<n}function m(e,t){var n=u(e).add("d",1),o=n.clone().add("d",1);return n<=t&&t<o}function s(e,t){return Math.floor(t.diff(e,"minutes",!0))}function c(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function d(e,t){return Math.floor(t.diff(e,"days",!0))}function g(e,t){var n=i(t);return e.format(n)}function f(e,t,o){if(o=o||n(),e<=o){if(e>o.clone().subtract("m",1))return a("aMomentAgo",t);if(e>o.clone().subtract("m",2))return a("oneMinuteAgo",t);if(e>o.clone().subtract("m",50))return a("xMinutesAgo",t,s(e,o));if(e>o.clone().subtract("m",90))return a("oneHourAgo",t);if(l(o,e)&&e<o.clone().subtract("h",5))return a("oneDayAgo",t);if(e>o.clone().subtract("d",1))return a("xHoursAgo",t,c(e,o));if(e>o.clone().subtract("d",7))return a("xDaysAgo",t,Math.max(d(e,o),2));if(e>o.clone().subtract("d",8))return a("oneWeekAgo",t)}else{if(e<o.clone().add("m",1))return a("inAMoment",t);if(e<o.clone().add("m",2))return a("inOneMinute",t);if(e<o.clone().add("m",50))return a("inXMinutes",t,s(o,e));if(e<o.clone().add("m",90))return a("inOneHour",t);if(m(o,e)&&e>o.clone().add("h",5))return a("inOneDay",t);if(e<o.clone().add("d",1))return a("inXHours",t,c(o,e));if(e<o.clone().add("d",7))return a("inXDays",t,Math.max(d(o,e),2));if(e<o.clone().add("d",8))return a("inOneWeek",t)}return g(e,t)}var v={},x=o.getBoolean("date-relativize");r.types={};for(var A,h=["shortAge","longAge","fullAge","short","long","full","timestamp"],T=0,y=h.length;T<y;T++)A=h[T],r.types[A]=new r(A,-1!==A.toLowerCase().indexOf("age"));var I={};return v.FormatType=r,v.formatDate=function(e,t,n){return e&&t?(x||n)&&t.isAge?f(e,t):g(e,t):null},v.setRelativeTranslations=function(e){for(var t in e)I[t]=e[t]},v.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"Now",inOneMinute:"In 1 minute",inXMinutes:"In {0} minutes",inOneHour:"In 1 hour",inXHours:"In {0} hours",inOneDay:"Tomorrow",inXDays:"In {0} days",inOneWeek:"In 1 week",aMomentAgo:"Just now",oneMinuteAgo:"1 minute ago",xMinutesAgo:"{0} minutes ago",oneHourAgo:"1 hour ago",xHoursAgo:"{0} hours ago",oneDayAgo:"Yesterday",xDaysAgo:"{0} days ago",oneWeekAgo:"1 week ago"})},v.restoreDefaultRelativeTranslations(),v.formatDateWithRelativeAge=f,v.formatDateWithFormatString=g,v}),AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function(t,e,a,i){"use strict";var r,n=a.getBoolean("date-relativize"),u=[],s=function(t,e){t.data("livestampdata",e),u.push(t)},l=function t(){clearTimeout(r),m(),r=setTimeout(t,6e3)},m=function(){u=t.grep(u,function(t){var a,r,u=t.data("livestampdata"),s=t.data("relativize");if(e.isMoment(u)&&t.closest("html").length){a=t.text();var l=t.data("datetime-format");l=l||"fullAge",n||s||(l=l.replace("Age","")),r=i.formatDate(u,i.FormatType.types[l],s),a!==r&&t.text(r)}else t.removeData("livestampdata");return!!t.data("livestampdata")})},o=function(a){return a.each(function(){var a=t(this),i=a.attr("datetime");if(i){var r=isNaN(i)?e(i).utcOffset(i):e(parseInt(i,10));s(a,r)}}),l(),a};return t.fn.livestamp=function(){return o(this)},o}),function(){require("jira/jquery/plugins/livestamp/livestamp")}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-plugin-shortener', location = '/includes/jquery/plugins/shorten/shorten.js' */
define("jira/ajs/shorten/shortener",["jira/util/formatter","jira/ajs/control","jira/data/local-storage","jquery"],function(t,e,i,n){return e.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"Click to view {0} more",collapseButtonTooltip:"Hide"}},init:function(t){"string"==typeof t&&(t={element:t}),t=t||{},this.options=n.extend(this._getDefaultOptions(),t),this._timerId=0,this.expanded=!1,this.$container=n(this.options.element),this._assignEvents("body",document.body),this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_ready:function(){this._isValid()&&(this.$container.find(".shortener-expand, .shortener-collapse, br").remove(),this.$items=this.$container.children(this.options.items),this.$expandButton=this._render("expandButton"),this.$collapseButton=this._render("collapseButton"),this._assignEvents("expand-button",".shortener-expand"),this._assignEvents("collapse-button",".shortener-collapse"),this._assignEvents("resize-region",window),this._isCollapsedOnInit()?this.collapse():this.expand(),this.initialized=!0)},_renders:{expandButton:function(){return n("<a href='#' class='ellipsis shortener-expand'></a>").attr("title",this.options.expandButtonTooltip).add("<br>")},collapseButton:function(){return n("<a href='#' title='Hide' class='icon icon-hide shortener-collapse'></a>").append(n("<span>").text(this.options.collapseButtonTooltip))}},_events:{"expand-button":{click:function(t){t.currentTarget===this.$expandButton[0]&&(t.preventDefault(),this.expand(),this._saveState("expanded"))}},"collapse-button":{click:function(t){t.currentTarget===this.$collapseButton[0]&&(t.preventDefault(),this.collapse(),this._saveState("collapsed"),this.$container.scrollIntoView())}},"resize-region":{resize:function(){if(clearTimeout(this._timerId),!this.expanded){var t=this;this._timerId=setTimeout(function(){t.collapse()},400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{i.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(t){}},_loadState:function(){return i.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove(),this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&++t>this.options.numRows)return i;e=n}return-1},expand:function(){this._removeButtons(),this._getOverflowIndex()>0&&(this.$collapseButton=this._render("collapseButton"),this.$container.append(this.$collapseButton),this.$container.css("height","auto"),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")),this.expanded=!0},collapse:function(){this._removeButtons();var e=this._getOverflowIndex();if(e>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var i=this.$expandButton.first();do{var s=this.$items.length-e;i.text("("+s+")"),this.$expandButton.insertBefore(this.$items[e]),e--;var o=this.$items.eq(e).offset(),r=this.$expandButton.offset();if(o.left<r.left&&r.top<o.top+10)break}while(e>0);var a=e<this.$items.length-1?this.$items.eq(e+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:a,position:"static",visibility:"visible",width:"auto"}),i.attr("title",t.format(this.options.expandButtonTooltip,s)),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}else this.$container.css("height","auto");this.expanded=!1}})}),define("jira/jquery/plugins/shorten/shorten",["jira/ajs/shorten/shortener","jquery"],function(t,e){e.fn.shorten=function(e){var i=[];return e=e||{},this.each(function(){e.element=this,i.push(new t(e))}),i}}),AJS.namespace("AJS.Shortener",null,require("jira/ajs/shorten/shortener")),function(){require("jira/jquery/plugins/shorten/shorten")}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-plugin-shortener', location = '/includes/jira/viewissue/element/shorten.js' */
define("jira/viewissue/element/shorten",["jira/ajs/shorten/shortener","jira/skate"],function(e,t){"use strict";return t("shorten",{type:t.type.CLASSNAME,attached:function(t){var n={};n.element=t,new e(n)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,t,a,n,r){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=n||null,this.onClose=r||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof e?e:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=t,this.todayDateStr=a,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,void 0===Calendar._SDN){void 0===Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l,void 0===Calendar._SMN_len&&(Calendar._SMN_len=3),l=new Array;for(var i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_ie6=Calendar.is_ie&&/msie 6\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.getAbsolutePos=function(e){var t=jQuery(e).offset();return t.x=t.left,t.y=t.top,t},Calendar.isRelated=function(e,t){var a=t.relatedTarget;if(!a){var n=t.type;"mouseover"==n?a=t.fromElement:"mouseout"==n&&(a=t.toElement)}for(;a;){if(a==e)return!0;a=a.parentNode}return!1},Calendar.removeClass=function(e,t){if(e&&e.className){for(var a=e.className.split(" "),n=new Array,r=a.length;r>0;)a[--r]!=t&&(n[n.length]=a[r]);e.className=n.join(" ")}},Calendar.addClass=function(e,t){Calendar.removeClass(e,t),e.className+=" "+t},Calendar.getElement=function(e){for(var t=e.currentTarget;1!==t.nodeType||/^div$/i.test(t.tagName);)t=t.parentNode;return t},Calendar.getTargetElement=function(e){for(var t=e.target;1!==t.nodeType;)t=t.parentNode;return t},Calendar.stopEvent=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},Calendar.addEvent=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener?e.addEventListener(t,a,!0):e["on"+t]=a},Calendar.removeEvent=function(e,t,a){e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener?e.removeEventListener(t,a,!0):e["on"+t]=null},Calendar.createElement=function(e,t){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),void 0!==t&&t.appendChild(a),a},Calendar._add_evs=function(el){with(Calendar)addEvent(el,"mouseover",dayMouseOver),addEvent(el,"mousedown",dayMouseDown),addEvent(el,"mouseout",dayMouseOut),is_ie&&(addEvent(el,"dblclick",dayMouseDblClick),el.setAttribute("unselectable",!0))},Calendar.findMonth=function(e){return void 0!==e.month?e:void 0!==e.parentNode.month?e.parentNode:null},Calendar.findYear=function(e){return void 0!==e.year?e:void 0!==e.parentNode.year?e.parentNode:null},Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e)return!1;var e=e,t=e.activeDiv,a=e.monthsCombo;e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active"),e.activeMonth=n;var r=a.style;if(r.display="block",t.navtype<0)r.left=t.offsetLeft+"px";else{var l=a.offsetWidth;void 0===l&&(l=50),r.left=t.offsetLeft+t.offsetWidth-l+"px"}r.top=t.offsetTop+t.offsetHeight+"px"},Calendar.showYearsCombo=function(e){var t=Calendar._C;if(!t)return!1;var t=t,a=t.activeDiv,n=t.yearsCombo;t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),t.activeYear&&Calendar.removeClass(t.activeYear,"active"),t.activeYear=null;for(var r=t.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s)r>=t.minYear&&r<=t.maxYear?(l.innerHTML=r,l.year=r,l.style.display="block",i=!0):l.style.display="none",l=l.nextSibling,r+=e?t.yearStep:-t.yearStep;if(i){var o=n.style;if(o.display="block",a.navtype<0)o.left=a.offsetLeft+"px";else{var d=n.offsetWidth;void 0===d&&(d=50),o.left=a.offsetLeft+a.offsetWidth-d+"px"}o.top=a.offsetTop+a.offsetHeight+"px"}},Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal)return!1;cal.timeout&&clearTimeout(cal.timeout);var el=cal.activeDiv;if(!el)return!1;var target=Calendar.getTargetElement(ev);ev||(ev=window.event),Calendar.removeClass(el,"active"),target!=el&&target.parentNode!=el||Calendar.cellClick(el,ev);var mon=Calendar.findMonth(target),date=null;if(mon)date=new Date(cal.date),mon.month!=date.getMonth()&&(date.setMonth(mon.month),cal.setDate(date),cal.dateClicked=!1,cal.callHandler());else{var year=Calendar.findYear(target);year&&(date=new Date(cal.date),year.year!=date.getFullYear()&&(date.setFullYear(year.year),cal.setDate(date),cal.dateClicked=!1,cal.callHandler()))}with(Calendar)return removeEvent(document,"mouseup",tableMouseUp),removeEvent(document,"mouseover",tableMouseOver),removeEvent(document,"mousemove",tableMouseOver),cal._hideCombos(),_C=null,stopEvent(ev)},Calendar.tableMouseOver=function(e){var t=Calendar._C;if(t){var a=t.activeDiv,n=Calendar.getTargetElement(e);if(n==a||n.parentNode==a?(Calendar.addClass(a,"hilite active"),Calendar.addClass(a.parentNode,"rowhilite")):((void 0===a.navtype||50!=a.navtype&&(0==a.navtype||Math.abs(a.navtype)>2))&&Calendar.removeClass(a,"active"),Calendar.removeClass(a,"hilite"),Calendar.removeClass(a.parentNode,"rowhilite")),e||(e=window.event),50==a.navtype&&n!=a){var r,l=Calendar.getAbsolutePos(a),i=a.offsetWidth,s=e.clientX,o=!0;s>l.x+i?(r=s-l.x-i,o=!1):r=l.x-s,r<0&&(r=0);for(var d=a._range,h=a._current,u=Math.floor(r/10)%d.length,c=d.length;--c>=0&&d[c]!=h;);for(;u-- >0;)o?--c<0&&(c=d.length-1):++c>=d.length&&(c=0);var m=d[c];a.innerHTML=m,t.onUpdateTime()}var C=Calendar.findMonth(n);if(C)C.month!=t.date.getMonth()?(t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),Calendar.addClass(C,"hilite"),t.hilitedMonth=C):t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");else{t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");var p=Calendar.findYear(n);p&&p.year!=t.date.getFullYear()?(t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),Calendar.addClass(p,"hilite"),t.hilitedYear=p):t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite")}return Calendar.stopEvent(e)}},Calendar.tableMouseDown=function(e){if(Calendar.getTargetElement(e)==Calendar.getElement(e))return Calendar.stopEvent(e)},Calendar.calDragIt=function(e){var t=Calendar._C;if(!t||!t.dragging)return!1;var a,n;Calendar.is_ie?(n=window.event.clientY+document.body.scrollTop,a=window.event.clientX+document.body.scrollLeft):(a=e.pageX,n=e.pageY);var r=t.element.style;return r.left=a-t.xOffs+"px",r.top=n-t.yOffs+"px",Calendar.stopEvent(e)},Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal)return!1;with(cal.dragging=!1,Calendar)removeEvent(document,"mousemove",calDragIt),removeEvent(document,"mouseup",calDragEnd),tableMouseUp(ev)},Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled)return!1;var cal=el.calendar;if(cal.activeDiv=el,Calendar._C=cal,300!=el.navtype)with(Calendar)50==el.navtype?(el._current=el.innerHTML,addEvent(document,"mousemove",tableMouseOver)):addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver),addClass(el,"hilite active"),addEvent(document,"mouseup",tableMouseUp);else cal.isPopup&&cal._dragStart(ev);return-1==el.navtype||1==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)):-2==el.navtype||2==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout(el.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):cal.timeout=null,Calendar.stopEvent(ev)},Calendar.dayMouseDblClick=function(e){Calendar.cellClick(Calendar.getElement(e),e||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(t.ttip&&("_"==t.ttip.substr(0,1)&&(t.ttip=t.caldate.print(t.calendar.ttDateFormat)+t.ttip.substr(1)),t.calendar.tooltips.innerHTML=t.ttip),300!=t.navtype&&(Calendar.addClass(t,"hilite"),t.caldate&&Calendar.addClass(t.parentNode,"rowhilite")),Calendar.stopEvent(e))},Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);return!(isRelated(el,ev)||_C||el.disabled)&&(removeClass(el,"hilite"),el.caldate&&removeClass(el.parentNode,"rowhilite"),el.calendar&&(el.calendar.tooltips.innerHTML=_TT.SEL_DATE),stopEvent(ev))}},Calendar.cellClick=function(e,t){function a(e){var t=i.getDate(),a=i.getMonthDays(e);t>a&&i.setDate(a),i.setMonth(e)}var n=e.calendar,r=!1,l=!1,i=null;if(void 0===e.navtype){n.currentDateEl&&(Calendar.removeClass(n.currentDateEl,"selected"),Calendar.addClass(e,"selected"),(r=n.currentDateEl==e)||(n.currentDateEl=e)),n.date.setDateOnly(e.caldate),i=n.date;var s=!(n.dateClicked=!e.otherMonth);s||n.currentDateEl?l=!e.disabled:n._toggleMultipleDate(new Date(i)),s&&n._init(n.firstDayOfWeek,i)}else{if(200==e.navtype)return Calendar.removeClass(e,"hilite"),void n.callCloseHandler();i=new Date(n.date),0==e.navtype&&(n.todayDateStr?i=new Date(n.todayDateStr):i.setDateOnly(new Date)),n.dateClicked=!1;var o=i.getFullYear(),d=i.getMonth();switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var h=Calendar._TT.ABOUT;return void 0!==h?h+=n.showsTime?Calendar._TT.ABOUT_TIME:"":h='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(h);case-2:o>n.minYear&&i.setFullYear(o-1);break;case-1:d>0?a(d-1):o-- >n.minYear&&(i.setFullYear(o),a(11));break;case 1:d<11?a(d+1):o<n.maxYear&&(i.setFullYear(o+1),a(0));break;case 2:o<n.maxYear&&i.setFullYear(o+1);break;case 100:return void n.setFirstDayOfWeek(e.fdow);case 50:for(var u=e._range,c=e.innerHTML,m=u.length;--m>=0&&u[m]!=c;);t&&t.shiftKey?--m<0&&(m=u.length-1):++m>=u.length&&(m=0);var C=u[m];return e.innerHTML=C,void n.onUpdateTime();case 0:if("function"==typeof n.getDateStatus&&n.getDateStatus(i,i.getFullYear(),i.getMonth(),i.getDate()))return!1}i.equalsTo(n.date)?0==e.navtype&&(l=r=!0):(n.setDate(i),l=!0)}l&&t&&n.callHandler(),r&&(Calendar.removeClass(e,"hilite"),t&&n.callCloseHandler())},Calendar.prototype.create=function(e){var t=null;e?(t=e,this.isPopup=!1):(t=document.getElementsByTagName("body")[0],this.isPopup=!0),this.dateStr&&(this.date=new Date(this.dateStr)),this.date&&!isNaN(this.date)||(this.date=new Date);var a=Calendar.createElement("table");this.table=a,a.cellSpacing=0,a.cellPadding=0,a.calendar=this,Calendar.addEvent(a,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(a);var r=Calendar.createElement("thead",a),l=null,i=null,s=this,o=function(e,t,a){return l=Calendar.createElement("td",i),l.colSpan=t,l.className="button",0!=a&&Math.abs(a)<=2&&(l.className+=" nav"),Calendar._add_evs(l),l.calendar=s,l.navtype=a,l.innerHTML="<div unselectable='on'>"+e+"</div>",l};i=Calendar.createElement("tr",r);var d=6;this.isPopup&&--d,this.weekNumbers&&++d,o("?",1,400).ttip=Calendar._TT.INFO,this.title=o("",d,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",o("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),i=Calendar.createElement("tr",r),i.className="headrow",this._nav_py=o("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=o("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=o(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_nm=o("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=o("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,i=Calendar.createElement("tr",r),i.className="daynames",this.weekNumbers&&(l=Calendar.createElement("th",i),l.className="name wn",l.innerHTML=Calendar._TT.WK,l.setAttribute("scope","col"));for(var h=7;h>0;--h)l=Calendar.createElement("th",i),l.setAttribute("scope","col"),h||(l.navtype=100,l.calendar=this,Calendar._add_evs(l));this.firstdayname=this.weekNumbers?i.firstChild.nextSibling:i.firstChild,this._displayWeekdays();var u=Calendar.createElement("tbody",a);for(this.tbody=u,h=6;h>0;--h){i=Calendar.createElement("tr",u),this.weekNumbers&&(l=Calendar.createElement("td",i));for(var c=7;c>0;--c)l=Calendar.createElement("td",i),l.calendar=this,Calendar._add_evs(l)}this.showsTime?(i=Calendar.createElement("tr",u),i.className="time",l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,l.innerHTML=Calendar._TT.TIME||"&nbsp;",l=Calendar.createElement("td",i),l.className="time",l.colSpan=this.weekNumbers?4:3,function(){function e(e,t,a,n){var r=Calendar.createElement("span",l);if(r.className=e,r.innerHTML=t,r.calendar=s,r.ttip=Calendar._TT.TIME_PART,r.navtype=50,r._range=[],"number"!=typeof a)r._range=a;else for(var i=a;i<=n;++i){var o;o=i<10&&n>=10?"0"+i:""+i,r._range[r._range.length]=o}return Calendar._add_evs(r),r}var t=s.date.getHours(),a=s.date.getMinutes(),n=!s.time24,r=t>12;n&&r&&(t-=12);var o=e("hour",t,n?1:0,n?12:23),d=Calendar.createElement("span",l);d.innerHTML=":",d.className="colon";var h=e("minute",a,0,59),u=null;l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,n?u=e("ampm",r?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm]):l.innerHTML="&nbsp;",s.onSetTime=function(){var e,t=this.date.getHours(),a=this.date.getMinutes();n&&(e=t>=12,e&&(t-=12),0==t&&(t=12),u.innerHTML=e?Calendar._TT.pm:Calendar._TT.am),o.innerHTML=t<10?"0"+t:t,h.innerHTML=a<10?"0"+a:a},s.onUpdateTime=function(){var e=this.date,t=parseInt(o.innerHTML,10);n&&(new RegExp(Calendar._TT.pm,"i").test(u.innerHTML)&&t<12?t+=12:new RegExp(Calendar._TT.am,"i").test(u.innerHTML)&&12==t&&(t=0));var a=e.getDate(),r=e.getMonth(),l=e.getFullYear();e.setHours(t),e.setMinutes(parseInt(h.innerHTML,10)),e.setFullYear(l),e.setMonth(r),e.setDate(a),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var m=Calendar.createElement("tfoot",a);for(i=Calendar.createElement("tr",m),i.className="footrow",l=o(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300),l.className="ttip",this.isPopup&&(l.ttip=Calendar._TT.DRAG_TO_MOVE,l.style.cursor="move"),this.tooltips=l,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",h=0;h<Calendar._MN.length;++h){var C=Calendar.createElement("div");C.className=Calendar.is_ie?"label-IEfix":"label",C.month=h,C.innerHTML=Calendar._SMN[h],n.appendChild(C)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",h=12;h>0;--h){var p=Calendar.createElement("div");p.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(p)}this._init(this.firstDayOfWeek,this.date),t.appendChild(this.element),Calendar.addEvent(this.element,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1})},Calendar._upkeyEvent=function(e){27===e.keyCode&&window.setTimeout(function(){var e=window._dynarch_popupCalendar;if(!e||e.multiple)return!1;e.callCloseHandler()},0)},Calendar._keyEvent=function(e){function t(){u=r.currentDateEl;var e=u.pos;o=15&e,d=e>>4,h=r.ar_days[d][o]}function a(){var e=new Date(r.date);e.setDate(e.getDate()-c),r.setDate(e)}function n(){var e=new Date(r.date);e.setDate(e.getDate()+c),r.setDate(e)}var r=window._dynarch_popupCalendar;if(!r||r.multiple)return!1;var l=Calendar.is_ie||"keydown"==e.type,i=e.keyCode;if(e.ctrlKey)switch(i){case 37:l&&Calendar.cellClick(r._nav_pm);break;case 38:l&&Calendar.cellClick(r._nav_py);break;case 39:l&&Calendar.cellClick(r._nav_nm);break;case 40:l&&Calendar.cellClick(r._nav_ny)}else switch(i){case 32:Calendar.cellClick(r._nav_now);break;case 37:case 38:case 39:case 40:if(l){var s,o,d,h,u,c;for(s=37==i||38==i,c=37==i||39==i?1:7,t();;){switch(i){case 37:if(!(--o>=0)){o=6,i=38;continue}h=r.ar_days[d][o];break;case 38:--d>=0?h=r.ar_days[d][o]:(a(),t());break;case 39:if(!(++o<7)){o=0,i=40;continue}h=r.ar_days[d][o];break;case 40:++d<r.ar_days.length?h=r.ar_days[d][o]:(n(),t())}break}h&&(h.disabled?s?a():n():Calendar.cellClick(h))}break;case 13:l&&Calendar.cellClick(r.currentDateEl,e)}return Calendar.stopEvent(e)},Calendar.prototype._init=function(e,t){var a=new Date(t);a.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=a.getFullYear();s<this.minYear?(s=this.minYear,a.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,a.setFullYear(s)),this.firstDayOfWeek=e;var o=a.getMonth(),d=a.getDate();a.getMonthDays();a.setDate(1);var h=(a.getDay()-this.firstDayOfWeek)%7;h<0&&(h+=7),a.setDate(-h),a.setDate(a.getDate()+1);for(var u=this.tbody.firstChild,c=(Calendar._SMN[o],this.ar_days=new Array),m=Calendar._TT.WEEKEND,C=this.multiple?this.datesCells={}:null,p=0;p<6;++p,u=u.nextSibling){var v=u.firstChild;if(this.weekNumbers){v.className="day wn";var f=a;0==o&&0==p&&0==Date.useISO8601WeekNumbers&&(f=new Date(s,o,1)),v.innerHTML=f.getWeekNumber(this.firstDayOfWeek),v=v.nextSibling}u.className="daysrow";for(var y,g=!1,_=c[p]=[],D=0;D<7;++D,v=v.nextSibling,a.setDate(y+1)){y=a.getDate();var b=a.getDay();v.className="day day-"+y,v.pos=p<<4|D,_[D]=v;var T=a.getMonth()==o;if(T)v.otherMonth=!1,g=!0;else{if(!this.showsOtherMonths){v.className="emptycell",v.innerHTML="&nbsp;",v.disabled=!0;continue}v.className+=" othermonth",v.otherMonth=!0}if(v.disabled=!1,v.innerHTML=this.getDateText?this.getDateText(a,y):y,C&&(C[a.print("%Y%m%d")]=v),this.getDateStatus){var w=this.getDateStatus(a,s,o,y);if(this.getDateToolTip){var M=this.getDateToolTip(a,s,o,y);M&&(v.title=M)}!0===w?(v.className+=" disabled",v.disabled=!0):(/disabled/i.test(w)&&(v.disabled=!0),v.className+=" "+w)}v.disabled||(v.caldate=new Date(a),v.ttip="_",!this.multiple&&T&&y==d&&this.hiliteToday&&(v.className+=" selected",this.currentDateEl=v),a.getFullYear()==r&&a.getMonth()==l&&y==i&&(v.className+=" today",v.ttip+=Calendar._TT.PART_TODAY),-1!=m.indexOf(b.toString())&&(v.className+=v.otherMonth?" oweekend":" weekend"))}g||this.showsOtherMonths||(u.className="emptyrow")}this.date=new Date(t),this.onSetTime(),this.title.innerHTML=Calendar._MN[o]+", "+s,this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var t=this.datesCells[e],a=this.multiple[e];a&&(t&&(t.className+=" selected"))}},Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var t=e.print("%Y%m%d"),a=this.datesCells[t];if(a){this.multiple[t]?(Calendar.removeClass(a,"selected"),delete this.multiple[t]):(Calendar.addClass(a,"selected"),this.multiple[t]=e)}}},Calendar.prototype.setDateToolTipHandler=function(e){this.getDateToolTip=e},Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e},Calendar.prototype.setRange=function(e,t){this.minYear=e,this.maxYear=t},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)},Calendar.prototype.destroy=function(){this.element.parentNode.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(e){var t=this.element;t.parentNode.removeChild(t),e.appendChild(t)},Calendar._checkCalendar=function(e){var t=window._dynarch_popupCalendar;if(!t)return!1;for(var a=Calendar.is_ie?Calendar.getElement(e):Calendar.getTargetElement(e);null!=a&&a!=t.element;a=a.parentNode);return null==a?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(e)):void 0},Calendar.prototype.show=function(){if(!this.params.inputField.disabled){for(var e=this.table.getElementsByTagName("tr"),t=e.length;t>0;){var a=e[--t];Calendar.removeClass(a,"rowhilite");for(var n=a.getElementsByTagName("td"),r=n.length;r>0;){var l=n[--r];Calendar.removeClass(l,"hilite"),Calendar.removeClass(l,"active")}}Calendar.current=this,this.element.style.display="block",this.element.className+=" active",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keyup",Calendar._upkeyEvent),Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar))}},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent),Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),Calendar.current=null,this.element.style.display="none",this.element.className=this.element.className.replace(/active/gi,""),this.hidden=!0},Calendar.prototype.showAt=function(e,t){var a=this.element.style;a.left=e+"px",a.top=t+"px",this.show()},Calendar.prototype.showAtElement=function(e,t){function a(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0);var t=document.createElement("div"),a=t.style;a.position="absolute",a.right=a.bottom=a.width=a.height="0px",document.body.appendChild(t);var n=Calendar.getAbsolutePos(t);document.body.removeChild(t),n.y+=jQuery(window).scrollTop(),n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r),(r=e.y+e.height-n.y)>0&&(e.y-=r)}var n=this,r=Calendar.getAbsolutePos(e);if(!t||"string"!=typeof t)return this.showAt(r.x,r.y+e.offsetHeight),!0;this.element.style.display="block",Calendar.continuation_for_the_khtml_browser=function(){var l=jQuery(n.element).outerWidth(),i=jQuery(n.element).outerHeight();n.element.style.display="none";var s=t.substr(0,1),o="l";switch(t.length>1&&(o=t.substr(1,1)),s){case"T":r.y-=i;break;case"B":r.y+=jQuery(e).outerHeight();break;case"C":r.y+=(jQuery(e).outerHeight()-i)/2;break;case"t":r.y+=jQuery(e).outerHeight()-i}switch(o){case"L":r.x-=l;break;case"R":r.x+=jQuery(e).outerWidth();break;case"C":r.x+=(jQuery(e).outerWidth()-l)/2;break;case"l":r.x+=jQuery(e).outerWidth()-l}r.width=l,r.height=i+40,n.monthsCombo.style.display="none",a(r),n.showAt(r.x,r.y)},Calendar.continuation_for_the_khtml_browser()},Calendar.prototype.setDateFormat=function(e){this.dateFormat=e},Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e},Calendar.prototype.parseDate=function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,t=this.firstdayname,a=Calendar._TT.WEEKEND,n=0;n<7;++n){t.className="day name";var r=(n+e)%7;n&&(t.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]),t.navtype=100,t.calendar=this,t.fdow=r,Calendar._add_evs(t)),-1!=a.indexOf(r.toString())&&Calendar.addClass(t,"weekend"),t.innerHTML=Calendar._SDN[(n+e)%7],t=t.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(ev){if(!this.dragging){this.dragging=!0;var posX,posY;Calendar.is_ie?(posY=window.event.clientY+document.body.scrollTop,posX=window.event.clientX+document.body.scrollLeft):(posY=ev.clientY+window.scrollY,posX=ev.clientX+window.scrollX);var st=this.element.style;with(this.xOffs=posX-parseInt(st.left),this.yOffs=posY-parseInt(st.top),Calendar)addEvent(document,"mousemove",calDragIt),addEvent(document,"mouseup",calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date._multisplit=function(e,t){if(null==e)return null;null==t&&(t="");var a=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);-1==t.indexOf(s)?(l=!0,r+=s):l&&(a[a.length]=r,r="",l=!1)}return r.length>0&&(a[a.length]=r),0==a.length&&(a[a.length]=""),a},Date._parseNonDateFormatChars=function(e){var t="",a=e.length;for(i=0;i<a;i++){var n=e.charAt(i);if("%"==n){var r="";if(i+1<a&&(r=e.charAt(i+1)),i+=1,r.length>0&&-1!="aAbBCdeHIJklmMnpPRSstUWVuwyY%".indexOf(r))continue;-1==t.indexOf(n)&&(t+=n),r.length>0&&-1==t.indexOf(r)&&(t+=r)}else-1==t.indexOf(n)&&(t+=n)}return t},Date.splitDate=function(e,t){var a=(new Date,0),n=-1,r=0,l=Date._parseNonDateFormatChars(t),i=Date._multisplit(e,l),s=t.match(/%./g),o=0,d=0,h=0,u=0;for(o=0;o<i.length;++o)if(i[o])switch(s[o]){case"%d":case"%e":r=Number(i[o]);break;case"%m":n=Number(i[o])-1;break;case"%Y":case"%y":a=Number(i[o]),a<100&&(a+=a>29?1900:2e3);break;case"%b":case"%B":var c=i[o].toLowerCase(),m=!1;if("%b"==s[o])for(d=0;d<12;++d)if(Calendar._SMN[d].substr(0,c.length).toLowerCase()==c){n=d,m=!0;break}if(!m)for(d=0;d<12;++d)if(Calendar._MN[d].substr(0,c.length).toLowerCase()==c){n=d;break}break;case"%H":case"%I":case"%k":case"%l":h=Number(i[o]);break;case"%P":case"%p":/pm/i.test(i[o])&&h<12?h+=12:/am/i.test(i[o])&&h>=12&&(h-=12);break;case"%M":u=Number(i[o]);break;case"%R":var C=i[o],p=C.indexOf(":"),v=C.substring(0,p),f=-1==p?0:C.substring(p+1);h=Number(v),u=Number(f)}return{parts:i,year:a,month:n,day:r,hour:h,minute:u}},Date.parseDate=function(e,t){var a=new Date,n=Date.splitDate(e,t),r=n.parts,l=n.year,i=n.month,s=n.day,o=n.hour,d=n.minute,h=0,u=0;if(isNaN(l)&&(l=a.getFullYear()),isNaN(i)&&(i=a.getMonth()),isNaN(s)&&(s=a.getDate()),isNaN(o)&&(o=a.getHours()),isNaN(d)&&(d=a.getMinutes()),0!=l&&-1!=i&&0!=s)return new Date(l,i,s,o,d,0);for(l=0,i=-1,s=0,h=0;h<r.length;++h)if(-1!=r[h].search(/[a-zA-Z]+/)){var c=-1;for(u=0;u<12;++u)if(Calendar._MN[u].substr(0,r[h].length).toLowerCase()==r[h].toLowerCase()){c=u;break}-1!=c&&(-1!=i&&(s=i+1),i=c)}else Number(r[h])<=12&&-1==i?i=r[h]-1:Number(r[h])>31&&0==l?(l=Number(r[h]))<100&&(l+=l>29?1900:2e3):0==s&&(s=r[h]);return 0==l&&(l=a.getFullYear()),-1!=i&&0!=s?new Date(l,i,s,o,d,0):a},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return void 0===e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date._MD[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0),t=new Date(this.getFullYear(),0,0,13,0,0),a=e-t;return Math.floor(a/Date.DAY)},Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)},Date.prototype.getISO8601WeekNumber=function(){function e(e,t,a){return y=e,m=t,t<3&&(y-=1),t<3&&(m+=12),Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+a-62}return function(t){return year=t.getFullYear(),month=t.getMonth(),day=t.getDate(),wday=t.getDay(),weekday=(wday+6)%7+1,isoyear=year,d0=e(year,1,0),weekday0=(d0+4)%7+1,d=e(year,month+1,day),isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),11==month&&day-weekday>27&&(isoweeknr=1,isoyear+=1),0==month&&weekday-day>3&&(d0=e(year-1,1,0),weekday0=(d0+4)%7+1,isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),isoyear-=1),isoweeknr}(this)},Date.prototype.getSimpleWeekNumber=function(e){return function(e,t,a){var n,r=e.getFullYear(),l=new Date(r,0,1);return n=Math.round((e-l)/864e5),null!=t&&(n-=(7+t-l.getDay())%7),null!=a&&(n+=a),[r,1+n/7|0,1+(7+n)%7]}(this,e||6,6)[1]},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),a=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),o=s>=12,d=o?s-12:s,h=this.getDayOfYear();0==d&&(d=12);var u=this.getMinutes(),c=this.getSeconds();i["%a"]=Calendar._SDN[l],i["%A"]=Calendar._DN[l],i["%b"]=Calendar._SMN[t],i["%B"]=Calendar._MN[t],i["%C"]=1+Math.floor(n/100),i["%d"]=a<10?"0"+a:a,i["%e"]=a,i["%H"]=s<10?"0"+s:s,i["%I"]=d<10?"0"+d:d,i["%j"]=h<100?h<10?"00"+h:"0"+h:h,i["%k"]=s,i["%l"]=d,i["%m"]=t<9?"0"+(1+t):1+t,i["%M"]=u<10?"0"+u:u,i["%n"]="\n",i["%p"]=o?Calendar._TT.PM:Calendar._TT.AM,i["%P"]=o?Calendar._TT.PM:Calendar._TT.AM,i["%R"]=i["%k"]+":"+i["%M"],i["%s"]=Math.floor(this.getTime()/1e3),i["%S"]=c<10?"0"+c:c,i["%t"]="\t",i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r,i["%u"]=l+1,i["%w"]=l,i["%y"]=(""+n).slice(-2),i["%Y"]=n,i["%%"]="%";var m=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return e.replace(m,function(e){return i[e]||e});for(var C=e.match(m),p=0;p<C.length;p++){var v=i[C[p]];v&&(m=new RegExp(C[p],"g"),e=e.replace(m,v))}return e},Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear,Date.prototype.setFullYear=function(){var e=new Date(this);e.__msh_oldSetFullYear.apply(this,arguments),e.getMonth()!=this.getMonth()&&this.setDate(28),this.__msh_oldSetFullYear.apply(this,arguments)},window._dynarch_popupCalendar=null;
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.setup.js' */
!function(e,t){Calendar.setup=function(a){function n(e,t){void 0===a[e]&&(a[e]=t)}function l(t){var a=t.params,n=t.dateClicked||a.electric;n&&a.inputField&&(a.inputField.value=t.date.print(a.ifFormat),e(a.inputField).change()),n&&a.displayArea&&(a.displayArea.innerHTML=t.date.print(a.daFormat)),n&&"function"==typeof a.onUpdate&&a.onUpdate(t),n&&a.flat&&"function"==typeof a.flatCallback&&a.flatCallback(t),"true"===a.singleClick?a.singleClick=!0:"false"===a.singleClick&&(a.singleClick=!1),n&&a.singleClick&&t.dateClicked&&t.callCloseHandler()}function i(){if(!0===Calendar._UNSUPPORTED)return void alert("The JIRA Calendar does not currently support your language.");var e=a.inputField||a.displayArea,t=a.inputField?a.ifFormat:a.daFormat,n=!1,i=window.calendar;if(i&&i.hide(),e&&(e.value||e.innerHTML)&&(a.date=Date.parseDate(e.value||e.innerHTML,t)),i&&a.cache?(a.date&&i.setDate(a.date),i.hide()):(window.calendar=i=new Calendar(a.firstDay,a.date,a.todayDate,a.onSelect||l,a.onClose||function(e){e.hide()}),i.showsTime=a.showsTime,i.time24="24"==a.timeFormat,i.weekNumbers=a.weekNumbers,Date.useISO8601WeekNumbers=a.useISO8601WeekNumbers,a.useISO8601WeekNumbers&&(i.firstDayOfWeek=1),n=!0),a.multiple){i.multiple={};for(var r=a.multiple.length;--r>=0;){var u=a.multiple[r],o=u.print("%Y%m%d");i.multiple[o]=u}}return i.showsOtherMonths=a.showOthers,i.yearStep=a.step,i.setRange(a.range[0],a.range[1]),i.params=a,i.setDateStatusHandler(a.dateStatusFunc),i.getDateText=a.dateText,i.setDateFormat(t),n&&i.create(),i.refresh(),a.position?i.showAt(a.position[0],a.position[1]):i.showAtElement(a.button||a.displayArea||a.inputField,a.align),!1}a=a||{},n("inputField",null),n("context",null),n("displayArea",null),n("button",null),n("eventName","click"),n("ifFormat","%Y/%m/%d"),n("daFormat","%Y/%m/%d"),n("singleClick",!0),n("disableFunc",null),n("dateStatusFunc",a.disableFunc),n("dateText",null),n("firstDay",null),n("align","Br"),n("range",[1900,2999]),n("weekNumbers",!0),n("useISO8601WeekNumbers",!1),n("flat",null),n("flatCallback",null),n("onSelect",null),n("onClose",null),n("onUpdate",null),n("date",null),n("todayDate",null),n("showsTime",!1),n("timeFormat","24"),n("electric",!0),n("step",1),n("position",null),n("cache",!1),n("showOthers",!1),n("multiple",null);var r,u,o=["context","inputField","button","displayArea"];for(r in o)u=o[r],a[u]instanceof e&&(a[u]=a[u][0]);var s=["inputField","displayArea","button"];for(r in s)if(u=s[r],"string"==typeof a[u]){var d="#"+e.escapeSelector(a[u]),p=e(a.context||document.body).find(d);a[u]=p[0]}if(!(a.flat||a.multiple||a.inputField||a.displayArea||a.button))return t.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(a.firstDay&&null!==a.firstDay&&(a.firstDay=+a.firstDay),null!=a.flat){if("string"==typeof a.flat&&(a.flat=document.getElementById(a.flat)),!a.flat)return t.log("Calendar.setup:\n  Flat specified but can't find parent."),!1;var c=new Calendar(a.firstDay,a.date,a.todayDate,a.onSelect||l);return c.showsOtherMonths=a.showOthers,c.showsTime=a.showsTime,c.time24="24"==a.timeFormat,c.params=a,c.weekNumbers=a.weekNumbers,c.setRange(a.range[0],a.range[1]),c.setDateStatusHandler(a.dateStatusFunc),c.getDateText=a.dateText,a.ifFormat&&c.setDateFormat(a.ifFormat),a.inputField&&"string"==typeof a.inputField.value&&c.parseDate(a.inputField.value),c.create(a.flat),c.show(),!1}var f=a.button||a.displayArea||a.inputField;return e(f).bind(a.eventName,function(e){e.preventDefault(),i()}),a.inputField&&function(){var t=e(a.inputField);a.button&&e(a.button).mousedown(function(e){e.preventDefault(),!t.is(":focus")&&t.is(":enabled")&&t.focus()}),t.keydown(function(e){var t=window.calendar;40===e.keyCode&&(t&&!t.hidden||setTimeout(function(){i()},1))})}(),c}}(require("jquery"),require("jira/util/logger"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-layerable.js' */
define("jira/libs/calendar-layerable-mixin",["jira/ajs/layer/layer-interactions","jira/ajs/layer/inline-layer","jira/util/events"],function(e,n,i){"use strict";function r(r){e.preventDialogHide(r),e.preventInputBlur(r),e.preventInlineEditCancel(r),i.bind(n.EVENTS.beforeHide,function(e){r.current&&e.preventDefault()})}return{layerableExtensions:r}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-amd.js' */
define("jira/libs/calendar",["require"],function(a){"use strict";var e=window.Calendar;return a("jira/libs/calendar-layerable-mixin").layerableExtensions(e),e}),function(){"use strict";var a=require("jira/libs/calendar");AJS.namespace("window.Calendar",window,a)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:create-user-popup-picker', location = '/includes/jira/field/createUserPickerPopupTrigger.js' */
define("jira/field/create-user-picker-popup-trigger",["exports"],function(e){"use strict";e.createUserPickerPopupTrigger=function(e){var r=e.urlBase,t=e.formName,o=e.fieldName,i=e.actionToOpen,n=e.multiSelect,a=e.fieldConfigId,c=e.triggerEvent,l=e.projectIds;return function(e){var s,f=r;if(e.preventDefault(),f+=i||"/secure/popups/UserPickerBrowser.jspa",f+="?formName="+t,f+="&multiSelect="+Boolean(n),f+="&decorator=popup",f+="&element="+o,a&&(f+="&fieldConfigId="+a),l){l=[].concat(l);var p=!0,u=!1,d=void 0;try{for(var g,m=l[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){f+="&projectId="+g.value}}catch(e){u=!0,d=e}finally{try{!p&&m.return&&m.return()}finally{if(u)throw d}}}c&&(f+="&triggerEvent="+c),s=window.open(f,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes"),s.opener=self,s.focus()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],function(i){"use strict";function o(){try{return Boolean(n.require("jira/dialog/dialog").current)}catch(i){}return!1}var n=i("jira/util/top-same-origin-window")(window),t=i("jira/ajs/layer/layer-interactions"),e=i("jquery"),d=i("jira/util/key-code"),r=[],s={current:null,addInstance:function(){r.push(this)},hideInstances:function(){var i=this;e(r).each(function(){i!==this&&this.hideDropdown()})},getHash:function(){return this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}),this.hash},displayDropdown:function(){if(this.current!==this){this.hideInstances(),this.current=this,this.dropdown.css({display:"block"}),this.displayed=!0;var i=this.dropdown;o()||setTimeout(function(){var o=e(window),n=i.offset().top+i.prop("offsetHeight")-o.height()+10;o.scrollTop()<n&&e("html,body").animate({scrollTop:n},300,"linear")},100)}},hideDropdown:function(){!1!==this.displayed&&(this.current=null,this.dropdown.css({display:"none"}),this.displayed=!1)},init:function(i,o){var n=this;this.addInstance(this),this.dropdown=e(o),this.dropdown.css({display:"none"}),e(document).keydown(function(i){i.keyCode===d.TAB&&n.hideDropdown()}),i.target?e.aop.before(i,function(){n.displayed||n.displayDropdown()}):(n.dropdown.css("top",e(i).outerHeight()+"px"),i.click(function(i){n.displayed?n.hideDropdown():(n.displayDropdown(),i.stopPropagation()),i.preventDefault()})),e(document.body).click(function(){n.displayed&&n.hideDropdown()})}};return t.preventDialogHide(s),t.hideBeforeDialogShown(s),s}),AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown")),AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/AutoComplete.js' */
define("jira/autocomplete/autocomplete",["jira/ajs/ajax/smart-ajax","jira/util/key-code","jira/util/objects","jquery"],function(e,t,o,n){"use strict";return function(){var i,s=function e(t,o){e.t&&(clearTimeout(e.t),e.t=void 0),e.t=setTimeout(t,1e3*o)},r={9:!0,13:!0,14:!0,25:!0,27:!0,38:!0,40:!0,224:!0};return{dispatcher:function(){},getSavedResponse:function(){},saveResponse:function(){},renderSuggestions:function(){},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},set:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},completeField:function(e){e&&(this.field.val(e).focus(),this.field.trigger("change"))},textToSuggestionCursorPosition:function(){return this.field.val()},_makeRequest:function(t){var n=this,i=o.copyObject(t);return this.pendingRequest&&this.pendingRequest.abort(),i.complete=function(){n.pendingRequest=null},i.error=function(e){!e.aborted&&0!==e.status&&t.error&&t.error.apply(this,arguments)},this.pendingRequest=e.makeRequest(i),this.pendingRequest},addSuggestionControls:function(e){function o(e){d.dropdownController.displayed&&a(e.data.index)}function s(e){0===e.data.index&&(d.selectedIndex=-1),n(this).removeClass("active")}function r(e){d.completeField(d.suggestionNodes[e.data.index][1])}var d=this,l=function(e,t){var o=!1===d.autoSelectFirst?-1:0;return d.allowArrowCarousel?e>t?o:e<o?t:e:e>t?t:e<o?(d.responseContainer.scrollTop(0),o):e},a=function(e){void 0!==d.selectedIndex&&d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].removeClass("active"),d.selectedIndex=l(e,d.suggestionNodes.length-1),d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].addClass("active")},u=function(){return d.suggestionNodes&&d.suggestionNodes[d.selectedIndex]&&d.suggestionNodes[d.selectedIndex][0].hasClass("active")},p=function(e){d.responseContainer.is(":visible")&&e.keyCode===t.ENTER&&(u()&&!d.pendingRequest&&d.completeField(d.suggestionNodes[d.selectedIndex][1]),e.preventDefault(),e.stopPropagation())},c=function(e){if(d.responseContainer.is(":visible"))if(d.field[0]!==document.activeElement&&d.field.focus(),e.keyCode===t.DOWN){if(a(d.selectedIndex+1),d.selectedIndex>=0){var o=d.responseContainer.height(),n=d.suggestionNodes[d.selectedIndex][0].position().top+d.suggestionNodes[d.selectedIndex][0].outerHeight();n-o>0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+n-o+2)}else d.responseContainer.scrollTop(0);e.preventDefault()}else if(e.keyCode===t.UP){if(a(d.selectedIndex-1),d.selectedIndex>=0){var i=d.suggestionNodes[d.selectedIndex][0].position().top;i<0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+i-2)}e.preventDefault()}else e.keyCode===t.TAB&&(u()?(d.completeField(d.suggestionNodes[d.selectedIndex][1]),e.preventDefault()):d.dropdownController.hideDropdown())};if(e.length){this.selectedIndex=0,this.suggestionNodes=e;for(var h=0;h<d.suggestionNodes.length;h++){var f={instance:this,index:h};this.suggestionNodes[h][0].bind("mouseover",f,o).bind("mouseout",f,s).bind("click",f,r).bind("mousedown",function(e){e.preventDefault()})}this.keyboardHandlerBinded||(n(this.field).keypress(p),n(this.field).keydown(c),this.keyboardHandlerBinded=!0),a(!1===d.autoSelectFirst?-1:0),i=this}},clearResponseContainer:function(){this.responseContainer.empty(),this.suggestionNodes=void 0},delay:s,buildResponseContainer:function(){var e=this.field.parent().addClass("atlassian-autocomplete");this.responseContainer=n(document.createElement("div")),this.responseContainer.addClass("suggestions"),this.positionResponseContainer(),this.responseContainer.appendTo(e)},positionResponseContainer:function(){this.responseContainer.css({top:this.field.outerHeight()})},keyUpHandler:function(){function e(){this.responseContainer||this.buildResponseContainer(),this.dispatcher(this.field.val())}return function(o){return this.field.val().length>=this.minQueryLength&&(o.keyCode in r&&(!this.responseContainer||this.responseContainer.is(":visible")||o.keyCode!==t.UP&&o.keyCode!==t.DOWN)||e.call(this)),o}}(),addMultiSelectAdvice:function(e){var t=this,o=function e(o){if(!e.isAlerting){e.isAlerting=!0;var i=n(document.createElement("div")).css({float:"left",display:"none"}).addClass("warningBox").html("Oops! You have already entered the value <em>"+o+"</em>").appendTo(t.field.parent()).show("fast",function(){t.delay(function(){i.hide("fast",function(){i.remove(),e.isAlerting=!1})},4)})}};n.aop.before({target:this,method:"dispatcher"},function(t){var o=this.field.val();return t[0]=n.trim(o.slice(o.lastIndexOf(e)+1)),t}),n.aop.before({target:this,method:"completeField"},function(t){var i=t[0],s=this.field.val().split(e),r=n(s).map(function(){return n.trim(this)}).get();return!this.allowDuplicates&&new RegExp("(?:^|[\\s"+e+"])"+i+"\\s*"+e).test(this.field.val())?(o(i),r[r.length-1]=""):(r[r.length-1]=i,r[r.length]=""),t[0]=r.join(e.replace(/([^\s]$)/,"$1 ")),t})},addDropdownAdvice:function(){n.aop.after({target:this,method:"buildResponseContainer"},function(e){return this.dropdownController=JIRA.Dropdown.AutoComplete({target:this,method:"renderSuggestions"},this.responseContainer),n.aop.after({target:this.dropdownController,method:"hideDropdown"},function(){this.dropdown.removeClass("dropdown-ready"),clearTimeout(s.t)}),e}),n.aop.after({target:this,method:"renderSuggestions"},function(e){return e&&e.length>0?(this.dropdownController.displayDropdown(),this.maxHeight&&this.dropdownController.dropdown.prop("scrollHeight")>this.maxHeight?this.dropdownController.dropdown.css({height:this.maxHeight,overflowX:"visible",overflowY:"scroll"}):this.maxHeight&&this.dropdownController.dropdown.css({height:"",overflowX:"",overflowY:""}),this.dropdownController.dropdown.addClass("dropdown-ready")):this.dropdownController.hideDropdown(),e}),n.aop.after({target:this,method:"completeField"},this._afterCompleteField),n.aop.after({target:this,method:"keyUpHandler"},function(e){return this.field.val().length>=this.minQueryLength&&e.keyCode!==t.ESCAPE||!this.dropdownController||!this.dropdownController.displayed||(this.dropdownController.hideDropdown(),e.keyCode===t.ESCAPE&&e.stopPropagation()),e})},_afterCompleteField:function(e){return this.dropdownController.hideDropdown(),e},init:function(e){var o=this;this.set(e),this.field=this.field||n("#"+this.fieldID),this.field.attr("autocomplete","off").keyup(function(e){o.disabled||o.keyUpHandler(e)}).keydown(function(e){e.keyCode===t.ESCAPE&&o.responseContainer&&o.responseContainer.is(":visible")&&e.preventDefault()}).click(function(){i===o&&setTimeout(function(){o.dispatcher(o.field.val())},0)}).blur(function(){o.pendingRequest&&o.pendingRequest.abort()}).focus(function(e){o.disabled||(e.originalEvent&&e.originalEvent.relatedTarget&&setTimeout(function(){o.dispatcher(o.field.val())},0),i=o)}),this.addDropdownAdvice(),e.delimChar&&this.addMultiSelectAdvice(e.delimChar)}}}()}),AJS.namespace("jira.widget.autocomplete",null,require("jira/autocomplete/autocomplete")),AJS.namespace("JIRA.AutoComplete",null,require("jira/autocomplete/autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/RESTAutoComplete.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/autocomplete/rest-autocomplete",["jira/autocomplete/autocomplete","jira/util/objects"],function(e,t){"use strict";return function(){var o=t.begetObject(e);return o.dispatcher=function(e){var t=this;if(!(e.length<this.minQueryLength))return void 0===this.responseContainer||null===this.responseContainer?void console.warn("Response container was not initialized, skipping rendering"):void(this.getSavedResponse(e)?(t.renderSuggestions(t.getSavedResponse(e)),t.responseContainer.scrollTop(0)):this.delay(function(){var o=t.getAjaxParams();o.data.query=e,o.success=function(o){t.saveResponse(e,o),t.responseContainer.scrollTop(0),t.renderSuggestions(o)},t._makeRequest(o)},t.queryDelay))},o.getAjaxParams=function(){},o.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},o.saveResponse=function(e,t){"string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))&&(this.requested||(this.requested={}),this.requested[e]=t)},o}()}),AJS.namespace("jira.widget.autocomplete.REST",null,require("jira/autocomplete/rest-autocomplete")),AJS.namespace("JIRA.RESTAutoComplete",null,require("jira/autocomplete/rest-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/IssueAutoComplete.js' */
define("jira/autocomplete/issue-autocomplete",["jira/data/parse-options-from-fieldset","jira/field/issue-picker","jira/autocomplete/rest-autocomplete","jira/util/objects","wrm/context-path","jquery"],function(e,t,s,a,i,n){"use strict";var r=i(),d=function(e){var t=a.begetObject(s);return t.getAjaxParams=function(){return{url:r+"/rest/api/2/issue/picker",data:e.ajaxData,dataType:"json",type:"GET"}},t.renderSuggestions=function(s){var a,i=[];if(this.clearResponseContainer(),s&&s.sections&&s.sections.length>0)return a=n("<ul/>").appendTo(this.responseContainer),n(s.sections).each(function(){var t=this,s=n("<div/>").attr("id",e.fieldID+"_s_"+t.id).addClass("yag").text(t.label);if(t.sub&&s.append(n("<span/>").addClass("yagt").text("("+t.sub+")")),a.append(n("<li/>").append(s).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")})),t.msg){var d=n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_n").addClass("yad").text(t.msg);a.append(n("<li/>").append(d).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")}))}t.issues&&t.issues.length>0&&n(t.issues).each(function(){var s;s=/^http/.test(this.img)?this.img:r+this.img;var d=n("<li/>").append(n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_"+this.key).addClass("yad").append(n("<table/>").addClass("yat").attr({cellpadding:"0",cellspacing:"0"}).append(n("<tr/>").append(n("<td/>").append(n("<img/>").attr("src",s))).append(n("<td/>").append(n("<div/>").addClass("yak").html(this.keyHtml))).append(n("<td/>").css("width","100%").html(this.summary)))));a.append(d),i.push([d,this.key])})}),t.addSuggestionControls(i),i},e.minQueryLength=1,e.queryDelay=.25,t.init(e),t};return d.init=function(){n("fieldset.issue-picker-params").each(function(){var s=e(n(this));n("#"+s.fieldId+"-container").add("#"+s.fieldName+"_container").find("a.popup-trigger").click(function(e){var a=r+"/secure/popups/IssuePicker.jspa?";a+="currentIssue="+s.currentIssueKey+"&",a+="singleSelectOnly="+s.singleSelectOnly+"&",a+="showSubTasks="+s.showSubTasks+"&",a+="showSubTasksParent="+s.showSubTaskParent,s.currentProjectId&&""!==s.currentProjectId&&(a+="&selectedProjectId="+s.currentProjectId),t.callback=function(e){var t,a=[];e=JSON.parse(e),s.fieldId&&a&&(t=n("#"+s.fieldId))&&(n.each(e,function(){a.push(this.value)}),t.val(a.join(", ")))};var i=window.open(a,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width=620,height=500,scrollbars=yes,resizable");i.opener=self,i.focus(),e.preventDefault()}),s.fieldId||(s.fieldId=s.fieldName),!0===s.issuePickerEnabled&&d({fieldID:s.fieldId,delimChar:!0===s.singleSelectOnly?void 0:",",ajaxData:s})})},d}),AJS.namespace("jira.widget.autocomplete.Issues",null,require("jira/autocomplete/issue-autocomplete")),AJS.namespace("JIRA.IssueAutoComplete",null,require("jira/autocomplete/issue-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/UserAutoComplete.js' */
define("jira/autocomplete/user-autocomplete",["jira/autocomplete/rest-autocomplete","jira/data/parse-options-from-fieldset","jira/field/create-user-picker-popup-trigger","jira/util/browser","jira/util/elements","jira/util/objects","wrm/context-path","jquery"],function(e,t,i,r,a,o,l,n){"use strict";var s=l(),u=function(t){function i(e){var t=!1,i=e.closest("form");return i.length&&i.hasClass("submitting")&&(t=!0),t}var l=o.begetObject(e);return l.getAjaxParams=function(){return{url:s+"/rest/api/1.0/users/picker",data:{fieldName:t.fieldID,fieldConfigId:t.fieldConfigID,projectId:t.projectId},dataType:"json",type:"GET"}},l.renderSuggestions=function(e){if(i(this.field)||!r.isSelenium()&&!a.elementIsFocused(this.field))return!1;var t,o=[];return this.clearResponseContainer(),e&&e.users&&e.users.length>0&&(t=n("<ul/>").appendTo(this.responseContainer),n(e.users).each(function(){o.push([n("<li/>").html(this.html).appendTo(t),this.name])})),e.footer&&this.responseContainer.append(n("<div/>").addClass("yui-ac-ft").html(e.footer).css("display","block")),o.length>0&&(l.addSuggestionControls(o),n(".atlassian-autocomplete div.yad, .atlassian-autocomplete .labels li").textOverflow({autoUpdate:!0})),o},t.minQueryLength=2,t.queryDelay=.25,l.init(t),l};return u.init=function(e){n("fieldset.user-picker-params",e).each(function(){var r=t(n(this)),a=r.fieldId||r.fieldName,o=n("#"+a+"_container"),l=o.find(".popup-trigger");l.on("click",i.createUserPickerPopupTrigger({urlBase:s,formName:r.formName||l.closest("form").attr("name"),fieldName:r.fieldName,multiSelect:r.multiSelect,fieldConfigId:r.fieldConfigId,projectIds:r.projectId,actionToOpen:r.actionToOpen})),!0===r.userPickerEnabled&&u({field:e?e.find("#"+a):null,fieldID:a,fieldConfigID:r.fieldConfigId,projectId:r.projectId,delimChar:!1===r.multiSelect?void 0:",",ajaxData:{fieldName:r.fieldName}})})},u}),AJS.namespace("jira.widget.autocomplete.Users",null,require("jira/autocomplete/user-autocomplete")),AJS.namespace("JIRA.UserAutoComplete",null,require("jira/autocomplete/user-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/initAutoCompleteFields.js' */
!function(){"use strict";var e=require("jquery"),r=require("jira/data/parse-options-from-fieldset"),i=require("jira/util/events"),t=require("jira/util/events/reasons"),a=require("jira/util/events/types"),s=require("jira/autocomplete/issue-autocomplete"),l=require("jira/autocomplete/user-autocomplete"),o=require("wrm/context-path"),u=o();i.bind(a.NEW_CONTENT_ADDED,function(e,r,i){i!==t.panelRefreshed&&(l.init(r),s.init(r))}),i.bind(a.NEW_CONTENT_ADDED,function(i,a,s){s!==t.panelRefreshed&&e("fieldset.user-searcher-params",a).each(function(){var i=r(e(this)),t=e("#"+i.fieldId+"_container",a);if(!0===i.userPickerEnabled)var s=l({fieldID:i.fieldId,delimChar:!0===i.multiSelect?",":void 0,ajaxData:{fieldName:i.fieldName}});var o=function(r){var t=e("#"+i.fieldId,a),l=e("#"+i.fieldId+"Image",a),o=e("#"+i.fieldId+"GroupImage",a),u=e("#"+i.fieldId+"_desc",a);"select.list.none"===r?(t.val("").attr("disabled","true"),l.hide(),o.hide(),u.hide()):(t.removeAttr("disabled"),"select.list.group"===r?(l.hide(),o.show(),!0===i.userPickerEnabled&&(s.disable(),u.hide())):(l.show(),o.hide(),!0===i.userPickerEnabled&&(s.enable(),u.show())))};e("#"+i.userSelect,a).change(function(){var r=e(this).find("option:selected").attr("rel");o(r)}).find("option:selected").each(function(){o(e(this).attr("rel"))}),t.find("a.user-popup-trigger").click(function(e){var r=u+"/secure/popups/UserPickerBrowser.jspa?";r+="formName="+i.formName+"&",r+="multiSelect="+i.multiSelect+"&",r+="decorator=popup&",r+="element="+i.fieldId;var t=window.open(r,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self,t.focus(),e.preventDefault()}),t.find("a.group-popup-trigger").click(function(e){var r=u+"/secure/popups/GroupPickerBrowser.jspa?";r+="formName="+i.formName+"&",r+="multiSelect="+i.multiSelect+"&",r+="decorator=popup&",r+="element="+i.fieldId;var t=window.open(r,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self,t.focus(),e.preventDefault()})})})}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.js' */
define("jira/admin/group-browser/group-label-lozenge",["jquery","jira/skate"],function(e,t){"use strict";t("group-label-lozenge",{type:t.type.CLASSNAME,attached:function(t){e(t).tooltip({gravity:"w",html:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.soy' */
// This file was automatically generated from group-label-lozenge.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.groupLabelLozenge = function(opt_data, opt_ignored) {
  return '' + aui.lozenges.lozenge({text: opt_data.label.text, title: opt_data.label.title, isSubtle: true, extraClasses: 'group-label-lozenge'});
};
if (goog.DEBUG) {
  JIRA.Templates.groupLabelLozenge.soyTemplateName = 'JIRA.Templates.groupLabelLozenge';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:groupbrowser', location = '/includes/jira/admin/group-browser/group-browser.js' */
require(["jquery","jira/admin/group-browser/group-label-lozenge"],function(i){"use strict";i(function(){i(".operations-list .aui-button[disabled]").tooltip({gravity:"e",html:!1})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/groupPickerUtil.js' */
define("jira/field/group-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,i,r){"use strict";var t=function(t,a){var n=[],s=a?JIRA.Templates.GroupPickerUtil.formatResponseWithLabels:JIRA.Templates.GroupPickerUtil.formatResponse;return r(t).each(function(t,a){var u=new i({weight:t,label:a.header});r(a.groups).each(function(){u.addItem(new e({value:this.name,label:this.name,title:this.name,html:s(this),highlighted:!0}))}),n.push(u)}),n};return{formatResponseWithLabels:function(e){return t(e,!0)},formatResponse:function(e,i){return t(e,i)}}}),AJS.namespace("JIRA.GroupPickerUtil",null,require("jira/field/group-picker-util"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/templates/groupPickerUtil.soy' */
// This file was automatically generated from groupPickerUtil.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.GroupPickerUtil.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.GroupPickerUtil == 'undefined') { JIRA.Templates.GroupPickerUtil = {}; }


JIRA.Templates.GroupPickerUtil.formatResponseWithLabels = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.GroupPickerUtil.formatResponse(soy.$$augmentMap(opt_data, {showLabels: true}));
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponseWithLabels.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponseWithLabels';
}


JIRA.Templates.GroupPickerUtil.formatResponse = function(opt_data, opt_ignored) {
  var output = '<div class="group-suggestion-item"><span class="group-suggestion-item__name">' + soy.$$filterNoAutoescape(opt_data.html) + '</span>';
  if (opt_data.showLabels) {
    output += '<span class="group-suggestion-item__labels group-labels-lozenges">';
    var labelList13 = opt_data.labels;
    var labelListLen13 = labelList13.length;
    for (var labelIndex13 = 0; labelIndex13 < labelListLen13; labelIndex13++) {
      var labelData13 = labelList13[labelIndex13];
      output += JIRA.Templates.groupLabelLozenge({label: labelData13}) + ' ';
    }
    output += '</span>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponse.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponse';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initMultiGroupPickers.js' */
define("jira/field/init-multi-group-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,r,a,s,n){"use strict";function u(t){t.find(".js-default-multi-group-picker").each(function(){var t=e(this),r=!0===t.data("show-labels"),a=t.data("user-name");new i({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,ajaxOptions:{data:function(e){return{userName:a,query:e,exclude:t.val()}},url:l+"/rest/api/2/groups/picker",query:!0,formatResponse:r?n.formatResponseWithLabels:n.formatResponse}})})}var l=t();s.bind(a.NEW_CONTENT_ADDED,function(e,t,i){i!==r.panelRefreshed&&u(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initSingleGroupPickers.js' */
define("jira/field/init-single-group-pickers",["jira/ajs/select/single-select","jquery","wrm/context-path","jira/ajs/list/item-descriptor","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,n,r,s,l){"use strict";function u(i){i.find(".js-default-single-group-picker").each(function(){var i=t(this),n=i.find("option[data-empty]"),r=!0===i.data("show-labels"),s=i.data("user-name");new e({element:this,itemAttrDisplayed:"label",revertOnInvalid:!0,ajaxOptions:{data:function(e){return{userName:s,query:e,exclude:i.val()}},url:o+"/rest/api/2/groups/picker",query:!0,formatResponse:function(e){var t=l.formatResponse(e,r);return n.length&&""!==i.val()&&t.unshift(new a({value:"",label:n.text(),highlighted:!0})),t}}})})}var o=i();s.bind(r.NEW_CONTENT_ADDED,function(e,t,i){i!==n.panelRefreshed&&u(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/init/init-group-pickers-webresource.js' */
require("jira/field/init-multi-group-pickers"),require("jira/field/init-single-group-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,i,r){"use strict";return{formatResponse:function(t){var a=[];return r(t).each(function(t,s){var l=new i({weight:t,label:s.footer});r(s.users).each(function(){l.addItem(new e({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,iconType:"rounded",allowDuplicate:!1,highlighted:!0,userKey:this.key}))}),a.push(l)}),a}}}),AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","wrm/context-path","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter","jira/field/create-user-picker-popup-trigger","jira/ajs/list/item-descriptor"],function(e,r,t,i,a,n,s,o,p,u){"use strict";function c(e){return e&&-1!==e.indexOf("customfield_")}function l(r){e(".js-default-user-picker",r).each(function(){var r=e(this);if(!r.data("aui-ss")){var i=c(r.attr("name")),a=i?"/rest/api/1.0/users/picker":"/rest/api/2/user/picker",n={showAvatar:!0,fieldName:i?r.prop("name"):void 0,fieldConfigId:i?r.data("field-config-id"):void 0,projectId:i?r.data("project-ids").split(",").filter(function(e){return e}):void 0},l=r.data("inputValue");r.data("has-popup-picker")&&r.next(".popup-trigger").on("click",p.createUserPickerPopupTrigger({urlBase:d,formName:r.data("form-name")||r.closest("form").attr("name"),fieldName:r.prop("name"),fieldConfigId:r.data("field-config-id"),projectIds:r.data("project-ids").split(",").filter(function(e){return e}),triggerEvent:"userpicker:onPopUpSelection"})),new t({element:r,submitInputVal:!0,hasAddonIcon:!!r.data("has-popup-picker"),showDropdownButton:!!r.data("show-dropdown-button"),errorMessage:o.format("There is no user \'\'{0}\'\'.","'{0}'"),iconType:"rounded",ajaxOptions:{url:d+a,data:n,formatResponse:s.formatResponse},inputText:l,ariaLabel:"Select a user",events:{element:{"userpicker:onPopUpSelection":function(r,t,i,a){e.ajax({url:d+"/rest/api/2/user?username="+a,type:"GET",contentType:"application/json",success:function(e){i.setSelection(new u({value:a,label:e.displayName,icon:e.avatarUrls["24x24"]}),!0)},error:function(e){return console.error(e)}})}}}})}})}var d=r();return n.bind(a.NEW_CONTENT_ADDED,function(e,r,t){t!==i.panelRefreshed&&l(r)}),l});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],function(e){"use strict";var t=e("jquery"),r=e("jira/ajs/list/item-descriptor"),i=e("jira/ajs/select/multi-select"),a=e("jira/util/formatter"),n=e("wrm/context-path"),s=n();return i.extend({_getDefaultOptions:function(){return t.extend(!0,this._super(),{errorMessage:"The requested user does not exist.",showDropdownButton:!1,removeOnUnSelect:!0,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(e){404===e.status?this.showErrorMessage():this._super()},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var e=this;""===t.trim(this.$field.val())?this.hideErrorMessage():t.ajax({url:s+"/rest/api/2/user",data:{username:t.trim(e.getQueryVal())},success:function(t){e.hideErrorMessage(),e.$field.val(""),e.addItem(new r({label:t.displayName,value:t.name}))},error:function(){e.showErrorMessage()}})},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage(),this.handleFreeInput()},handleFreeInput:function(){var e=t.trim(this.$field.val());""!==e&&(this.addItem({value:e,label:e}),this.model.$element.trigger("change")),this.$field.val("")},keys:{Return:function(e){e.preventDefault(),this.validateAndAdd()},Spacebar:function(e){e.preventDefault(),this.validateAndAdd()}}})}),AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util"],function(e,t,r,i,s,n,a,u){"use strict";function l(t){t.find(".js-default-multi-user-picker").each(function(){var t=e(this);AJS.params.currentUserCanBrowseUsers?new r({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:o+"/rest/api/1.0/users/picker",query:!0,data:function(e){return{showAvatar:!0,query:e,exclude:t.val()}},formatResponse:u.formatResponse}}):new a({element:this})})}var o=t();n.bind(s.NEW_CONTENT_ADDED,function(e,t,r){r!==i.panelRefreshed&&l(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers"),require("jira/field/init-single-user-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/ProjectIssueTypeSelect.js' */
define("jira/field/project-issue-type-select",["jira/lib/class"],function(e){"use strict";return e.extend({init:function(e){var s,t=this;this.$project=e.project,this.issueTypeSelect=e.issueTypeSelect,this.$projectIssueTypesSchemes=e.projectIssueTypesSchemes,this.$issueTypeSchemeIssueDefaults=e.issueTypeSchemeIssueDefaults,this.projectIssueTypeSchemes=JSON.parse(this.$projectIssueTypesSchemes.html()),this.issueTypesSchemeDefaults=JSON.parse(this.$issueTypeSchemeIssueDefaults.html()||"[]"),t.$project.length>0&&(s=t.$project.val(),t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(s)),this.$project.change(function(){var e=t.$project.val();t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(e))}))},getIssueTypeSchemeForProject:function(e){return this.projectIssueTypeSchemes[e]},getDefaultIssueTypeForScheme:function(e){return this.issueTypesSchemeDefaults[e]},setIssueTypeScheme:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e),this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueType(e),this.issueTypeSelect.model.$element.data("project",this.$project.val())},setDefaultIssueType:function(e){var s=this.getDefaultIssueTypeForScheme(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]),this.issueTypeSelect.setSelection(t,!1)}})}),AJS.namespace("JIRA.ProjectIssueTypeSelect",null,require("jira/field/project-issue-type-select"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectIssueTypeSelect.js' */
define("jira/field/init-project-issue-type-select",["jira/ajs/select/suggestion-collection-model","jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/project-issue-type-select"],function(e,t,i,s,n,l,r){"use strict";function c(s){var n=s||t("body");n.find(".issuetype-field").each(function(s){var l=n.find(".project-field, .project-field-readonly"),c=t(this),d=n.find("#"+c.attr("id")+"-projects"),o=n.find("#"+c.attr("id")+"-defaults"),a=new i({element:c,revertOnInvalid:!0,model:e});a.model.remove(""),l.length>0&&new r({project:l.eq(s),issueTypeSelect:a,projectIssueTypesSchemes:d,issueTypeSchemeIssueDefaults:o})})}l.bind(n.NEW_CONTENT_ADDED,function(e,t,i){i!==s.panelRefreshed&&c(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectPickers.js' */
define("jira/field/init-project-pickers",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t,s){"use strict";function l(n){n.find(".project-field").each(function(){new e({element:this,revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:i})})}s.bind(t.NEW_CONTENT_ADDED,function(e,i,t){t!==n.panelRefreshed&&l(i)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/init/init-jira-project-issuetype-fields-webresource.js' */
require("jira/field/init-project-issue-type-select"),require("jira/field/init-project-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/field-templates.soy' */
// This file was automatically generated from field-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }


JIRA.Templates.Fields.username = function(opt_data, opt_ignored) {
  return '' + ((opt_data.escape) ? soy.$$escapeHtml(opt_data.displayName) : soy.$$filterNoAutoescape(opt_data.displayName));
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.username.soyTemplateName = 'JIRA.Templates.Fields.username';
}


JIRA.Templates.Fields.recipientUsername = function(opt_data, opt_ignored) {
  return '<li data-username="' + soy.$$escapeHtml(opt_data.username) + '" title=' + soy.$$escapeHtml(opt_data.username) + '><span><span class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '"><img alt="" src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + JIRA.Templates.Fields.username(opt_data) + '"><span title="' + JIRA.Templates.Fields.username(opt_data) + '">' + JIRA.Templates.Fields.username(opt_data) + '</span></span>' + ((! opt_data.readOnly) ? '<button type="button" class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml(AJS.format('Remove watcher: {0}',opt_data.username)) + '</span></button>' : '') + '</span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientUsername.soyTemplateName = 'JIRA.Templates.Fields.recipientUsername';
}


JIRA.Templates.Fields.recipientEmail = function(opt_data, opt_ignored) {
  return '<li data-email="' + soy.$$escapeHtml(opt_data.email) + '" title=' + soy.$$escapeHtml(opt_data.email) + '><span><img src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + soy.$$escapeHtml(opt_data.email) + '"><span title="' + soy.$$escapeHtml(opt_data.email) + '">' + soy.$$escapeHtml(opt_data.email) + '</span><span class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientEmail.soyTemplateName = 'JIRA.Templates.Fields.recipientEmail';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],function(e,t,i,s,a,l){"use strict";var r=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:r+"/includes/js/ajs/layer/labeldata.js",query:!0,formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"New Label"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace(),e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return t&&t.suggestions&&l.each(t.suggestions,function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}),[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t=0;t<e.length;t++){var i=e[t];this.addItem({value:i,label:i})}this.model.$element.trigger("change")}this.$field.val("")}})}),AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker")),AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPickerFactory.js' */
define("jira/field/label-picker-factory",["jira/field/label-picker","jira/data/parse-options-from-fieldset","wrm/context-path","jquery","exports"],function(e,t,i,a,r){"use strict";r.createPicker=function(r,s){var d=t(r),l=a("#"+d.id,s),c=d.issueId,o={};/customfield_\d/.test(d.id)&&(o.customFieldId=parseInt(d.id.replace("customfield_",""),10)),new e({element:l,ajaxOptions:{url:i()+"/rest/api/1.0/labels"+(c?"/"+c:"")+"/suggest",data:o}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.Item.js' */
define("jira/field/multi-user-list-picker/item",["jira/util/data/meta","jira/util/strings","jira/ajs/control","jquery"],function(e,t,i,n){"use strict";return i.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".remove-recipient"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{item:function(){var i,s=this.options.descriptor;return!0!==s.noExactMatch()?(i={escape:!1,username:s.value(),icon:s.icon(),displayName:t.escapeHtml(s.label())},n(JIRA.Templates.Fields.recipientUsername(i))):(i={email:s.value(),icon:e.get("default-avatar-url")},n(JIRA.Templates.Fields.recipientEmail(i)))}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){e.stopPropagation(),this.trigger("remove")}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.js' */
define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","wrm/context-path","jquery"],function(e,t,i,r,s,n,a,u,l){"use strict";var o=u();return r.extend({init:function(r){function u(e){var t=[];return l(e).each(function(e,i){var r=new n({weight:e,label:i.footer});l(i.users).each(function(){r.addItem(new s({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,iconType:"rounded",allowDuplicate:!1,highlighted:!0}))}),t.push(r)}),t}l.extend(r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:"Email address",showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:o+"/rest/api/1.0/users/picker",query:!0,data:{showAvatar:!0},formatResponse:u},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}}),this._super(r)},_createFurniture:function(e){this._super(e),this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:l.noop,_renders:{selectedItemsWrapper:function(){return l('<div class="recipients" />')},selectedItemsContainer:function(){return l("<ol />")},description:function(e){return l("<div />").addClass("description").text(e)}}})}),AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker")),AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCascadingSelects.js' */
define("jira/field/init-cascading-selects",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){"use strict";function a(i){e(i||document.body).find("div.aui-field-cascadingselect").add("tr.aui-field-cascadingselect").add("td.aui-field-cascadingselect").each(function(){function i(){var i,n=t.find("option:selected").attr("class");n!==a&&(i=e("<span />").insertAfter(c),c.detach(),c.find("option").each(function(e,i){i.parentNode.removeChild(this)}),c.insertAfter(i),i.remove(),d.filter("."+t.find("option:selected").attr("class")).appendTo(c),s.hasClass(t.find("option:selected").attr("class"))?c.val(s.val()):c.val(c.find("option:first").val()),a=n)}var n=e(this),t=n.find(".cascadingselect-parent"),a="",c=n.find(".cascadingselect-child"),d=c.find("option"),s=c.find(":selected");t.bind("cascadingSelectChanged",i).change(function(){e(this).trigger("cascadingSelectChanged")}).trigger("cascadingSelectChanged")})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&a(n)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/ComponentPicker.js' */
define("jira/field/component-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,n,s,i,r){"use strict";return s.extend({init:function(e){this._super(e),this.suggestionsHandler=new n(this.options,this.model)},_getDefaultOptions:function(t){var n=!1;return t&&t.element&&(n=r(t.element).data("create-permission")),n?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Component"}):this._super(t)},_selectionHandler:function(e,n){var s=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");i.find(s,function(e){return e.label()===r.label()})||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Component.new.selected",[r.value()])),this._super(e,n)}})}),AJS.namespace("JIRA.ComponentPicker",null,require("jira/field/component-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initComponentPickers.js' */
define("jira/field/init-component-pickers",["jira/field/component-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,r,n,t,i,o){"use strict";function l(n){new e({element:n,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid component.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var r=o(e);return r.is("select")?r:r.find("select")}function s(e,r){r=r||c.join(", "),o(r,e).each(function(){var e=a(this);e.length&&l(e)})}var c=["div.aui-field-componentspicker.frother-control-renderer","td.aui-field-componentspicker.frother-control-renderer","tr.aui-field-componentspicker.frother-control-renderer"];n.bind(t.NEW_CONTENT_ADDED,function(e,r,n){n!==i.panelRefreshed&&s(r)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initMultiselectPickers.js' */
define("jira/field/init-multi-select-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/util/formatter"],function(e,t,i,n,r,l){"use strict";function s(e){new t({element:e,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,submitInputVal:!0,expandAllResults:!0})}function a(t){var i=e(t);return i.is("select")?i:i.find("select")}function u(t,i){i=i||c.join(", "),e(i,t).each(function(){var e=a(this);e.length&&s(e)})}var c=["div.aui-field-multiselectpicker.frother-control-renderer"];r.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initDatePickers.js' */
define("jira/field/init-date-pickers",["jquery","jira/data/parse-options-from-fieldset","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/libs/calendar"],function(e,i,t,d,a,n){"use strict";function r(t){e(t||document.body).find("div.aui-field-datepicker").add("tr.aui-field-datepicker").add("td.aui-field-datepicker").each(function(){function d(){r.prop("disabled",s.is(":checked"))}var a=e(this),r=a.find("input:text"),s=a.find("#useCurrentDate"),c=i(a.find("fieldset.datepicker-params"));c.context=t,n.setup(c),s.length&&(d(),s.click(d))})}a.bind(d.NEW_CONTENT_ADDED,function(e,i,d){d!==t.panelRefreshed&&r(i)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLegacyGroupPickers.js' */
define("jira/field/init-legacy-group-pickers",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,r,t){"use strict";function n(i){e(i||document.body).find("div.aui-field-grouppicker").add("tr.aui-field-grouppicker").add("td.aui-field-grouppicker").each(function(){function i(e){e.preventDefault(),window.open(n,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")}var r=e(this),t=r.find("a.grouppicker-trigger"),n=t.attr("href");t.click(i)})}t.bind(r.NEW_CONTENT_ADDED,function(e,r,t){t!==i.panelRefreshed&&n(r)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initIssuePickers.js' */
define("jira/field/init-issue-pickers",["jira/field/issue-picker","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/util/formatter"],function(e,i,n,t,s,r){"use strict";function u(i){s(i||document.body).find(".aui-field-issuepicker").each(function(){new e({element:s(this),userEnteredOptionsMsg:"Enter issue key",uppercaseUserEnteredOnSelect:!0})})}i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&u(i)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLabelPickers.js' */
define("jira/field/init-label-pickers",["jira/field/label-picker-factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,r,n,t){"use strict";function a(e){var i=t(e);return i.is(c)?i:i.find(c)}function l(i,r){r=r||".aui-field-labelpicker",t(r,i).each(function(){var r=a(this);r.length>0&&e.createPicker(r,i)})}var c="fieldset.labelpicker-params";i.bind(r.NEW_CONTENT_ADDED,function(e,i,r){r!==n.panelRefreshed&&l(i)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/VersionPicker.js' */
define("jira/field/version-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,s,i,n,r){"use strict";return i.extend({init:function(e){this._super(e),this.suggestionsHandler=new s(this.options,this.model)},_getDefaultOptions:function(t){var s=!1;return t&&t.element&&(s=r(t.element).data("create-permission")),s?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Version"}):this._super(t)},_selectionHandler:function(e,s){var i=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");n.find(i,function(e){return e.label()===r.label()})||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Version.new.selected",[r.value()])),this._super(e,s)}})}),AJS.namespace("JIRA.VersionPicker",null,require("jira/field/version-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initVersionPickers.js' */
define("jira/field/init-version-pickers",["jira/field/version-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,t,n,r,s){"use strict";function l(t){new e({element:t,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid version.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var i=s(e);return i.is("select")?i:i.find("select")}function o(e,i){i=i||".aui-field-versionspicker.frother-control-renderer",s(i,e).each(function(){var e=a(this);e.length&&l(e)})}t.bind(n.NEW_CONTENT_ADDED,function(e,i,t){t!==r.panelRefreshed&&o(i)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCommentControls.js' */
define("jira/field/init-comment-controls",["jira/skate","jira/ajs/select/security-level-select","jira/wikipreview/wiki-preview"],function(e,i,t){"use strict";e("jira-wikifield",{type:e.type.CLASSNAME,created:function(e){var i={fieldId:e.getAttribute("field-id"),trigger:e.querySelector(".wiki-preview").id,issueKey:e.getAttribute("issue-key"),rendererType:e.getAttribute("renderer-type")};t(i,e).init()}}),e("security-level",{type:e.type.CLASSNAME,created:function(e){var t=e.querySelector("#commentLevel");t&&new i(t)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLogWorkControls.js' */
define("jira/field/init-log-work-controls",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,t,a,i){"use strict";function n(e,t){var a=i(e).find("#worklog-logworkcontainer"),n=i(e).find("#worklog-timetrackingcontainer"),d=i(e).find("#log-work-activate");t?(a.removeClass("hidden"),n.addClass("hidden"),d.prop("checked",!0)):(a.addClass("hidden"),n.removeClass("hidden"),d.prop("checked",!1))}function d(e){i("#log-work-adjust-estimate-new-value, #log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked",e).val()+"-value",e).removeAttr("disabled"),i("input[name=worklog_adjustEstimate],input[name=adjustEstimate]",e).change(function(){i("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i(this).val()+"-value",e).removeAttr("disabled")}),i("#delete-log-work-adjust-estimate-new-value").change(function(){i("#delete-log-work-adjust-estimate-new").prop("checked",!0)}),i("#delete-log-work-adjust-estimate-manual-value").change(function(){i("#delete-log-work-adjust-estimate-manual").prop("checked",!0)}),i(e).find("#log-work-activate").change(function(){n(e,i(this).is(":checked"))})}e.bind(t.VALIDATE_TIMETRACKING,function(e,t){n(t,!0)}),e.bind(t.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&d(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initPriorityPickers.js' */
define("jira/field/init-priority-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jquery"],function(e,i,t,n,r){"use strict";function a(i){i.find("select#priority").each(function(i,t){var n={element:t,revertOnInvalid:!0},a=r.attr(t,"aria-label");a&&(n.ariaLabel=a),new e(n)})}n.bind(t.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&a(t)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initInlineAttach.js' */
define("jira/field/init-inline-attach",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/jquery/plugins/attachment/inline-attach"],function(i,n,t){"use strict";function e(i){i.find("input[type=file]:not('.ignore-inline-attach')").inlineAttach()}i.bind(n.NEW_CONTENT_ADDED,function(i,n,a){a!==t.panelRefreshed&&e(n)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/init/init-jira-fields-webresource.js' */
require("jira/field/init-cascading-selects"),require("jira/field/init-component-pickers"),require("jira/field/init-multi-select-pickers"),require("jira/field/init-date-pickers"),require("jira/field/init-legacy-group-pickers"),require("jira/field/init-issue-pickers"),require("jira/field/init-label-pickers"),require("jira/field/init-version-pickers"),require("jira/field/init-comment-controls"),require("jira/field/init-log-work-controls"),require("jira/field/init-priority-pickers"),require("jira/field/init-inline-attach");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/issuecomponents.soy' */
// This file was automatically generated from issuecomponents.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.watchersWithBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a><fieldset><label class="js-add-watchers-label">' + soy.$$escapeHtml('Add Watchers') + '</label><div class="autocomplete-user-target"><select id="watchers" name="watchers" data-description="' + soy.$$escapeHtml('Start Typing for Users') + '" class="watchers-user-picker hidden" multiple="multiple">';
  var watcherList10 = opt_data.watchers;
  var watcherListLen10 = watcherList10.length;
  for (var watcherIndex10 = 0; watcherIndex10 < watcherListLen10; watcherIndex10++) {
    var watcherData10 = watcherList10[watcherIndex10];
    output += '<option style="background-image:url(\'' + soy.$$escapeHtml(watcherData10.avatarUrls['16x16']) + '\')" selected="selected" value="' + soy.$$escapeHtml(watcherData10.name) + '">' + soy.$$escapeHtml(watcherData10.displayName) + '</option>';
  }
  output += '</select></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersWithBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersWithBrowse';
}


JIRA.Templates.Issue.watchersNoBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a><fieldset><label for="watchers-multi-select">' + soy.$$escapeHtml('Add Watchers') + '</label><div><input type="text" class="text" id="watchers-nosearch" /><div class="description">' + soy.$$escapeHtml('Type username and press enter.') + '</div></div><div class="recipients"><ol class="watchers">';
  var watcherList28 = opt_data.watchers;
  var watcherListLen28 = watcherList28.length;
  for (var watcherIndex28 = 0; watcherIndex28 < watcherListLen28; watcherIndex28++) {
    var watcherData28 = watcherList28[watcherIndex28];
    output += JIRA.Templates.Fields.recipientUsername({username: watcherData28.name, icon: watcherData28.avatarUrls['16x16'], displayName: watcherData28.displayName, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersNoBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersNoBrowse';
}


JIRA.Templates.Issue.error = function(opt_data, opt_ignored) {
  var output = '<p>' + soy.$$escapeHtml(opt_data.msg) + '</p><ul>';
  var messageList40 = opt_data.errors;
  var messageListLen40 = messageList40.length;
  for (var messageIndex40 = 0; messageIndex40 < messageListLen40; messageIndex40++) {
    var messageData40 = messageList40[messageIndex40];
    output += '<li>' + soy.$$escapeHtml(messageData40) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.error.soyTemplateName = 'JIRA.Templates.Issue.error';
}


JIRA.Templates.Issue.usersListReadOnly = function(opt_data, opt_ignored) {
  var output = '<form class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a><fieldset><div class="recipients"><ol class="voters">';
  var voterList50 = opt_data.users;
  var voterListLen50 = voterList50.length;
  for (var voterIndex50 = 0; voterIndex50 < voterListLen50; voterIndex50++) {
    var voterData50 = voterList50[voterIndex50];
    output += JIRA.Templates.Fields.recipientUsername({username: voterData50.name, icon: voterData50.avatarUrls['16x16'], displayName: voterData50.displayName, readOnly: true, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.usersListReadOnly.soyTemplateName = 'JIRA.Templates.Issue.usersListReadOnly';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/user-collection.js' */
define("jira/viewissue/watchers-voters/entities/user-collection",["require"],function(e){"use strict";var r=e("jira/message"),s=e("backbone"),t=e("underscore"),o=e("jquery"),n=e("wrm/context-path"),i=e("jira/util/formatter"),a=JIRA.Templates.Issue,u=s.Model.extend({idAttribute:"key"});return s.Collection.extend({model:u,initialize:function(e){if(void 0===e)throw new Error("Must supply options");if(!e.issueKey)throw new Error("Must supply issue key");if(this.issueKey=e.issueKey,!e.endpoint)throw new Error("Must supply an endpoint");if(this.endpoint=e.endpoint,!e.modelKey)throw new Error("Must supply an model key");this.modelKey=e.modelKey},url:function(){return[n(),"rest/api/2/issue",this.issueKey,this.endpoint].join("/")},parse:function(e){return e&&e[this.modelKey]?e[this.modelKey]:[]},ajax:function(e){return e=t.extend({url:this.url(),headers:{"Content-Type":"application/json"},success:t.bind(function(){this.fetch()},this),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)},e),o.ajax(e)},getUser:function(e){return o.ajax({url:n()+"/rest/api/2/user?username="+encodeURIComponent(e),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)})},handleErrorResponse:function(e,s){var t=this._parseResponse(e.responseText);if(t.errorMessages){var o=a.error({msg:s,errors:t.errorMessages});r.showErrorMsg(o,{closeable:!0})}this.trigger("errorOccurred")},_parseResponse:function(e){try{return JSON.parse(e)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var e="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";r.showErrorMsg(e,{closeable:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/voters-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/voters-user-collection",["jira/viewissue/watchers-voters/entities/user-collection"],function(e){"use strict";return e.extend({initialize:function(t){var i={issueKey:t,endpoint:"votes",modelKey:"voters"};e.prototype.initialize.apply(this,[i])},vote:function(){return this.ajax({type:"POST"})},unvote:function(){return this.ajax({type:"DELETE"})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/watchers-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/watchers-user-collection",["jira/viewissue/watchers-voters/entities/user-collection","jira/util/data/meta"],function(e,t){"use strict";return e.extend({initialize:function(i){this.canBrowseUsers=t.get("can-search-users"),this.isReadOnly=!t.get("can-edit-watchers");var s={issueKey:i,endpoint:"watchers",modelKey:"watchers"};e.prototype.initialize.apply(this,[s])},addWatcher:function(e){return this.ajax({type:"POST",data:'"'+e+'"'})},removeWatcher:function(e){return this.ajax({type:"DELETE",url:this.url()+"?username="+e})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/voters-view.js' */
define("jira/viewissue/watchers-voters/views/voters-view",["require"],function(e){"use strict";var t=e("aui/message"),i=e("backbone"),s=e("underscore"),r=e("jira/jquery/deferred"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return i.View.extend({$empty:void 0,initialize:function(e){this.collection=e.collection},renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no voters for this issue"}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=r();return this.collection.fetch().done(s.bind(function(){this.$el.html(o.usersListReadOnly({users:this.collection.toJSON()})),this.renderNoWatchers(),e.resolve(this.$el)},this)),e.promise()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/abstract-watchers-view.js' */
define("jira/viewissue/watchers-voters/views/abstract-watchers-view",["require"],function(e){"use strict";var t=e("aui/message"),i=e("backbone"),r=e("underscore"),n=e("jquery"),s=e("jira/jquery/deferred"),a=e("jira/util/formatter");return i.View.extend({$empty:void 0,renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no watchers."}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=s();return this.collection.fetch().done(r.bind(function(){this._render(),this.renderNoWatchers(),e.resolve(this.$el),setTimeout(r.bind(function(){this.focus()},this),0)},this)),e.promise()},watch:function(){n("#watching-toggle").text("Stop watching this issue")},unwatch:function(){n("#watching-toggle").text("Start watching this issue")},focus:n.noop,_incrementWatcherCount:function(){var e=n("#watcher-data"),t=parseInt(e.text(),10);e.text(t+1),this.renderNoWatchers()},_decrementWatcherCount:function(){var e=n("#watcher-data"),t=parseInt(e.text(),10);e.text(t-1),this.renderNoWatchers()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-view",["require"],function(e){"use strict";var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),i=e("underscore"),s=e("jira/util/logger"),a=e("jira/field/multi-user-list-picker"),c=JIRA.Templates.Issue;return t.extend({events:{selected:"addWatcherToModel",unselect:"removeWatcherFromModel"},_render:function(){this.$el.html(c.watchersWithBrowse({watchers:this.collection.toJSON()}));var e=new a({element:this.$el.find(".watchers-user-picker"),width:220});this.$el.find(".js-add-watchers-label").attr("for",e.$field.attr("id"))},focus:function(){this.$el.find("#watchers-textarea").focus()},addWatcherToModel:function(e,t){e.preventDefault(),this.collection.addWatcher(t.value()).done(i.bind(function(){this._incrementWatcherCount(),t.value()===r.get("remote-user")&&this.watch()},this))},removeWatcherFromModel:function(e,t){this.collection.removeWatcher(t.value()).done(i.bind(function(){this._decrementWatcherCount(),t.value()===r.get("remote-user")&&(this.unwatch(),s.trace("jira.issue.watcher.deleted"))},this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-no-browse-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-no-browse-view",["require"],function(e){"use strict";var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),a=e("underscore"),i=e("jquery"),s=e("jira/util/logger"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return t.extend({events:{"click .remove-recipient":"removeWatcher",submit:"addWatcher"},addWatcher:function(e){e.preventDefault(),this.removeInlineError();var t=i("#watchers-nosearch"),s=i.trim(t.val());t.attr("disabled","disabled"),this.hasUsername(s)?(t.removeAttr("disabled"),this.showInlineError(n.format("User {0} is already watching this issue",s)),t.val("")):this.collection.getUser(s).done(a.bind(function(e){var a=JIRA.Templates.Fields.recipientUsername({icon:e.avatarUrls["16x16"],username:e.name,displayName:e.displayName});s===r.get("remote-user")&&this.watch(),t.val(""),this.$(".watchers").append(a),this.collection.addWatcher(e.name),this._incrementWatcherCount()},this)).fail(a.bind(function(e){404===e.status&&this.showInlineError("User does not exist")},this)).always(function(){t.removeAttr("disabled").focus()})},hasUsername:function(e){var t=!1;return this.$(".watchers li").each(function(){if(i(this).attr("data-username")===e)return t=!0,!1}),t},removeInlineError:function(){this.$(".error").remove()},showInlineError:function(e){i("<div />").addClass("error").text(e).insertAfter(this.$(".description"))},focus:function(){i("#watchers-nosearch").focus()},removeWatcher:function(e){e.preventDefault();var t=i(e.target).closest("li"),a=t.attr("data-username");a&&(t.remove(),this.collection.removeWatcher(a),this._decrementWatcherCount(),a===r.get("remote-user")&&this.unwatch()),s.trace("jira.issue.watcher.deleted")},_render:function(){this.$el.html(o.watchersNoBrowse({watchers:this.collection.toJSON()}))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-read-only-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-read-only-view",["require"],function(e){"use strict";var s=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),t=JIRA.Templates.Issue;return s.extend({_render:function(){this.$el.html(t.usersListReadOnly({users:this.collection.toJSON()}))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-inline-dialog-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view",["require"],function(e){"use strict";var t=e("backbone"),i=e("jira/skate"),n=t.View.prototype.setElement;return t.View.extend({id:"inline-dialog-watchers",events:{"click .cancel":function(e){e.preventDefault(),this.hide()}},setElement:function(e){var s=e instanceof t.$?e.get(0):e;if(s)return this.el&&this.el.parentNode&&this.el!==s&&this.el.parentNode.removeChild(this.el),n.call(this,s),i.init(this.el),this},contents:function(e){this.$el.find(".aui-inline-dialog-contents").html(e)},show:function(){this.el.setAttribute("open","")},hide:function(){this.el.removeAttribute("open")},isVisible:function(){return!!this.el.hasAttribute("open")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/watchers.js' */
define("jira/viewissue/watchers-voters/watchers",["require"],function(e){"use strict";function i(){return g||(g=new a({el:h("#inline-dialog-watchers").get(0)})),g}function s(e){return e.isReadOnly?n:e.canBrowseUsers?r:t}var n=e("jira/viewissue/watchers-voters/views/watchers-read-only-view"),t=e("jira/viewissue/watchers-voters/views/watchers-no-browse-view"),r=e("jira/viewissue/watchers-voters/views/watchers-view"),o=e("jira/viewissue/watchers-voters/entities/watchers-user-collection"),a=e("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view"),c=e("jira/util/events"),l=e("jira/util/events/types"),w=e("jira/util/events/reasons"),u=e("jira/issue"),d=e("aui/inline-dialog"),v=e("jira/util/key-code"),h=e("jquery"),g=null;h(document).on("click","#view-watcher-list",function(e){e.preventDefault();var n=i(),t=h("#watching-toggle").next(".icon"),r=new o(u.getIssueKey());t.addClass("loading"),new(s(r))({collection:r}).render().done(function(e){t.removeClass("loading"),n.contents(e),n.show()}),r.on("errorOccurred",function(){n.hide()})}),h(document).on("keydown",function(e){g&&e.keyCode===v.ESCAPE&&d.current!==g.el&&g.isVisible()&&(d.current&&d.current.hide(),g.hide())}),h(document).on("click",function(e){if(g){0===h(e.target).closest("#inline-dialog-watchers, #watchers-suggestions").length&&g.isVisible()&&g.hide()}}),c.bind(l.NEW_CONTENT_ADDED,function(e,s,n){n===w.panelRefreshed&&s.is("#peoplemodule")&&i().setElement(s.find("#inline-dialog-watchers").get(0))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/voters.js' */
define("jira/viewissue/watchers-voters/voters",["require"],function(e){"use strict";var i=e("jira/viewissue/watchers-voters/entities/voters-user-collection"),r=e("jira/viewissue/watchers-voters/views/voters-view"),t=e("jira/issue"),n=e("jira/ajs/layer/inline-layer"),s=e("aui/inline-dialog"),o=e("jira/util/key-code"),c=e("jquery"),u=s("#view-voter-list","voters",function(e,n,s){var o=c("#vote-toggle").next(".icon"),l=new i(t.getIssueKey());o.addClass("loading"),new r({collection:l}).render().done(function(i){e.html(i),e.find(".cancel").click(function(e){u.hide(),e.preventDefault()}),o.removeClass("loading"),s()}),l.on("errorOccurred",function(){u.hide()})},{width:240,useLiveEvents:!0,items:"#view-voters-list",preHideCallback:function(){return!n.current}});c(document).bind("keydown",function(e){e.keyCode===o.ESCAPE&&s.current!==u&&u.is(":visible")&&(s.current&&s.current.hide(),u.hide())}),c(document).click(function(e){var i=s.current;i&&"voters"===i.id&&(c(e.target).closest("#inline-dialog-voters").length||i.hide())})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/toggler.js' */
define("jira/viewissue/watchers-voters/toggler",["require"],function(t){"use strict";var e=t("jira/ajs/ajax/smart-ajax"),a=t("jira/flag"),o=t("jquery"),n=t("wrm/context-path"),i=t("jira/util/formatter"),s=function(t,i,s,r,l){var c,u=i+"-on",g=i+"-off",f="/voters",d=t.next(".icon"),x="POST",p=function(t){var o=e.buildSimpleErrorContent(t,{alert:!0});if(t.hasData){var n=JSON.parse(t.data);n.errorMessages&&(o=n.errorMessages[0])}a.showErrorMsg(o,{closeable:!0})};t.hasClass(u)&&(x="DELETE"),-1!==i.indexOf("watch")&&(f="/watchers"),t.removeClass(u).removeClass(g),"POST"===x&&(c={dummy:!0}),o(e.makeRequest({url:n()+"/rest/api/1.0/issues/"+t.attr("rel")+f,type:x,dataType:"json",data:c,contentType:"application/json",complete:function(e,a,o){var n="POST"===x;o.successful?(n?(t.addClass(u),t.text(l.titleOn),r.attr("title",l.titleOn).text(l.textOn)):(t.addClass(g),t.text(l.titleOff),r.attr("title",l.titleOff).text(l.textOff)),s.text(o.data.count),s.toggleClass("jira-badge__primary",n)):(o.aborted||p(o),n?(t.addClass(g),t.text(l.titleOff),r.attr("title",l.titleOff).text(l.textOff)):(t.addClass(u),t.text(l.titleOn),r.attr("title",l.titleOn).text(l.textOn)))}})).throbber({target:d})};o(document).delegate("#toggle-vote-issue","click",function(t){t.preventDefault(),o("#vote-toggle").click()}),o(document).delegate("#toggle-watch-issue","click",function(t){t.preventDefault(),o("#watching-toggle").click()});var r=function(t){o("input[type=hidden][id|=error]").each(function(e,a){var o=a.id.replace("error-","");t[o]=a.value})};o(document).delegate("#vote-toggle","click",function(t){t.preventDefault();var e={titleOn:"Remove vote for this issue",titleOff:"Vote for this issue",textOn:"Remove vote",textOff:"Add vote",actionTextOff:"Vote",actionTextOn:"Voted"},a=o(this),n=o(document.querySelectorAll("#vote-data")),l=o(document.querySelectorAll("#toggle-vote-issue .trigger-label"));r(e),s(a,"vote-state",n,l,e)}),o(document).delegate("#watching-toggle","click",function(t){t.preventDefault();var e={titleOn:"Stop watching this issue",titleOff:"Start watching this issue",textOn:"Stop watching",textOff:"Watch issue",actionTextOff:"Watch",actionTextOn:"Watching"},a=o(this),n=o(document.querySelectorAll("#watcher-data")),l=o(document.querySelectorAll("#toggle-watch-issue .trigger-label"));r(e),s(a,"watch-state",n,l,e)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/initWatchersAndVoters.js' */
AJS.namespace("JIRA.VotersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/voters-user-collection")),AJS.namespace("JIRA.WatchersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/watchers-user-collection")),AJS.namespace("JIRA.VotersView",null,require("jira/viewissue/watchers-voters/views/voters-view")),AJS.namespace("JIRA.WatchersView",null,require("jira/viewissue/watchers-voters/views/watchers-view")),AJS.namespace("JIRA.WatchersNoBrowseView",null,require("jira/viewissue/watchers-voters/views/watchers-no-browse-view")),AJS.namespace("JIRA.WatchersReadOnly",null,require("jira/viewissue/watchers-voters/views/watchers-read-only-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/file-service.js' */
define("jira/fileviewer/file-service",["jira/featureflags/feature-manager","jquery"],function(featureManager,$){var selectors={image:["a[file-preview-type=image]"],document:[]};if(!featureManager.isFeatureEnabled("jira.fileviewer.disable.pdf")){selectors.document.push("a[file-preview-type=document]")}function getPreviewableFileSelector(){return Object.keys(selectors).map(function(k){return selectors[k].join(", ")}).filter(Boolean).join(", ")}function trim(value){return String(value).trim()}function pushSingleOrArray(target,toPush){if(Array.isArray(toPush)){target.push.apply(target,toPush.map(trim).filter(Boolean))}else{var sel=trim(toPush);if(sel){target.push(sel)}}}return{findFiles:function findPreviewableFiles(context){return $(context||document.body).find(getPreviewableFileSelector())},getFileSelector:getPreviewableFileSelector,getImageSelector:function getPreviewableImageSelector(){return selectors.image.join(", ")},addImageSelector:function addImageSelector(sel){pushSingleOrArray(selectors.image,sel)},getDocumentSelector:function getPreviewableDocumentSelector(){return selectors.document.join(", ")},addDocumentSelector:function addDocumentSelector(sel){pushSingleOrArray(selectors.document,sel)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/fileviewer.js' */
define("jira/fileviewer",["wrm/require","jira/fileviewer/file-service","jira/loading/loading","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery","underscore"],function(wrmRequire,fileService,Loading,KeyboardShortcuts,$,_){var viewerReady;var viewer;function getDownloadUrl($fileElement){return $fileElement.data("download-url")||$fileElement.attr("href")}function hideSpinner(){$(".cp-spinner-layer .cp-spinner").spinStop()}function initViewer(){if(!viewerReady){viewerReady=wrmRequire(["wr!com.atlassian.jira.jira-fileviewer-plugin:atlassian-fileviewer"]);viewerReady.done(function(){viewer=new FileViewer({enableMiniMode:true,viewers:["image","document"],moduleBackend:require("jira/fileviewer/module-backend/asynchronous"),analyticsBackend:require("jira/fileviewer/module-backend/analytics")});viewer.on("fv.open",KeyboardShortcuts.disable);viewer.on("fv.close",KeyboardShortcuts.enable);viewer.on("fv.showFile",hideSpinner);viewer.on("fv.showFileError",hideSpinner)})}return viewerReady}function closeViewer(){if(viewer){viewer.close()}}function updateFiles(){var files=[];var imageSelector=fileService.getImageSelector();var documentSelector=fileService.getDocumentSelector();var $files=$(fileService.getFileSelector());$files.each(function(){var $el=$(this).closest("a");if($el.is(imageSelector)){files.push({type:"image/png",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title"),thumbnail:$el.attr("file-preview-url")||$el.attr("data-download-url")||$el.find("img").attr("src")})}if($el.is(documentSelector)){files.push({type:"application/pdf",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title")})}});var uniqFiles=_.uniq(files,false,function(el){return el.id});viewer.setFiles(uniqFiles);$files.off("simpleClick.fvOpen").on("simpleClick.fvOpen",function(e){e.preventDefault();viewer.open({id:$(this).attr("file-preview-id")})})}function initializePreviews(searchContext){if(!viewer){var $files=fileService.findFiles(searchContext);$files.off("simpleClick.fvInit").on("simpleClick.fvInit",function(e){e.preventDefault();var $file=$(this);Loading.showLoadingIndicator();AJS.dim();initViewer().done(function(){updateFiles();viewer.open({id:$file.attr("file-preview-id")})}).fail(function(){window.location=getDownloadUrl($file)}).always(function(){$files.off("simpleClick.fvInit");AJS.undim();Loading.hideLoadingIndicator()})})}else{updateFiles()}}return{attachToElements:initializePreviews,closeViewer:closeViewer,addImageSelector:function(sel){fileService.addImageSelector(sel)},addDocumentSelector:function(sel){fileService.addDocumentSelector(sel)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/AnalyticsUtils.js' */
define("jira/viewissue/analytics-utils",["jira/util/data/meta","jira/issuenavigator/issue-navigator","jira/util/strings","wrm/context-path","jquery","exports"],function(n,t,e,i,r,s){"use strict";function u(){return r(document.body).hasClass("navigator-issue-only")}function a(){return!!n.get("is-servicedesk-rendered")}function o(){return t.isNavigator()}function c(){return u()&&e.contains(location.search,"jql=")}function l(){return e.startsWith(location.pathname,i()+"/projects/")}s.context=function(){return c()?"fullscreen-issuenav":u()?"fullscreen":a()?"sd-queue":o()?"issuenav":l()?"project":"unknown"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabs.soy' */
// This file was automatically generated from ViewIssueTabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.Tabs.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }
if (typeof JIRA.Templates.Issue.Tabs == 'undefined') { JIRA.Templates.Issue.Tabs = {}; }


JIRA.Templates.Issue.Tabs.label = function(opt_data, opt_ignored) {
  return '<a tabindex="0">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.label.soyTemplateName = 'JIRA.Templates.Issue.Tabs.label';
}


JIRA.Templates.Issue.Tabs.tab = function(opt_data, opt_ignored) {
  return '<a id="' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" class="' + soy.$$escapeHtml(opt_data.linkClass) + '">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.tab.soyTemplateName = 'JIRA.Templates.Issue.Tabs.tab';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabsAnalytics.js' */
define("jira/viewissue/tabs/analytics",["jira/analytics","jira/util/strings","jira/viewissue/analytics-utils","underscore"],function(a,t,e,i){"use strict";function s(a){return l.indexOf(a)>-1?a:t.hashCode(a)}function n(a){return{tab:s(a.attr("data-key")),tabPosition:a.index()}}function r(a,t){return{inNewWindow:a,keyboard:t,context:e.context()}}var l=["com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel","com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"];return{tabClicked:function(t,e,s){var l=t.parent(),o=i.extend({},r(e,s),n(l));a.send({name:"jira.viewissue.tab.clicked",properties:o})},buttonClicked:function(t,e,s){if(t.is("[data-tab-sort]")){var l=t.data("order"),o=t.parents(".tabwrap").find("li.active");a.send({name:"jira.viewissue.tabsort.clicked",properties:i.extend({},r(e,s),n(o),{order:l})})}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabs.js' */
define("jira/viewissue/tabs",["jira/util/logger","jira/util/formatter","jquery","jira/jquery/deferred","jira/util/data/meta","jira/dialog/form-dialog","jira/ajs/ajax/smart-ajax","jira/userhover/userhover","jira/viewissue/tabs/analytics"],function(t,e,a,i,n,r,s,o,u){"use strict";function c(t){t=t||document,a.each(_,function(e,a){a(t)})}function l(t){var e=a(t).find(".issuePanelWrapper"),i=a(t).find("#issue_actions_container");T=i.length?i:T,C=e.length?e:C}function f(t,e){var a=new r({id:"issue-tab-error-dialog",widthClass:"small",content:s.buildDialogErrorContent(t,!1)});d(e),T.show(),a.show()}function d(t){a("#issue-tabs li").each(function(){var e=a(this),i=e.data("key"),n=e.data("label");if(i===t)e.addClass("active"),e.html(R.label({text:n}));else{e.removeClass("active");var r=e.data("id"),s=e.data("href");e.html(R.tab({id:r,href:s,linkClass:I,text:n}))}}),m(a("#issue-tabs"))}function h(t){d(t)}function v(t,e){var a=t.pageX,i=t.pageY,n=e.offset(),r=e.outerWidth(),s=e.outerHeight();return 0===a&&0===i||!(a>=n.left&&a<=n.left+r&&i>=n.top&&i<=n.top+s)}function m(t){var e=a(t).find("li.active").data("key");a(t).find(S).click(function(t){var i=a(this),n=v(t,i),r=i.parent().data("key"),s=t.metaKey;r?u.tabClicked(i,s,n):u.buttonClicked(i,s,n),s||(t.preventDefault(),r&&h(r),p(e,i.attr("href")).done(function(t){n&&(r?t.find("#"+i.attr("id")+" > :first-child").focus():t.find(".sortwrap  > :first-child").focus())}).done(c))})}function p(e,n){var r=i();q&&q.abort();var o=s.makeRequest({jqueryAjaxFn:F?a.pjax:a.ajax,headers:{"X-PJAX":!0},container:J,url:n,timeout:null,complete:function(i,n,s){if("abort"!==n){if(q=null,!s.successful)return void((s.status<300||s.status>=400)&&f(s,e));var o=a(this.container),u=document.createElement("div");u.innerHTML=s.data;var c=document.createDocumentFragment().appendChild(u);F||b(o,c),t.trace("jira.issue.tab.loaded"),r.resolve(o)}}});return a(o).throbber({target:C}),q=o,r}function b(t,e){var i=e.querySelectorAll(".tabwrap"),n=t.find(".tabwrap"),r=a(e.querySelectorAll("#issue_actions_container")).contents(),s=T.contents();if(i.length&&n.length&&r.length&&s.length){n.replaceWith(i),T.stop(!0,!0);var o=T.height();T.append(r);var u=T.height()-o,c=o-u;c>0?(T.css("height",u+c),s.remove(),g(u,c)):T.empty().append(r),a(e.querySelectorAll("script")).each(function(){a.globalEval(this.text||this.textContent||this.innerHTML||"")})}else t.empty().append(e)}function g(t,e){var a=Math.min(e/800*1e3,1e3);setTimeout(function(){T.animate({height:t+1},a,"easeOutQuart",function(){T.css("height","auto")})},150)}function j(t){a(t).find(S).each(function(){var t=a(this);t.attr("href",t.attr("href")+"#issue-tabs")})}function y(t){!F||a.support.pjax?m(t):j(t)}function w(t){a(t).bind("moveToFinished",function(t,e){a("a.twixi:visible",e).focus()})}function x(t){t.find("time.livestamp").livestamp()}function k(t){a.inArray(t,_)<0&&_.push(t)}function A(){performance.mark("activityTabFullyLoaded")}var C,T,q,R=JIRA.Templates.Issue.Tabs,F=!1!==n.get("viewissue-use-history-api"),I="ajax-activity-content",J="#activitymodule div.mod-content",S=e.format("a.{0}",I),_=[];return k(l),k(y),k(w),k(o),k(x),k(A),{onTabReady:k,domReady:c}}),AJS.namespace("JIRA.ViewIssueTabs",null,require("jira/viewissue/tabs"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/initViewIssueTabs.js' */
define("jira/viewissue/init-view-issue-tabs",["require"],function(i){"use strict";var e=i("jquery"),t=i("jira/util/events"),s=i("jira/util/events/types"),n=i("jira/viewissue/tabs");e(function(){s.PANEL_REFRESHED&&t.bind(s.PANEL_REFRESHED,function(i,e,t,s){if("activitymodule"===e){var n=s.find("#issue_actions_container > .issue-data-block.focused");1===n.length&&t.find("#"+n.attr("id")).addClass("focused")}})}),t.bind(s.NEW_CONTENT_ADDED,function(i,e){e.is("#activitymodule")&&n.domReady(e)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/slideshow/slideshow-configuration.js' */
define("jira/viewissue/slideshow/slideshow-configuration",["jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery"],function(e,t){"use strict";var i={type:"image",centerOnScroll:!0,onStart:e.disable,onClosed:e.enable};return t.extend({},i,{transitionIn:"elastic",transitionOut:"elastic"})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/image-wrap.js' */
define("jira/viewissue/element/image-wrap",["jira/fileviewer","jira/skate","jira/featureflags/feature-manager","underscore"],function(e,i,a,t){"use strict";a.isFeatureEnabled("jira.fileviewer.disabled")||i("file-preview-type",{type:i.type.ATTRIBUTE,attached:t.debounce(function(){e.attachToElements()},0),detached:function(){e.closeViewer()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initToggleBlock.js' */
define("jira/viewissue/init-toggle-block",["jira/util/events","jira/util/events/types","jira/toggleblock/toggle-block"],function(e,t,i){"use strict";new i({blockSelector:".toggle-wrap",triggerSelector:"#issue-content .mod-header .toggle-title, #ghx-detail-contents .mod-header .toggle-title",storageCollectionName:"block-states"}),t.ISSUE_REFRESHED&&e.bind(t.ISSUE_REFRESHED,function(){t.REFRESH_TOGGLE_BLOCKS&&e.trigger(t.REFRESH_TOGGLE_BLOCKS)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/CommentForm.js' */
define("jira/viewissue/comment/comment-form",["jira/util/formatter","jira/util/events","jira/util/events/types","jira/ajs/ajax/smart-ajax","jira/issue","jira/dialog/form-dialog","wrm/context-path","jira/jquery/deferred","jquery"],function(e,t,i,n,o,r,s,a,m){"use strict";var u=s(),d={setCaretAtEndOfCommentField:function(){var e,t=this.getField(),i=t[0];t.length&&(e=t.val().length,t.scrollTop(t.attr("scrollHeight")),i.setSelectionRange&&e>0&&i.setSelectionRange(e,e))},disable:function(){this.getForm().find("textarea").attr("readonly","readonly"),this.getForm().find("input[type=submit]").attr("disabled","disabled")},isDirty:function(){var e=this.getField();return!!e.length&&e[0].value!==e[0].defaultValue},handleBrowseAway:function(){if(d.isDirty()){var t=d.getForm();return t.length&&t.is(":visible")?"You have entered a comment on this issue. If you navigate away from this page without first saving, the comment will be lost.":void 0}},isVisibilityAvailble:function(){return"none"!==this.getForm().find("#commentLevel :selected").val()},setSubmitState:function(){m.trim(this.getField().val()).length>0&&this.isVisibilityAvailble()?this.getForm().find("#issue-comment-add-submit").removeAttr("disabled"):this.getForm().find("#issue-comment-add-submit").attr("disabled","disabled")},enable:function(){this.getForm().find("textarea").removeAttr("readonly"),this.getForm().find("input[type=submit]").removeAttr("disabled")},getCommentVisibility:function(){var e=this.getForm().find("#commentLevel :selected").val();if(e){return{type:e.split(":")[0],value:this.getForm().find("#commentLevel :selected").text()}}return null},ajaxSubmit:function(){var s=m('<span class="icon throbber loading"></span>'),c=o.getIssueId(),l=o.getIssueKey(),f=u+"/rest/api/2/issue/"+l+"/comment",g={body:this.getField()[0].value.replace(/\r?\n/g,"\r\n")},h=this.getCommentVisibility();h&&(g.visibility=h);var v=a(),p=m.ajax({url:f,type:"POST",contentType:"application/json",data:JSON.stringify(g),success:function(e){t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"]),t.trigger(i.REFRESH_ISSUE_PAGE,[c,{complete:function(){var t="comment-"+e.id;m("#"+t).scrollIntoView({marginBottom:200,marginTop:200}),m("#issue_actions_container > .issue-data-block.focused").removeClass("focused"),m("#"+t).addClass("focused"),s.remove(),d.enable(),v.resolve()}}])},error:function(t){var i,o=JSON.parse(t.responseText);i=o&&o.errors&&o.errors.comment?function(t){var i="<h2>"+"Error"+'</h2><div class="ajaxerror"><div class="aui-message aui-message-error">'+t+"</div></div>";return m(i)}(o.errors.comment):n.buildDialogErrorContent(t),new r({content:i}).show(),s.remove(),d.enable(),v.reject()}}),b=this.getForm().find("input[type=submit]").parent();return b.is(".wiki-button-bar-content")?s.css("margin-right","10px").prependTo(b):s.appendTo(b),m.when(p,v)},getForm:function(){var e=m("form#issue-comment-add");return 1===e.length&&(this.$form=e),this.$form||m()},getField:function(){return this.getForm().find("#comment")},getSubmitButton:function(){return this.getForm().find("#issue-comment-add-submit")},hide:function(e){e&&this.cancel(),this.getForm().detach(),i.UNLOCK_PANEL_REFRESHING&&t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"])},show:function(){this.focus(),i.LOCK_PANEL_REFRESHING&&t.trigger(i.LOCK_PANEL_REFRESHING,["addcommentmodule"])},focus:function(){this.focusField(),this.setCaretAtEndOfCommentField()},focusField:function(){this.getField().focus().trigger("keyup"),this.getSubmitButton().scrollIntoView({marginBottom:200})},showNoCommentMsg:function(){if(""===this.getField().val())return m("#emptyCommentErrMsg").show(),!0},cancel:function(){var e=this;setTimeout(function(){e.getField().val("")},100),m("#comment-preview_link.selected").click()}};return d}),define("jira/viewissue/comment/footer-comment",["jira/viewissue/comment/comment-form","jquery"],function(e,t){"use strict";var i=!1,n=!1,o={getModule:function(){return t("#addcomment")},isActive:function(){return this.getModule().hasClass("active")},hide:function(t){if(this.isActive()){var o=e.handleBrowseAway();(n||i||!o||confirm(o))&&(this.getModule().removeClass("active"),e.hide(t))}},ajaxSubmit:function(){i=!0,e.ajaxSubmit().then(function(){o.hide(!0)})},show:function(){this.isActive()?e.focusField():(i=!1,this.getModule().addClass("active"),this.appendForm(),e.show())},appendForm:function(){this.getModule().find(".mod-content").append(e.getForm())}};return o.setPreviewMode=function(e){n=Boolean(e)},o});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initJiraFooterComment.js' */
define("jira/viewissue/init-comment-areas",["require"],function(e){"use strict";var t=e("jira/viewissue/comment/comment-form"),n=e("jira/viewissue/comment/footer-comment"),i=e("jira/issue"),o=e("jquery"),r=e("jira/libs/parse-uri"),m=window.onbeforeunload,s={};s.openFooterComment=function(){n.show(),t.getForm().find("#commentLevel").bind("change",function(){t.setSubmitState()}),t.setSubmitState()},o(document).delegate("#addcomment #issue-comment-add","submit",function(e){n.ajaxSubmit(),e.preventDefault()}).delegate(".issue-header #comment-issue","click",function(e){n.show(),e.preventDefault()}).delegate("#footer-comment-button","click",function(e){s.openFooterComment(),e.preventDefault()}).delegate("#addcomment .cancel","click",function(e){e.preventDefault(),n.hide(!0)}).delegate("#issue-comment-add","submit",function(){window.setTimeout(function(){t.disable()},0)}).delegate("#issue-comment-add #comment","input",function(){t.setSubmitState()}).delegate("#issue-comment-add input[type='submit']","click",function(e){t.showNoCommentMsg()&&e.preventDefault()}).bind("showWikiInput",function(){n.setPreviewMode(!1);var e=t.getField();e.is(":visible:enabled")&&(i.getStalker().trigger("stalkerHeightUpdated"),e.length>0&&e.focus(),t.setCaretAtEndOfCommentField())}).bind("showWikiPreview",function(){n.setPreviewMode(!0),i.getStalker().trigger("stalkerHeightUpdated")}),window.onbeforeunload=function(){var e=void 0;return o.isFunction(m)&&(e=m.apply(this,arguments)),e||t.handleBrowseAway.apply(this,arguments)},o(function(){"add-comment"===r(window.location.href).anchor&&s.openFooterComment()})}),define("jira/viewissue/invoke-comment-trigger",["jquery"],function(e){"use strict";return function(){var t=e(".add-issue-comment");if(0!==t.length){var n=t.filter(".toolbar-trigger");n.length>0?n.click():t.click()}}}),function(){"use strict";var e=require("jira/viewissue/comment/comment-form");AJS.namespace("JIRA.Issue.CommentForm",null,e),AJS.namespace("JIRA.Issue.getDirtyCommentWarning",null,e.handleBrowseAway),AJS.namespace("JIRA.Issue.invokeCommentTrigger",null,require("jira/viewissue/invoke-comment-trigger"))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initCustomFieldTabs.js' */
define("jira/viewissue/init-custom-field-tabs",["jira/util/logger","jira/util/events","jira/util/events/types","aui/tabs","jquery"],function(t,i,e,n,a){"use strict";var r="#customfieldmodule",u=function(i){var e;"string"!=typeof i&&i.length>0||("#"!==i[0]&&(i="#"+i),t.log("activating tab",i),e=a("a[href='"+i+"']",r),e.length&&n.change(e))},l=function(t){var i=a(t.target).closest(".tabs-pane");i.length>0&&u(i.attr("id"))};a(function(){e.NEW_CONTENT_ADDED&&i.bind(e.NEW_CONTENT_ADDED,function(t,i){var e=i.find(r);e.unbind("reveal"),e.bind("reveal",l),n.setup()}),e.PANEL_REFRESHED&&i.bind(e.PANEL_REFRESHED,function(t,i,e,n){if("details-module"===i){var a=n.find(r).find(".active-tab");1===a.length&&u(a.find("a").attr("href"))}}),a(r).bind("reveal",l)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initSubtaskTimeLogging.js' */
define("jira/viewissue/init-subtask-time-logging",["jquery"],function(i){"use strict";i(document).delegate("#tt_include_subtasks input","click",function(){i(this).is(":checked")?(i("#tt_info_single").hide(),i("#tt_info_aggregate").show()):(i("#tt_info_aggregate").hide(),i("#tt_info_single").show())})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewissue.js' */
require(["jira/viewissue/element/shorten","jira/viewissue/element/image-wrap","jira/viewissue/watchers-voters/watchers","jira/viewissue/watchers-voters/voters","jira/viewissue/watchers-voters/toggler","jira/viewissue/init-comment-areas","jira/viewissue/init-subtask-time-logging","jira/viewissue/init-toggle-block","jira/viewissue/init-custom-field-tabs","jira/viewissue/init-view-issue-tabs"],function(){"use strict"});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:marionette-1.4.1-factory', location = 'factories/marionette/1.4.1/marionette-1.4.1-factory.js' */
/*
 Includes BabySitter
 https://github.com/marionettejs/backbone.babysitter/

 Includes Wreqr
 https://github.com/marionettejs/backbone.wreqr/
*/
'use strict';(function(n){define("atlassian/libs/factories/marionette-1.4.1",function(){return function(h,l){var p=l.Marionette;n.call({_:h,Backbone:l});h=l.Marionette;h.VERSION="1.4.1";l.Marionette=p;return h}})})(function(){var n=this.Backbone,h=this._,l=function(h,e){var d=function(d){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();e.each(d,this.add,this)};e.extend(d.prototype,{add:function(d,b){var g=d.cid;this._views[g]=d;d.model&&(this._indexByModel[d.model.cid]=
g);b&&(this._indexByCustom[b]=g);this._updateLength()},findByModel:function(d){return this.findByModelCid(d.cid)},findByModelCid:function(d){return this.findByCid(this._indexByModel[d])},findByCustom:function(d){return this.findByCid(this._indexByCustom[d])},findByIndex:function(d){return e.values(this._views)[d]},findByCid:function(d){return this._views[d]},remove:function(d){var b=d.cid;d.model&&delete this._indexByModel[d.model.cid];e.any(this._indexByCustom,function(d,a){if(d===b)return delete this._indexByCustom[a],
!0},this);delete this._views[b];this._updateLength()},call:function(d){this.apply(d,e.tail(arguments))},apply:function(d,b){e.each(this._views,function(g){e.isFunction(g[d])&&g[d].apply(g,b||[])})},_updateLength:function(){this.length=e.size(this._views)}});e.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(k){d.prototype[k]=function(){var b=[e.values(this._views)].concat(e.toArray(arguments));
return e[k].apply(e,b)}});return d}(n,h),p=function(h,e,d){e={};e.Handlers=function(d,b){var g=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};g.extend=d.Model.extend;b.extend(g.prototype,d.Events,{setHandlers:function(a){b.each(a,function(a,f){var c=null;b.isObject(a)&&!b.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(f,a,c)},this)},setHandler:function(a,c,b){this._wreqrHandlers[a]={callback:c,context:b};this.trigger("handler:add",a,
c,b)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var c=this._wreqrHandlers[a];if(!c)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return c.callback.apply(c.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return g}(h,d);e.CommandStorage=function(){var e=function(b){this.options=b;this._commands={};d.isFunction(this.initialize)&&
this.initialize(b)};d.extend(e.prototype,h.Events,{getCommands:function(b){var d=this._commands[b];d||(d={command:b,instances:[]},this._commands[b]=d);return d},addCommand:function(b,d){this.getCommands(b).instances.push(d)},clearCommands:function(b){this.getCommands(b).instances=[]}});return e}();e.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,
this);var d=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,d)},execute:function(b,d){b=arguments[0];d=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,d):this.storage.addCommand(b,d)},_executeCommands:function(b,e,a){var c=this.storage.getCommands(b);d.each(c.instances,function(c){e.apply(a,c)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=d.isFunction(b)?new b:
b}})}(e);e.RequestResponse=function(d){return d.Handlers.extend({request:function(){var b=arguments[0],d=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,d)}})}(e);e.EventAggregator=function(d,b){var e=function(){};e.extend=d.Model.extend;b.extend(e.prototype,d.Events);return e}(h,d);return e}(n,n.Marionette,h);(function(h,e,d){function k(a,c){a=Error(a);a.name=c||"Error";throw a;}var b={};e.Marionette=b;b.$=e.$;var g=Array.prototype.slice;b.extend=e.Model.extend;b.getOption=
function(a,c){if(a&&c)return a.options&&c in a.options&&void 0!==a.options[c]?a.options[c]:a[c]};b.triggerMethod=function(){function a(a,c,b){return b.toUpperCase()}var c=/(^|:)(\w)/gi;return function(b){var f=this["on"+b.replace(c,a)];d.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(d.isFunction(f))return f.apply(this,d.tail(arguments))}}();b.MonitorDOMRefresh=function(){function a(a){a._isShown&&a._isRendered&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}return function(c){c.listenTo(c,
"show",function(){c._isShown=!0;a(c)});c.listenTo(c,"render",function(){c._isRendered=!0;a(c)})}}();(function(a){function c(a,c,b,f){f=f.split(/\s+/);d.each(f,function(d){var f=a[d];f||k("Method '"+d+"' was configured as an event handler, but does not exist.");a.listenTo(c,b,f,a)})}function b(a,c,b,d){a.listenTo(c,b,d,a)}function m(a,c,b,f){f=f.split(/\s+/);d.each(f,function(d){a.stopListening(c,b,a[d],a)})}function e(a,c,b,d){a.stopListening(c,b,d,a)}function q(a,c,b,f,m){c&&b&&(d.isFunction(b)&&
(b=b.call(a)),d.each(b,function(b,e){d.isFunction(b)?f(a,c,e,b):m(a,c,e,b)}))}a.bindEntityEvents=function(a,d,f){q(a,d,f,b,c)};a.unbindEntityEvents=function(a,c,b){q(a,c,b,e,m)}})(b);b.Callbacks=function(){this._deferred=b.$.Deferred();this._callbacks=[]};d.extend(b.Callbacks.prototype,{add:function(a,c){this._callbacks.push({cb:a,ctx:c});this._deferred.done(function(b,d){c&&(b=c);a.call(b,d)})},run:function(a,c){this._deferred.resolve(c,a)},reset:function(){var a=this._callbacks;this._deferred=b.$.Deferred();
this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});b.Controller=function(a){this.triggerMethod=b.triggerMethod;this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};b.Controller.extend=b.extend;d.extend(b.Controller.prototype,e.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});b.Region=function(a){this.options=a||{};this.el=b.getOption(this,"el");if(!this.el){var c=Error("An 'el' must be specified for a region.");
c.name="NoElError";throw c;}this.initialize&&(c=Array.prototype.slice.apply(arguments),this.initialize.apply(this,c))};d.extend(b.Region,{buildRegion:function(a,c){var b="string"===typeof a,e="string"===typeof a.selector,g="undefined"===typeof a.regionType,q="function"===typeof a;if(!q&&!b&&!e)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var r,h;b&&(r=a);a.selector&&(r=a.selector);q&&(h=a);!q&&g&&(h=c);a.regionType&&(h=a.regionType);
c=new h({el:r});a.parentEl&&(c.getEl=function(c){var b=a.parentEl;d.isFunction(b)&&(b=b());return b.find(c)});return c}});d.extend(b.Region.prototype,e.Events,{show:function(a){this.ensureEl();var c=a.isClosed||d.isUndefined(a.$el),f=a!==this.currentView;f&&this.close();a.render();(f||c)&&this.open(a);this.currentView=a;b.triggerMethod.call(this,"show",a);b.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return b.$(a)},
open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),b.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}});b.Region.extend=b.extend;b.RegionManager=function(a){var c=a.Controller.extend({constructor:function(c){this._regions={};a.Controller.prototype.constructor.call(this,c)},addRegions:function(a,c){var b={};
d.each(a,function(a,f){"string"===typeof a&&(a={selector:a});a.selector&&(a=d.defaults({},a,c));a=this.addRegion(f,a);b[f]=a},this);return b},addRegion:function(c,b){var f=d.isObject(b),e=d.isString(b),m=!!b.selector;b=e||f&&m?a.Region.buildRegion(b,a.Region):d.isFunction(b)?a.Region.buildRegion(b,a.Region):b;this._store(c,b);this.triggerMethod("region:add",c,b);return b},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){d.each(this._regions,
function(a,c){this._remove(c,a)},this)},closeRegions:function(){d.each(this._regions,function(a,c){a.close()},this)},close:function(){this.removeRegions();var c=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,c)},_store:function(a,c){this._regions[a]=c;this._setLength()},_remove:function(a,c){c.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",a,c)},_setLength:function(){this.length=d.size(this._regions)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){c.prototype[a]=function(){var c=[d.values(this._regions)].concat(d.toArray(arguments));return d[a].apply(d,c)}});return c}(b);b.TemplateCache=function(a){this.templateId=a};d.extend(b.TemplateCache,{templateCaches:{},get:function(a){var c=this.templateCaches[a];c||(c=new b.TemplateCache(a),this.templateCaches[a]=c);return c.load()},clear:function(){var a,c=g.call(arguments),b=c.length;if(0<b)for(a=0;a<b;a++)delete this.templateCaches[c[a]];else this.templateCaches={}}});d.extend(b.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var c=b.$(a).html();c&&0!==c.length||k("Could not find template: '"+a+"'","NoTemplateError");return c},compileTemplate:function(a){return d.template(a)}});b.Renderer={render:function(a,c){if(!a)throw a=Error("Cannot render the template since it's false, null or undefined."),a.name="TemplateNotFoundError",a;return("function"===
typeof a?a:b.TemplateCache.get(a))(c)}};b.View=e.View.extend({constructor:function(a){d.bindAll(this,"render");var c=Array.prototype.slice.apply(arguments);this.options=d.extend({},this.options,a);this.events=this.normalizeUIKeys(d.result(this,"events"));e.View.prototype.constructor.apply(this,c);b.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:b.triggerMethod,getTemplate:function(){return b.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||
{};var c=b.getOption(this,"templateHelpers");d.isFunction(c)&&(c=c.call(this));return d.extend(a,c)},normalizeUIKeys:function(a){if("undefined"!==typeof a)return d.each(d.keys(a),function(c){var b=c.split("@ui.");2===b.length&&(a[b[0]+this.ui[b[1]]]=a[c],delete a[c])},this),a},configureTriggers:function(){if(this.triggers){var a={},c=this.normalizeUIKeys(d.result(this,"triggers"));d.each(c,function(c,b){var f=d.isObject(c),e=f?c.event:c;a[b]=function(a){if(a){var b=a.preventDefault,d=a.stopPropagation,
m=f?c.stopPropagation:d;(f?c.preventDefault:b)&&b&&b.apply(a);m&&d&&d.apply(a)}this.triggerMethod(e,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);b.bindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.bindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;d.isFunction(a)&&(a=a.call(this));var c={},b=this.configureTriggers();d.extend(c,
a,b);e.View.prototype.delegateEvents.call(this,c)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);e.View.prototype.undelegateEvents.apply(this,a);b.unbindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.unbindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},
bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(c){this.ui[c]=this.$(a[c])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,c){delete this.ui[c]},this),this.ui=this._uiBindings,delete this._uiBindings)}});b.ItemView=b.View.extend({constructor:function(){b.View.prototype.constructor.apply(this,g.call(arguments))},serializeData:function(){var a={};this.model?
a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=this.serializeData();a=this.mixinTemplateHelpers(a);var c=this.getTemplate();a=b.Renderer.render(c,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),
b.View.prototype.close.apply(this,g.call(arguments)),this.triggerMethod("item:closed"))}});b.CollectionView=b.View.extend({itemViewEventPrefix:"itemview",constructor:function(a){this._initChildViewStorage();b.View.prototype.constructor.apply(this,g.call(arguments));this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,
this.elBuffer);this.initRenderBuffer();this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a,c,b){this.closeEmptyView();c=this.getItemView(a);b=this.collection.indexOf(a);this.addItemView(a,c,b)},onShowCalled:function(){this.children.each(function(a){b.triggerMethod.call(a,"show")})},
triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():
this.showEmptyView();this.endBuffering()},showCollection:function(){var a;this.collection.each(function(c,b){a=this.getItemView(c);this.addItemView(c,a,b)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new e.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return b.getOption(this,"emptyView")},getItemView:function(a){(a=
b.getOption(this,"itemView"))||k("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,c,f){var e=b.getOption(this,"itemViewOptions");d.isFunction(e)&&(e=e.call(this,a,f));a=this.buildItemView(a,c,e);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,f);this._isShown&&b.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var c=b.getOption(this,
"itemViewEventPrefix");this.listenTo(a,"all",function(){var d=g.call(arguments);d[0]=c+":"+d[0];d.splice(1,0,a);b.triggerMethod.apply(this,d)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,f){a=d.extend({model:a},f);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));
this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,b,d){a.isBuffering?a.elBuffer.appendChild(b.el):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new l},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),b.View.prototype.close.apply(this,g.call(arguments)))},
closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});b.CompositeView=b.CollectionView.extend({constructor:function(){b.CollectionView.prototype.constructor.apply(this,g.call(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},
getItemView:function(a){(a=b.getOption(this,"itemView")||this.constructor)||k("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");
this.triggerRendered();return this},_renderChildren:function(){this.isRendered&&(b.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);var c=this.getTemplate();return b.Renderer.render(c,a)},appendBuffer:function(a,b){this.getItemViewContainer(a).append(b)},appendHtml:function(a,b,d){a.isBuffering?a.elBuffer.appendChild(b.el):this.getItemViewContainer(a).append(b.el)},
getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var c;(c=b.getOption(a,"itemViewContainer"))?(c=d.isFunction(c)?c():c,c=a.$(c),0>=c.length&&k("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):c=a.$el;return a.$itemViewContainer=c},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});b.Layout=b.ItemView.extend({regionType:b.Region,constructor:function(a){a=a||{};
this._firstRender=!0;this._initializeRegions(a);b.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions();this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return b.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);b.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,
b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},_buildRegions:function(a){var c=this,d={regionType:b.getOption(this,"regionType"),parentEl:function(){return c.$el}};return this.regionManager.addRegions(a,d)},_initializeRegions:function(a){this._initRegionManager();a=d.isFunction(this.regions)?this.regions(a):this.regions||
{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new b.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});b.AppRouter=e.Router.extend({constructor:function(a){e.Router.prototype.constructor.apply(this,
g.call(arguments));this.options=a||{};var c=b.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,c)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return b.getOption(this,"controller")},_addAppRoute:function(a,b,e){var c=a[e];if(!c)throw Error("Method '"+e+"' was not found on the controller");this.route(b,
e,d.bind(c,a))}});b.Application=function(a){this._initRegionManager();this._initCallbacks=new b.Callbacks;this.vent=new p.EventAggregator;this.commands=new p.Commands;this.reqres=new p.RequestResponse;this.submodules={};d.extend(this,a);this.triggerMethod=b.triggerMethod};d.extend(b.Application.prototype,e.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,
a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(a,c){var d=g.call(arguments);
d.unshift(this);return b.Module.create.apply(b.Module,d)},_initRegionManager:function(){this._regionManager=new b.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a,b){delete this[a]})}});b.Application.extend=b.extend;b.Module=function(a,c){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=c;this.startWithParent=!0;this.triggerMethod=b.triggerMethod};d.extend(b.Module.prototype,
e.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,b.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(a){a.stop()}),
this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),b.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,c){a&&(c=d.flatten([this,this.app,e,b,b.$,d,c]),a.apply(this,c))},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new b.Callbacks;this._finalizerCallbacks=new b.Callbacks}});d.extend(b.Module,{create:function(a,b,e){var c=a,f=g.call(arguments);
f.splice(0,3);b=b.split(".");var h=[];h[b.length-1]=e;d.each(b,function(b,d){var e=c;c=this._getModule(e,b,a);this._addModuleDefinition(e,c,h[d],f)},this);return c},_getModule:function(a,c,d,e,g){e=a[c];e||(e=new b.Module(c,d),a[c]=e,a.submodules[c]=e);return e},_addModuleDefinition:function(a,b,e,g){if(d.isFunction(e)){var c=e;e=!0}else d.isObject(e)?(c=e.define,e=e.startWithParent):e=!0;c&&b.addDefinition(c,g);b.startWithParent=b.startWithParent&&e;b.startWithParent&&!b.startWithParentIsConfigured&&
(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});b.Wreqr=p;b.ChildViewContainer=l;return b})(this,n,h)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:underscore', location = 'libs/underscore.js' */
define("jira/components/libs/underscore",["underscore"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone', location = 'libs/backbone.js' */
define("jira/components/libs/backbone",["jquery","jira/components/libs/underscore","atlassian/libs/factories/backbone-1.0.0","jira/backbone-queryparams"],function(a,b,c,d){a=c(b,a);d(a);return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:ajs-helper', location = 'util/ajshelper.js' */
define("jira/components/utils/ajshelper",[],function(){var a=window.AJS;return{escapeHtml:a.escapeHtml.bind(a),LEFT:a.LEFT,Templates:a.Templates,HIDE_REASON:a.HIDE_REASON,trigger:a.trigger.bind(a),log:a.log.bind(a),extractBodyFromResponse:a.extractBodyFromResponse,whenIType:function(){return a.whenIType},activeShortcuts:function(){return a.activeShortcuts}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/marionette-1.4.1.js' */
define("jira/components/libs/marionette-1.4.1",["require"],function(a){var b=a("atlassian/libs/factories/marionette-1.4.1"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Mixins.js' */
define("jira/components/libs/marionette-1.4.1/mixins",["require"],function(d){var b=d("jira/components/libs/underscore");return{listenAndRethrow:function(c,a){a=[].concat(a);b.each(a,function(a){this.listenTo(c,a,function(){this.trigger.apply(this,[a].concat(b.toArray(arguments)))},this)},this)},triggerPreventable:function(c,a){a=b.defaults({},a||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});this.trigger(c,a);return a}}});
AJS.namespace("JIRA.Marionette.Mixins",null,require("jira/components/libs/marionette-1.4.1/mixins"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/LinkRegion.js' */
define("jira/components/libs/marionette-1.4.1/linkregion",["require"],function(b){return b("jira/components/libs/marionette-1.4.1").Region.extend({open:function(a){this.$el.append(a.$el.children());a.setElement(this.$el)}})});AJS.namespace("JIRA.Marionette.LinkRegion",null,require("jira/components/libs/marionette-1.4.1/linkregion"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ReplaceRegion.js' */
define("jira/components/libs/marionette-1.4.1/replaceregion",["require"],function(a){return a("jira/components/libs/marionette-1.4.1").Region.extend({open:function(a){this.$el.replaceWith(a.el)}})});AJS.namespace("JIRA.Marionette.ReplaceRegion",null,require("jira/components/libs/marionette-1.4.1/replaceregion"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Controller.js' */
define("jira/components/libs/marionette-1.4.1/controller",["require"],function(a){var c=a("jira/components/libs/underscore"),b=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");b=b.Controller.extend({});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.Controller",null,require("jira/components/libs/marionette-1.4.1/controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ItemView.js' */
define("jira/components/libs/marionette-1.4.1/itemview",["require"],function(b){var c=b("jira/components/libs/marionette-1.4.1");return c.ItemView.extend({renderTemplate:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);var b=this.getTemplate();a=c.Renderer.render(b,a);return c.$(a)},applyToDom:function(){this.delegateEvents();this.bindUIElements();this.triggerMethod("applyToDom")},unwrapTemplate:function(){if(this.$el.parent().length){var a=this.$el.children();this.$el.replaceWith(a);
this.setElement(a)}else this.setElement(this.$el.children())}})});AJS.namespace("JIRA.Marionette.ItemView",null,require("jira/components/libs/marionette-1.4.1/itemview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CollectionView.js' */
define("jira/components/libs/marionette-1.4.1/collectionview",["require"],function(a){var f=a("jira/components/libs/marionette-1.4.1"),g=a("jira/components/libs/marionette-1.4.1/itemview");return f.CollectionView.extend({_appendHtmlWithIndex:function(d,b,c){var a=d.children(),e=a.length;0>=c?d.prepend(b.$el):!e||c>=e?d.append(b.$el):b.$el.insertBefore(a.eq(c))},appendHtml:function(a,b,c){this._appendHtmlWithIndex(a.$el,b,c)},unwrapTemplate:function(){g.prototype.unwrapTemplate.call(this)}})});
AJS.namespace("JIRA.Marionette.CollectionView",null,require("jira/components/libs/marionette-1.4.1/collectionview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CompositeView.js' */
define("jira/components/libs/marionette-1.4.1/compositeview",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1"),d=a("jira/components/libs/marionette-1.4.1/collectionview"),c=a("jira/components/libs/marionette-1.4.1/itemview");return b.CompositeView.extend({appendHtml:function(a,b,c){d.prototype._appendHtmlWithIndex(this.getItemViewContainer(a),b,c)},unwrapTemplate:function(){c.prototype.unwrapTemplate.call(this)}})});AJS.namespace("JIRA.Marionette.CompositeView",null,require("jira/components/libs/marionette-1.4.1/compositeview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Layout.js' */
define("jira/components/libs/marionette-1.4.1/layout",["require"],function(a){var c=a("jira/components/libs/underscore"),b=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");b=b.Layout.extend({applyToDom:function(){this.delegateEvents();this.bindUIElements();this._reInitializeRegions();this.triggerMethod("applyToDom")}});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.Layout",null,require("jira/components/libs/marionette-1.4.1/layout"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Application.js' */
define("jira/components/libs/marionette-1.4.1/application",["require"],function(c){var d=c("jira/components/libs/underscore"),b=c("jira/components/libs/marionette-1.4.1");return b.Application.extend({constructor:function(a){b.Application.call(this,a)},start:function(a){a&&!1===a.forceStop||this.stop();b.Application.prototype.start.call(this,a)},stop:function(){d.invoke(this.submodules,"stop")}})});AJS.namespace("JIRA.Marionette.Application",null,require("jira/components/libs/marionette-1.4.1/application"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/AppModule.js' */
define("jira/components/libs/marionette-1.4.1/appmodule",["require"],function(a){var c=a("jira/components/libs/underscore"),h=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");var b=function(){this.definition=c.bind(this.definition,this)};b.extend=h.extend;c.extend(b.prototype,{create:function(){throw Error("create() must be implemented by AppModules");},generateMasterRequest:!1,name:"",commands:{},requests:{},events:[],definition:function(a,b){var g=this.name,
e=this;if(!g)throw Error("'name' must be defined by AppModules");a.addInitializer(function(){function a(a){c.isFunction(a)&&(a=a(f));var b={};c.each(a,function(a,d){!0===a&&(a=c.bind(f[d],f));d=d&&g?g+":"+d:g;b[d]=a});return b}var f=e.create.apply(e,c.toArray(arguments)),h=a(e.commands),k=a(e.requests);e.generateMasterRequest&&c.extend(k,a({"":function(){return f}}));b.commands.setHandlers(h);b.reqres.setHandlers(k);(function(a,b){c.isFunction(b)&&(b=b(f));c.each(b,function(b){var d=g+":"+b;a.listenTo(f,
b,function(){this.trigger.apply(this,[d].concat(c.toArray(arguments)))})})})(b,e.events)})}});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.AppModule",null,require("jira/components/libs/marionette-1.4.1/appmodule"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/DialogView.js' */
define("jira/components/libs/marionette-1.4.1/dialogview",["require"],function(d){var e=d("jira/components/libs/underscore"),h=d("jira/components/libs/marionette-1.4.1"),n=d("jira/components/libs/marionette-1.4.1/itemview"),p=d("aui/message"),q=d("jira/dialog/form-dialog"),g=d("jquery"),k=d("jira/ajs/ajax/smart-ajax"),l=d("jira/dialog/dialog"),m=d("jira/components/utils/ajshelper");return n.extend({dialog:null,template:g.noop,_generateDialog:function(){var a=this.serializeData(),c=this.getTemplate(),
b={id:this.id,content:function(b){b(c(a))},submitHandler:e.bind(this._generateSubmissionXHR,this)},f=h.getOption(this,"dialogOptions");e.isFunction(f)&&(f=f.apply(this));return new q(e.extend(b,f))},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.dialog=this._generateDialog();this.dialog.show();this.$el=this.dialog.get$popup();g(this.dialog).on("Dialog.hide",e.bind(function(a,c,b){b!==l.HIDE_REASON.cancel&&b!==l.HIDE_REASON.escape||this.close()},this));this.triggerMethod("render",
this);return this},close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(g(this.dialog).off("Dialog.hide"),this.dialog.hide(!0),this.dialog.destroy(),this.isClosed=!0,this.triggerMethod("close"),this.remove())},_generateSubmissionXHR:function(a,c){a.preventDefault();a=this.dialog.$form;var b=h.getOption(this,"formToRequestData");e.isFunction(b)&&(b=b.call(this,a));return k.makeRequest({type:a.attr("method"),url:a.attr("action"),contentType:"application/json",dataType:"json",processData:!1,
data:JSON.stringify(b)}).done(c).done(e.bind(this._onSubmitSuccess,this)).fail(e.bind(this._onSubmitError,this))},_onSubmitSuccess:function(a){this.triggerMethod("submit:success",a);this.close()},_onSubmitError:function(a){this.dialog.getButtonsContainer().find("input").removeAttr("disabled");this.dialog.hideFooterLoadingIndicator();this.dialog.$form.removeClass("submitting");this._showErrorFromXHR(a);this.triggerMethod("submit:error")},_displayFieldErrors:function(a){var c=this.dialog.$popup;e.each(a,
function(a,f){c.find("#"+f).after("\x3cdiv class\x3d'error'\x3e"+m.escapeHtml(a)+"\x3c/div\x3e")})},_displayGenericErrors:function(a){var c=this.dialog.$popup.find(".aui-messages");e.each(a,function(a){var b={closeable:!0,timeout:5};b.body=m.escapeHtml(a);b.shadowed=!1;p.error(c,b)})},_displayXHRErrors:function(a){this.dialog.$popup.find(".aui-messages").append(k.buildDialogErrorContent(a,!0))},_showErrorFromXHR:function(a){this._removeErrorMessages();try{var c=JSON.parse(a.responseText)}catch(b){c=
null}c?(this._displayFieldErrors(c.errors),this._displayGenericErrors(c.errorMessages)):this._displayXHRErrors(a)},_removeErrorMessages:function(){this.dialog.$popup.find(".error").remove();this.dialog.$popup.find(".aui-messages").empty()}})});AJS.namespace("JIRA.Marionette.DialogView",null,require("jira/components/libs/marionette-1.4.1/dialogview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/InlineDialogView.js' */
define("jira/components/libs/marionette-1.4.1/inlinedialogview",["require"],function(c){var b=c("jira/components/libs/underscore"),d=c("jira/components/libs/marionette-1.4.1"),e=c("jira/components/libs/marionette-1.4.1/itemview"),f=c("jquery"),g=c("aui/inline-dialog");return e.extend({dialog:null,template:f.noop,_getDialogOptions:function(){var a=d.getOption(this,"dialogOptions")||{};b.isFunction(a)&&(a=a.apply(this));a=b.extend({},{noBind:!0},a);a.hideCallback=b.bind(function(){this.close()},this);
return a},_getTrigger:function(){var a=d.getOption(this,"trigger");b.isFunction(a)&&(a=a.apply(this));return a},_generateDialog:function(){var a=this.serializeData(),c=this.getTemplate(),b=this._getDialogOptions(),d=this._getTrigger();return new g(d,this.id,function(b,d,e){b.html(c(a));e()},b)},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.$el=this.dialog=this._generateDialog();this.id=this.dialog.id;this.dialog.show();this.triggerMethod("render",this);return this},
close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(this.dialog.hide(),this.isClosed=!0,this.triggerMethod("close"),this.remove())}})});AJS.namespace("JIRA.Marionette.InlineDialogView",null,require("jira/components/libs/marionette-1.4.1/inlinedialogview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:lib', location = 'namespaces.js' */
JIRA.Components=JIRA.Components||{};JIRA.Issues=JIRA.Issues||{};JIRA.Events=JIRA.Events||{};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:brace-2014.09.03-factory', location = 'factories/brace/2014.09.03/brace-2104.09.03-factory.js' */
/*
 Backbone Brace - 2014-06-27
  Copyright 2014 Atlassian Software Systems Pty Ltd
  Licensed under the Apache License, Version 2.0
*/
'use strict';(function(c){define("atlassian/libs/factories/brace-2014.09.03",function(){return function(e,l){e={_:e,Backbone:l};c.call(e);e=e.Brace.noConflict();e.VERSION="2014.09.03";return e}})})(function(){(function(c,e){var l=c.Brace;e=e(c._,c.Backbone);e.noConflict=function(){c.Brace=l;return this};c.Brace=e})(this,function(c,e){function l(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a}function n(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||
a===Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==""+a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof e.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a!==Array&&a[0]?c.map(b,c.bind(n,null,a[0])):b}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";
return b instanceof a?b:p(a)?new a(n([a.model],b)):new a(b)}function p(a,b){return a&&(a.__super__ instanceof(b||e.Collection)||a.__super__===(b||e.Collection).prototype||a===(b||e.Collection))}function t(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d}function q(a,b){return b&&b!==a?a&&"string"!==typeof a?a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):
a.prototype instanceof b:!1:!0}function v(a){return c.isObject(a)?c.reduce(a,function(a,d,g){d&&c.isFunction(d.toJSON)?a[g]=d.toJSON():c.isArray(d)&&(a[g]=c.map(d,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a}function w(a){return function(){var b=a.call(this);return v(b)}}function x(a){return function u(d,g){var e=c.extend({},d);if(d&&d.mixins){var k=d.mixins;delete e.mixins}var h=a.call(this,e,g);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});
this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});k&&c.each(d.mixins,function(a){f.Mixins.applyMixin(h,a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));h.prototype.namedAttributes&&(h.prototype.namedAttributes=l(h.prototype.namedAttributes),f.Mixins.applyMixin(h,f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));h.prototype.toJSON&&(h.prototype.toJSON=
w(h.prototype.toJSON));h.extend=u;return h}}function y(a,b){a=a.prototype;b=b.prototype;var d=a.set;b.set=function(a,b,g){var e=this.namedAttributes;if(!e||null==a)return d.apply(this,arguments);if(c.isObject(a)){var f=c.clone(a);g=b}else f={},f[a]=b;for(var k in f)if(c.has(f,k)){if(!c.has(e,k))throw"Attribute '"+k+"' does not exist";f[k]=n(e[k],f[k])}return d.call(this,f,g)};var g=a.get;b.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,a))throw"Attribute '"+a+"' does not exist";
return g.apply(this,arguments)}}function z(a,b){var d=a.prototype.parse;b.prototype.parse=function(a,b){return c.pick(d(a,b),c.keys(this.namedAttributes))}}function m(a){var b=a.extend();b.extend=x(a.extend);return b}var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,b){c.forEach(c.keys(b),function(d){var g=a.prototype;if("initialize"===d){var e=g.initialize;g.initialize=function(){e&&e.apply(this,arguments);b.initialize.apply(this,
arguments)}}else if("validate"===d){var f=g.validate;g.validate=function(){if(f){var a=f.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){g=g.defaults||(g.defaults={});d=b[d];for(var k in d){if(g.hasOwnProperty(k))throw"Mixin error: class already has default '"+k+"' defined";g[k]=d[k]}}else if("namedAttributes"===d)k=l(g.namedAttributes)||{},d=l(b[d]),g.namedAttributes=c.extend(k,t(d,k));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";
g.namedEvents||(g.namedEvents=[]);g.namedEvents=c.uniq(g.namedEvents.concat(b[d]))}else{if(g.hasOwnProperty(d))throw"Mixin error: class already has property '"+d+"' defined";g[d]=b[d]}},this)}}};f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){a=f.Mixins.createMethodName("set",b);d[a]=function(a,c){return this.set(b,a,c)};a=f.Mixins.createMethodName("get",b);d[a]=function(){return this.get(b)}});if("string"===typeof b&&"undefined"!==
typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),l=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=function(a,b){return this[l](a,b)}}return d},ensureType:n};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var d=f.Mixins.createMethodName("on",a);b[d]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};d=f.Mixins.createMethodName("trigger",a);b[d]=function(){return this.trigger.apply(this,[a].concat(c.toArray(arguments)))}},
this));return b}};f.Model=function(a){var b=m(a);y(a,b);z(a,b);return b}(e.Model);f.Collection=m(e.Collection);f.View=m(e.View);f.Router=m(e.Router);var r=function(){this.initialize.apply(this,arguments)};c.extend(r.prototype,e.Events,{initialize:function(){}});r.extend=e.Model.extend;f.Evented=m(r);return f})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["require"],function(a){var b=a("atlassian/libs/factories/brace-2014.09.03"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'libs/jquery.hoverIntent.min.js' */
// jshint ignore: start
/*eslint-disable*/
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'util/TipsyView.js' */
define("jira/issues/tipsy",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/brace"),a=b("jquery");a.fn.tooltip||(a.fn.tooltip=a.noop,a.fn.tipsy=a.noop);b=d.View.extend({events:{click:"hide"},initialize:function(a){c.isFunction(a.showCondition)?this.shouldShow=a.showCondition:this.shouldShow=a.showCondition?c.bind(function(){return 0<this.$el.filter(a.showCondition).length},this):function(){return!0};this.tipsy=this.$el.tooltip(c.extend({trigger:"manual"},
a.tipsy));this.hoverIntent(a.intents)},hoverIntent:function(a){this.tipsy&&this.tipsy.hoverIntent(c.extend({interval:200,over:c.bind(this.show,this),out:c.bind(this.hide,this)},a));return this},show:function(){this.shouldShow()&&this.tipsy&&this.$el.tipsy("show")},hide:function(){this.tipsy&&this.$el.tipsy("hide")},remove:function(){this.hide();this.$el.removeData("tipsy")}});b.revalidate=function(){return a.fn.tipsy.revalidate()};b.autoBounds=function(){return a.fn.tipsy.autoBounds.apply(a.fn.tipsy,
arguments)};return b});AJS.namespace("JIRA.Issues.Tipsy",null,require("jira/issues/tipsy"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/CatchExceptions.js' */
(function(a){var b=function(a){return function(){try{a.apply(this,arguments)}catch(c){}return this}};a.fn.htmlCatchExceptions=b(a.fn.html);a.fn.appendCatchExceptions=b(a.fn.append);a.fn.prependCatchExceptions=b(a.fn.prepend);a.catchExceptions=function(b){return a("\x3cdiv\x3e").htmlCatchExceptions(b).children()}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/RecurringPromise.js' */
(function(){var c=require("underscore");jQuery.RecurringPromise=function(a){if(!(this instanceof jQuery.RecurringPromise))return new jQuery.RecurringPromise;this._parent=a;this._doneCallbacks=new jQuery.Callbacks;this._failCallbacks=new jQuery.Callbacks;this._alwaysCallbacks=new jQuery.Callbacks};jQuery.RecurringPromise.prototype={add:function(a){var b=new jQuery.Deferred;b.original=a;var d=this._getPending();this._abortIfPending(d);this._setPending(b);a.done(c.bind(function(){b===this._getPending()&&
(b.resolveWith(this,arguments),this._doneCallbacks.fireWith(this,arguments))},this));a.fail(c.bind(function(){b===this._getPending()&&(b.rejectWith(this,arguments),this._failCallbacks.fireWith(this,arguments))},this));a.always(c.bind(function(){b===this._getPending()&&this._alwaysCallbacks.fireWith(this,arguments)},this));return b.promise()},done:function(a){this._doneCallbacks.add(a);return this},fail:function(a){this._failCallbacks.add(a);return this},always:function(a){this._alwaysCallbacks.add(a);
return this},reset:function(){this._abortIfPending(this._getPending());this._setPending(null)},sub:function(){return new jQuery.RecurringPromise(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(a){this._parent?this._parent._setPending(a):this._pending=a},_abortIfPending:function(a){a&&"pending"===a.state()&&(a.reject("abort"),jQuery.isFunction(a.original.abort)&&a.original.abort())}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ConcurrentDeferred.js' */
jQuery.ConcurrentDeferred=function(e){var a=new jQuery.Deferred,c,d=function(b){c=b;b.done(function(){c===b&&a.resolve.apply(a,arguments)}).fail(function(){c===b&&a.reject.apply(a,arguments)})};d(e);jQuery.extend(a,{update:function(a){if(!this.isPending())throw"Cannot update non-pending ConcurrentDeferred";var b=c;d(a);jQuery.isFunction(b.abort)&&b.abort();return this},isPending:function(){return"pending"===this.state()}});return a};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ScrollLock.js' */
(function(d){d.fn.scrollLock=function(a,c){"string"!==typeof a&&(c=a,a=null);c||(c=30);this.on("DOMMouseScroll mousewheel",a,function(b){b.preventDefault();var a;b.originalEvent.wheelDelta&&(a=b.originalEvent.wheelDelta/120);b.originalEvent.detail&&(a=-b.originalEvent.detail/3);d.isNumeric(a)&&(this.scrollTop-=a*c)})}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:uri-1.14.1', location = 'libs/uri/1.14.1/uri-1.14.1.js' */
/*
 URI.js - Mutating URLs

 Version: 1.14.1

 Author: Rodney Rehm
 Web: http://medialize.github.io/URI.js/

 Licensed under
   MIT License http://www.opensource.org/licenses/mit-license
   GPL v3 http://opensource.org/licenses/GPL-3.0

*/
'use strict';(function(k){define("atlassian/libs/uri-1.14.1",function(){var r={};k.call(r);return r.URI.noConflict()})})(function(){(function(k,r){k.URI=r(k.punycode,k.IPv6,k.SecondLevelDomains,k)})(this,function(k,r,t,n){function d(a,b){if(!(this instanceof d))return new d(a,b);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==b?this.absoluteTo(b):this}function q(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function w(a){return void 0===a?
"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===w(a)}function v(a,b){var c;if(h(b)){var d=0;for(c=b.length;d<c;d++)if(!v(a,b[d]))return!1;return!0}var f=w(b);d=0;for(c=a.length;d<c;d++)if("RegExp"===f){if("string"===typeof a[d]&&a[d].match(b))return!0}else if(a[d]===b)return!0;return!1}function z(a,b){if(!h(a)||!h(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function D(a){return escape(a)}
function x(a){return encodeURIComponent(a).replace(/[!'()*]/g,D).replace(/\*/g,"%2A")}function u(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}}function A(a,b){return function(c,d){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!d);return this}}var E=n&&n.URI;d.version="1.14.1";var e=d.prototype,p=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,
username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}};d.duplicateQueryParameters=!1;d.escapeQuerySpace=!0;d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;d.idn_expression=/[^a-z0-9\.-]/i;d.punycode_expression=/(xn--)/i;d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};d.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};d.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return d.domAttributes[b]}};d.encode=x;d.decode=decodeURIComponent;d.iso8859=function(){d.encode=escape;d.decode=unescape};d.unicode=function(){d.encode=x;d.decode=decodeURIComponent};
d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"\x26","%2B":"+","%2C":",","%3B":";","%3D":"\x3d","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"\x26","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";",
"%3D":"\x3d"}}}};d.encodeQuery=function(a,b){a=d.encode(a+"");void 0===b&&(b=d.escapeQuerySpace);return b?a.replace(/%20/g,"+"):a};d.decodeQuery=function(a,b){a+="";void 0===b&&(b=d.escapeQuerySpace);try{return d.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}};d.recodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.encodePathSegment(d.decode(a[b]));return a.join("/")};d.decodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.decodePathSegment(a[b]);
return a.join("/")};var B={encode:"encode",decode:"decode"},y,C=function(a,b){return function(c){try{return d[b](c+"").replace(d.characters[a][b].expression,function(c){return d.characters[a][b].map[c]})}catch(g){return c}}};for(y in B)d[y+"PathSegment"]=C("pathname",B[y]);d.encodeReserved=C("reserved","encode");d.parse=function(a,b){b||(b={});var c=a.indexOf("#");-1<c&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c));c=a.indexOf("?");-1<c&&(b.query=a.substring(c+1)||null,a=a.substring(0,c));
"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=d.parseAuthority(a,b)):(c=a.indexOf(":"),-1<c&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(d.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=d.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)));b.path=a;return b};d.parseHost=function(a,b){var c=a.indexOf("/");-1===c&&(c=a.length);if("["===a.charAt(0)){var d=a.indexOf("]");b.hostname=a.substring(1,d)||null;b.port=a.substring(d+
2,c)||null;"/"===b.port&&(b.port=null)}else a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(d=a.substring(0,c).split(":"),b.hostname=d[0]||null,b.port=d[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,a="/"+a);return a.substring(c)||"/"};d.parseAuthority=function(a,b){a=d.parseUserinfo(a,b);return d.parseHost(a,b)};d.parseUserinfo=function(a,b){var c=a.indexOf("/"),g=a.lastIndexOf("@",-1<c?c:a.length-1);-1<g&&(-1===c||g<c)?(c=a.substring(0,g).split(":"),
b.username=c[0]?d.decode(c[0]):null,c.shift(),b.password=c[0]?d.decode(c.join(":")):null,a=a.substring(g+1)):(b.username=null,b.password=null);return a};d.parseQuery=function(a,b){if(!a)return{};a=a.replace(/&+/g,"\x26").replace(/^\?*&*|&+$/g,"");if(!a)return{};var c={};a=a.split("\x26");for(var g=a.length,f,e,l=0;l<g;l++)f=a[l].split("\x3d"),e=d.decodeQuery(f.shift(),b),f=f.length?d.decodeQuery(f.join("\x3d"),b):null,p.call(c,e)?("string"===typeof c[e]&&(c[e]=[c[e]]),c[e].push(f)):c[e]=f;return c};
d.build=function(a){var b="";a.protocol&&(b+=a.protocol+":");a.urn||!b&&!a.hostname||(b+="//");b+=d.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(b+="#"+a.fragment);return b};d.buildHost=function(a){var b="";if(a.hostname)b=d.ip6_expression.test(a.hostname)?b+("["+a.hostname+"]"):b+a.hostname;else return"";a.port&&(b+=":"+a.port);
return b};d.buildAuthority=function(a){return d.buildUserinfo(a)+d.buildHost(a)};d.buildUserinfo=function(a){var b="";a.username&&(b+=d.encode(a.username),a.password&&(b+=":"+d.encode(a.password)),b+="@");return b};d.buildQuery=function(a,b,c){var g="",f,e;for(f in a)if(p.call(a,f)&&f)if(h(a[f])){var l={};var m=0;for(e=a[f].length;m<e;m++)void 0!==a[f][m]&&void 0===l[a[f][m]+""]&&(g+="\x26"+d.buildQueryParameter(f,a[f][m],c),!0!==b&&(l[a[f][m]+""]=!0))}else void 0!==a[f]&&(g+="\x26"+d.buildQueryParameter(f,
a[f],c));return g.substring(1)};d.buildQueryParameter=function(a,b,c){return d.encodeQuery(a,c)+(null!==b?"\x3d"+d.encodeQuery(b,c):"")};d.addQuery=function(a,b,c){if("object"===typeof b)for(var g in b)p.call(b,g)&&d.addQuery(a,g,b[g]);else if("string"===typeof b)void 0===a[b]?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=(a[b]||[]).concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};d.removeQuery=function(a,b,c){var g;if(h(b))for(c=
0,g=b.length;c<g;c++)a[b[c]]=void 0;else if("object"===typeof b)for(g in b)p.call(b,g)&&d.removeQuery(a,g,b[g]);else if("string"===typeof b)if(void 0!==c)if(a[b]===c)a[b]=void 0;else{if(h(a[b])){g=a[b];var f={},e;if(h(c)){var l=0;for(e=c.length;l<e;l++)f[c[l]]=!0}else f[c]=!0;l=0;for(e=g.length;l<e;l++)void 0!==f[g[l]]&&(g.splice(l,1),e--,l--);a[b]=g}}else a[b]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};d.hasQuery=function(a,b,c,g){if("object"===
typeof b){for(var f in b)if(p.call(b,f)&&!d.hasQuery(a,f,b[f]))return!1;return!0}if("string"!==typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(w(c)){case "Undefined":return b in a;case "Boolean":return a=!(h(a[b])?!a[b].length:!a[b]),c===a;case "Function":return!!c(a[b],b,a);case "Array":return h(a[b])?(g?v:z)(a[b],c):!1;case "RegExp":return h(a[b])?g?v(a[b],c):!1:!(!a[b]||!a[b].match(c));case "Number":c=String(c);case "String":return h(a[b])?
g?v(a[b],c):!1:a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};d.commonPath=function(a,b){var c=Math.min(a.length,b.length),d;for(d=0;d<c;d++)if(a.charAt(d)!==b.charAt(d)){d--;break}if(1>d)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(d)||"/"!==b.charAt(d))d=a.substring(0,d).lastIndexOf("/");return a.substring(0,d+1)};d.withinString=function(a,b,c){c||(c={});var g=c.start||
d.findUri.start,f=c.end||d.findUri.end,e=c.trim||d.findUri.trim,l=/[a-z0-9-]=["']?$/i;for(g.lastIndex=0;;){var m=g.exec(a);if(!m)break;m=m.index;if(c.ignoreHtml){var h=a.slice(Math.max(m-3,0),m);if(h&&l.test(h))continue}h=m+a.slice(m).search(f);var k=a.slice(m,h).replace(e,"");c.ignore&&c.ignore.test(k)||(h=m+k.length,k=b(k,m,h,a),a=a.slice(0,m)+k+a.slice(h),g.lastIndex=m+k.length)}g.lastIndex=0;return a};d.ensureValidHostname=function(a){if(a.match(d.invalid_hostname_characters)){if(!k)throw new TypeError('Hostname "'+
a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(k.toASCII(a).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');}};d.noConflict=function(a){if(a)return a={URI:this.noConflict()},n.URITemplate&&"function"===typeof n.URITemplate.noConflict&&(a.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"===typeof n.IPv6.noConflict&&(a.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"===typeof n.SecondLevelDomains.noConflict&&
(a.SecondLevelDomains=n.SecondLevelDomains.noConflict()),a;n.URI===this&&(n.URI=E);return this};e.build=function(a){if(!0===a)this._deferred_build=!0;else if(void 0===a||this._deferred_build)this._string=d.build(this._parts),this._deferred_build=!1;return this};e.clone=function(){return new d(this)};e.valueOf=e.toString=function(){return this.build(!1)._string};e.protocol=u("protocol");e.username=u("username");e.password=u("password");e.hostname=u("hostname");e.port=u("port");e.query=A("query","?");
e.fragment=A("fragment","#");e.search=function(a,b){a=this.query(a,b);return"string"===typeof a&&a.length?"?"+a:a};e.hash=function(a,b){a=this.fragment(a,b);return"string"===typeof a&&a.length?"#"+a:a};e.pathname=function(a,b){if(void 0===a||!0===a)return b=this._parts.path||(this._parts.hostname?"/":""),a?d.decodePath(b):b;this._parts.path=a?d.recodePath(a):"/";this.build(!b);return this};e.path=e.pathname;e.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="";this._parts=
d._parts();var g=a instanceof d,f="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(f=d.getDomAttribute(a),a=a[f]||"",f=!1);!g&&f&&void 0!==a.pathname&&(a=a.toString());if("string"===typeof a||a instanceof String)this._parts=d.parse(String(a),this._parts);else if(g||f)for(c in a=g?a._parts:a,a)p.call(this._parts,c)&&(this._parts[c]=a[c]);else throw new TypeError("invalid input");this.build(!b);return this};e.is=function(a){var b=!1,c=!1,g=!1,f=!1,e=!1,l=!1,h=!1,k=!this._parts.urn;
this._parts.hostname&&(k=!1,c=d.ip4_expression.test(this._parts.hostname),g=d.ip6_expression.test(this._parts.hostname),b=c||g,e=(f=!b)&&t&&t.has(this._parts.hostname),l=f&&d.idn_expression.test(this._parts.hostname),h=f&&d.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return k;case "absolute":return!k;case "domain":case "name":return f;case "sld":return e;case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return g;
case "idn":return l;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return h}return null};var F=e.protocol,G=e.port,H=e.hostname;e.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(d.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return F.call(this,a,b)};e.scheme=e.protocol;e.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==
a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return G.call(this,a,b)};e.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};d.parseHost(a,c);a=c.hostname}return H.call(this,a,b)};e.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?d.buildHost(this._parts):"";d.parseHost(a,this._parts);this.build(!b);
return this};e.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?d.buildAuthority(this._parts):"";d.parseAuthority(a,this._parts);this.build(!b);return this};e.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";a=d.buildUserinfo(this._parts);return a.substring(0,a.length-1)}"@"!==a[a.length-1]&&(a+="@");d.parseUserinfo(a,this._parts);this.build(!b);return this};e.resource=
function(a,b){if(void 0===a)return this.path()+this.search()+this.hash();a=d.parse(a);this._parts.path=a.path;this._parts.query=a.query;this._parts.fragment=a.fragment;this.build(!b);return this};e.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,
c);c=new RegExp("^"+q(c));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&d.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,a);this.build(!b);return this};e.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";if((a=this._parts.hostname.match(/\./g))&&2>a.length)return this._parts.hostname;b=this._parts.hostname.length-this.tld(b).length-1;b=this._parts.hostname.lastIndexOf(".",
b-1)+1;return this._parts.hostname.substring(b)||""}if(!a)throw new TypeError("cannot set domain empty");d.ensureValidHostname(a);if(!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var c=new RegExp(q(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}this.build(!b);return this};e.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";a=this._parts.hostname.lastIndexOf(".");
a=this._parts.hostname.substring(a+1);return!0!==b&&t&&t.list[a.toLowerCase()]?t.get(this._parts.hostname)||a:a}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(t&&t.is(a)){var c=new RegExp(q(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=new RegExp(q(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,
a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};e.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";b=this._parts.path.length-this.filename().length-1;b=this._parts.path.substring(0,b)||(this._parts.hostname?"/":"");return a?d.decodePath(b):b}var c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=new RegExp("^"+
q(c));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=d.recodePath(a);this._parts.path=this._parts.path.replace(c,a);this.build(!b);return this};e.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";b=this._parts.path.lastIndexOf("/");b=this._parts.path.substring(b+1);return a?d.decodePathSegment(b):b}var c=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&
(c=!0);var g=new RegExp(q(this.filename())+"$");a=d.recodePath(a);this._parts.path=this._parts.path.replace(g,a);c?this.normalizePath(b):this.build(!b);return this};e.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";b=this.filename();var c=b.lastIndexOf(".");if(-1===c)return"";b=b.substring(c+1);b=/^[a-z0-9%]+$/i.test(b)?b:"";return a?d.decodePathSegment(b):b}"."===a.charAt(0)&&(a=a.substring(1));c=this.suffix();
if(c)var g=a?new RegExp(q(c)+"$"):new RegExp(q("."+c)+"$");else{if(!a)return this;this._parts.path+="."+d.recodePath(a)}g&&(a=d.recodePath(a),this._parts.path=this._parts.path.replace(g,a));this.build(!b);return this};e.segment=function(a,b,c){var d=this._parts.urn?":":"/",f=this.path(),e="/"===f.substring(0,1);f=f.split(d);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');e&&f.shift();0>a&&(a=Math.max(f.length+
a,0));if(void 0===b)return void 0===a?f:f[a];if(null===a||void 0===f[a])if(h(b)){f=[];a=0;for(var l=b.length;a<l;a++)if(b[a].length||f.length&&f[f.length-1].length)f.length&&!f[f.length-1].length&&f.pop(),f.push(b[a])}else{if(b||"string"===typeof b)""===f[f.length-1]?f[f.length-1]=b:f.push(b)}else b?f[a]=b:f.splice(a,1);e&&f.unshift("");return this.path(f.join(d),c)};e.segmentCoded=function(a,b,c){var e;"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0===b){a=this.segment(a,b,c);if(h(a)){var f=0;
for(e=a.length;f<e;f++)a[f]=d.decode(a[f])}else a=void 0!==a?d.decode(a):void 0;return a}if(h(b))for(f=0,e=b.length;f<e;f++)b[f]=d.decode(b[f]);else b="string"===typeof b||b instanceof String?d.encode(b):b;return this.segment(a,b,c)};var I=e.query;e.query=function(a,b){if(!0===a)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var c=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);a=a.call(this,c);this._parts.query=d.buildQuery(a||c,this._parts.duplicateQueryParameters,
this._parts.escapeQuerySpace);this.build(!b);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=d.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):I.call(this,a,b)};e.setQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof a||a instanceof String)e[a]=void 0!==b?b:null;else if("object"===typeof a)for(var f in a)p.call(a,f)&&(e[f]=a[f]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.addQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);d.addQuery(e,a,void 0===b?null:b);this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.removeQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,
this._parts.escapeQuerySpace);d.removeQuery(e,a,b);this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.hasQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(e,a,b,c)};e.setSearch=e.setQuery;e.addSearch=e.addQuery;e.removeSearch=e.removeQuery;e.hasSearch=e.hasQuery;e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():
this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};e.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};e.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&k?this._parts.hostname=k.toASCII(this._parts.hostname):this.is("IPv6")&&r&&(this._parts.hostname=r.best(this._parts.hostname)),this._parts.hostname=
this._parts.hostname.toLowerCase(),this.build(!a));return this};e.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};e.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var b=this._parts.path,c="";if("/"!==b.charAt(0)){var e=!0;b="/"+b}b=b.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");e&&(c=b.substring(1).match(/^(\.\.\/)+/)||
"")&&(c=c[0]);for(;;){var f=b.indexOf("/..");if(-1===f)break;else if(0===f){b=b.substring(3);continue}var h=b.substring(0,f).lastIndexOf("/");-1===h&&(h=f);b=b.substring(0,h)+b.substring(f+3)}e&&this.is("relative")&&(b=c+b.substring(1));b=d.recodePath(b);this._parts.path=b;this.build(!a);return this};e.normalizePathname=e.normalizePath;e.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):
this._parts.query=null,this.build(!a));return this};e.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};e.normalizeSearch=e.normalizeQuery;e.normalizeHash=e.normalizeFragment;e.iso8859=function(){var a=d.encode,b=d.decode;d.encode=escape;d.decode=decodeURIComponent;this.normalize();d.encode=a;d.decode=b;return this};e.unicode=function(){var a=d.encode,b=d.decode;d.encode=x;d.decode=unescape;this.normalize();d.encode=a;d.decode=b;return this};
e.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&k?(b+=k.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c="",e=0,f=a._parts.query.split("\x26"),h=f.length;e<h;e++){var l=(f[e]||"").split("\x3d");c+="\x26"+d.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,
"%26");void 0!==l[1]&&(c+="\x3d"+d.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=d.decodeQuery(a.hash(),!0)};e.absoluteTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof d||(a=new d(a));b._parts.protocol||(b._parts.protocol=a._parts.protocol);if(this._parts.hostname)return b;for(e=0;f=c[e];e++)b._parts[f]=
a._parts[f];b._parts.path?".."===b._parts.path.substring(-2)&&(b._parts.path+="/"):(b._parts.path=a._parts.path,b._parts.query||(b._parts.query=a._parts.query));"/"!==b.path().charAt(0)&&(a=a.directory(),b._parts.path=(a?a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};e.relativeTo=function(a){var b=this.clone().normalize();if(b._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new d(a)).normalize();var c=b._parts;var e=a._parts;var f=b.path();
var h=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==h.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");c.protocol===e.protocol&&(c.protocol=null);if(c.username===e.username&&c.password===e.password&&null===c.protocol&&null===c.username&&null===c.password&&c.hostname===e.hostname&&c.port===e.port)c.hostname=null,c.port=null;else return b.build();if(f===h)return c.path="",b.build();a=d.commonPath(b.path(),a.path());if(!a)return b.build();
e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");c.path=e+c.path.substring(a.length);return b.build()};e.equals=function(a){var b=this.clone(),c=new d(a);a={};var e;b.normalize();c.normalize();if(b.toString()===c.toString())return!0;var f=b.query();var k=c.query();b.query("");c.query("");if(b.toString()!==c.toString()||f.length!==k.length)return!1;b=d.parseQuery(f,this._parts.escapeQuerySpace);k=d.parseQuery(k,this._parts.escapeQuerySpace);for(e in b)if(p.call(b,e)){if(!h(b[e])){if(b[e]!==
k[e])return!1}else if(!z(b[e],k[e]))return!1;a[e]=!0}for(e in k)if(p.call(k,e)&&!a[e])return!1;return!0};e.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};e.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};return d})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:scrollintoview', location = 'libs/scrollintoview-1.8.js' */
/*
 jQuery scrollintoview() plugin and :scrollable selector filter

 Version 1.8 (14 Jul 2011)
 Requires jQuery 1.4 or newer

 Copyright (c) 2011 Robert Koritnik
 Licensed under the terms of the MIT license
 http://www.opensource.org/licenses/mit-license.php
*/
(function(e){var m={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:0,direction:"y"},n=/^(?:html)$/i,p=function(a){var b=e(window),c=n.test(a[0].nodeName);if(c)var f={top:0,left:0,bottom:0,right:0};else{var d=a[0];var k=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(d,null):d.currentStyle;var g=document.defaultView&&document.defaultView.getComputedStyle?!0:!1;f=parseFloat(g?k.borderTopWidth:e.css(d,
"borderTopWidth"))||0;var h=parseFloat(g?k.borderLeftWidth:e.css(d,"borderLeftWidth"))||0,l=parseFloat(g?k.borderBottomWidth:e.css(d,"borderBottomWidth"))||0;d=parseFloat(g?k.borderRightWidth:e.css(d,"borderRightWidth"))||0;f={top:f,left:h,bottom:l,right:d,vertical:f+l,horizontal:h+d}}b={top:(c?b:a).scrollTop(),left:(c?b:a).scrollLeft()};h={right:c?0:a.innerWidth()-a[0].clientWidth,bottom:c?0:a.innerHeight()-a[0].clientHeight};l=a[0].getBoundingClientRect();return{border:f,scroll:b,scrollbar:h,rect:{top:c?
0:l.top,left:c?0:l.left,bottom:c?a[0].clientHeight:l.bottom,right:c?a[0].clientWidth:l.right}}};e.fn.extend({scrollIntoViewForAuto:function(a){a=e.extend({},r,a);a.direction=m["string"===typeof a.direction&&a.direction.toLowerCase()]||m.both;var b="";!0===a.direction.x&&(b="horizontal");!0===a.direction.y&&(b=b?"both":"vertical");var c=this.eq(0),f=c.closest(":scrollable("+b+")");if(0<f.length){f=f.eq(0);var d=p(c);b=p(f);c=d.rect.top-(b.rect.top+b.border.top);var k=b.rect.bottom-b.border.bottom-
b.scrollbar.bottom-d.rect.bottom,g=d.rect.left-(b.rect.left+b.border.left);d=b.rect.right-b.border.right-b.scrollbar.right-d.rect.right;var h={};!0===a.direction.y&&(0>c?h.scrollTop=b.scroll.top+c-30:0<c&&0>k&&(h.scrollTop=b.scroll.top+Math.min(c,-k)+30));!0===a.direction.x&&(0>g?h.scrollLeft=b.scroll.left+g:0<g&&0>d&&(h.scrollLeft=b.scroll.left+Math.min(g,-d)));e.isEmptyObject(h)?e.isFunction(a.complete)&&a.complete.call(f[0]):(n.test(f[0].nodeName)&&(f=e("html,body")),f.animate(h,a.duration).eq(0).queue(function(b){e.isFunction(a.complete)&&
a.complete.call(f[0]);b()}))}return this}});var q={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(a,b,c,f){b=m["string"===typeof c[3]&&c[3].toLowerCase()]||m.both;c=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle;var d=q[c.overflowX.toLowerCase()]||!1,e=q[c.overflowY.toLowerCase()]||!1,g=n.test(a.nodeName);if(!d&&!e&&!g)return!1;a={height:{scroll:a.scrollHeight,client:a.clientHeight},width:{scroll:a.scrollWidth,
client:a.clientWidth},scrollableX:function(){return(d||g)&&this.width.scroll>this.width.client},scrollableY:function(){return(e||g)&&this.height.scroll>this.height.client}};return b.y&&a.scrollableY()||b.x&&a.scrollableX()}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser', location = 'util/Browser.js' */
define("jira/components/util/browser",function(){return{locationReload:function(a){window.location.reload(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events-issueactions', location = 'util/IssueActionsEvents.js' */
define("jira/components/util/events/issue-actions",function(){return{DELETE:"delete",ARCHIVE:"archive",UPDATE:"update",INLINE_EDIT:"inlineEdit",ROW_UPDATE:"rowUpdate"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelModel.js' */
define("jira/components/issueviewer/entities/panel",["require"],function(a){var c=a("jira/components/libs/underscore"),f=a("jira/components/libs/brace"),d=a("jira/util/events"),e=a("jira/components/issueviewer/eventtypes");return f.Model.extend({namedAttributes:["entity","updateLocked"],initialize:function(){d.bind(e.LOCK_PANEL_REFRESHING,c.bind(function(a,b){b===this.getEntity().id&&this.set("updateLocked",!0)},this));d.bind(e.UNLOCK_PANEL_REFRESHING,c.bind(function(a,b){b===this.getEntity().id&&
this.set("updateLocked",!1)},this))},update:function(a,b,c){this.getUpdateLocked()||(this.set("entity",a),this.trigger("updated",b,c))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsCollection.js' */
define("jira/components/issueviewer/entities/panels",["require"],function(a){var b=a("jira/components/libs/underscore"),f=a("jira/components/libs/brace");a=a("jira/components/issueviewer/entities/panel");return f.Collection.extend({model:a,update:function(a,d){this.each(function(e){var c=e.id;b.any(a,function(a){return a.id===c})||this.remove(e)},this);b.each(a,function(a,c){var b=this.get(a.id);b?b.update(a,d.fieldsInProgress,d.fieldsSaved):this.add({id:a.id,entity:a},{at:c})},this)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsGroupModel.js' */
define("jira/components/issueviewer/entities/panelsgroup",["require"],function(c){var d=c("jira/components/libs/brace"),a=c("jira/components/issueviewer/entities/panels");return d.Model.extend({namedAttributes:["leftPanels","rightPanels","infoPanels"],defaults:function(){return{leftPanels:new a([]),rightPanels:new a([]),infoPanels:new a([])}},update:function(a,b){this.get("leftPanels").update(a.leftPanels,b);this.get("rightPanels").update(a.rightPanels,b);this.get("infoPanels").update(a.infoPanels,
b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/IssueModel.js' */
define("jira/components/issueviewer/entities/issue",["require"],function(b){var d=b("jira/components/libs/brace"),e=b("jira/components/issueviewer/entities/panelsgroup");return d.Model.extend({namedEvents:["updated"],namedAttributes:"entity id key panels projectKey projectType projectId".split(" "),defaults:function(){return{entity:{},panels:new e}},update:function(a,b){var c=!1;a.issue&&(this.updateFromEntity(a.issue),c=!0);a.panels&&(this.getPanels().update(a.panels,b),c=!0);c&&this.trigger("updated",
b)},resetToDefault:function(){this.clear();this.set(this.defaults())},updateFromEntity:function(a){this.set({id:a.id,key:a.key,entity:a,projectKey:a.project?a.project.key:null,projectType:a.project?a.project.projectType:null,projectId:a.project?a.project.id:null})},isCurrentIssue:function(a){return this.get("id")===a},hasIssue:function(){return this.has("id")},updateIssueQuery:function(a){this.hasIssue()&&(this.getEntity().viewIssueQuery=a)},getIssueInfo:function(){return{issueId:this.getId(),issueKey:this.getKey(),
projectId:this.getProjectId(),projectKey:this.getProjectKey(),projectType:this.getProjectType()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelView.js' */
define("jira/components/issueviewer/views/issuepanel",["require"],function(a){var f=a("jira/components/libs/underscore"),g=a("jira/components/issueviewer/legacy/issuefieldutil"),l=a("jquery"),h=a("jira/components/libs/marionette-1.4.1/itemview"),q=a("jira/components/issueviewer/templates"),m=a("internal/util/navigator");return h.extend({template:q.Body.issuePanel,modelEvents:{updated:"update"},update:function(a,h){function k(){var b=0<c.find(document.activeElement).length;if(m.isIE()&&8>=m.majorVersion()){var a=
c[0].nextSibling,k=c[0].parentNode;c.remove();a?l(a).before(e):l(k).append(e)}else c.replaceWith(e);b&&d.trigger("replacedFocusedPanel");d.setElement(e)}function n(b){d.trigger("panelRendered",d.model.id,d.$el,c);f.each(b,function(b){d.trigger("individualPanelRendered",b)})}var e=this.renderTemplate(),c=this.$el,d=this;if(e.html()!==c.html()){if(function(){return f.any(a,function(b){return 1===c.find(g.getFieldSelector(b)).length})}()){var p=[];f.each(h,function(b){var a=c.find(g.getFieldSelector(b));
1===a.length&&(b=e.find(g.getFieldSelector(b)),1===b.length?(a.replaceWith(b),p.push(b)):a.closest("li, dl").remove())});n(p)}else k(),n([d.$el]);this.bindUIElements()}},onRender:function(){this.setElement(this.$el.children());var a=this.model.getEntity().styleClass;a&&this.$el.addClass(a);this.trigger("individualPanelRendered",this.$el)},applyToDom:function(){this.trigger("individualPanelRendered",this.$el)},serializeData:function(){return this.model.getEntity()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelsView.js' */
define("jira/components/issueviewer/views/issuepanels",["require"],function(c){var d=c("jira/components/libs/marionette-1.4.1/collectionview"),f=c("jira/components/issueviewer/views/issuepanel"),g=c("jira/components/issueviewer/entities/panel");return d.extend({itemView:f,_updatingFromDom:!1,appendHtml:function(b,a,c){var d=b.$el.children(),e=d.length;0>=c?b.$el.prepend(a.$el):!e||c>=e?b.$el.append(a.$el):a.$el.insertBefore(d.eq(c))},applyToDom:function(){var b=this;this._updatingFromDom=!0;this.$el.children().filter(".module").each(function(){var a=
this.id;"addcomment"===a&&(a="addcommentmodule");b.collection.add(new g({id:a,entity:{id:a}}))});this._updatingFromDom=!1},renderItemView:function(b){this._updatingFromDom?b.applyToDom():d.prototype.renderItemView.apply(this,arguments)},buildItemView:function(b){var a=d.prototype.buildItemView.apply(this,arguments);this._updatingFromDom&&a.setElement(document.getElementById(b.id));return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueBodyView.js' */
define("jira/components/issueviewer/views/issuebody",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/layout"),b=a("jira/components/libs/marionette-1.4.1/linkregion");a=a("jira/components/issueviewer/templates");return c.extend({tagName:"div",className:"issue-body-content",regions:{leftPanels:{selector:".issue-main-column",regionType:b},rightPanels:{selector:".issue-side-column",regionType:b},infoPanels:{selector:".issue-body",regionType:b}},template:a.Body.issueBody})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueOpsbarView.js' */
define("jira/components/issueviewer/views/issueopsbar",["require"],function(a){var d=a("jira/util/events"),e=a("jira/util/events/types"),f=a("jquery"),g=a("jira/components/libs/underscore"),h=a("jira/components/libs/marionette-1.4.1/itemview"),k=a("jira/components/issueviewer/templates"),c=a("jira/issues/tipsy"),l=a("jira/components/issueviewer/analytics/issueopsbar");return h.extend({template:k.Header.opsbar,ui:{shareButton:".viewissue-share",exportButton:"#viewissue-export",loginButton:"#ops-login-lnk",
commentButton:"#comment-issue"},initialize:function(){this.onMoreActionsOpen=this.onMoreActionsOpen.bind(this)},serializeData:function(){return{issue:this.model.getEntity()}},onApplyToDom:function(){this.onRender()},onRender:function(){new l(this);this.ui.loginButton.hide();this.ui.commentButton.addClass("inline-comment");new c({el:this.ui.shareButton,showCondition:":not(.active)"});new c({el:this.ui.exportButton,showCondition:":not(.active)",tipsy:{gravity:"ne"}});this.listenToMoreDropdownEvents();
this.handleContentUpdates()},onMoreActionsOpen:function(){setTimeout(this.handleTooLongDropdownMenu.bind(this),0)},listenToMoreDropdownEvents:function(){var b=f("#opsbar-operations_more_drop");b.off("aui-dropdown2-show",this.onMoreActionsOpen);b.on("aui-dropdown2-show",this.onMoreActionsOpen)},handleContentUpdates:g.once(function(){d.bind(e.NEW_CONTENT_ADDED,function(){this.listenToMoreDropdownEvents()}.bind(this))}),handleTooLongDropdownMenu:function(){var b=document.getElementById("opsbar-operations_more_drop");
if(null==b)return!1;this.removeCustomStyles(b,["height","overflow"]);this.setCustomStyles(b)},setCustomStyles:function(b){var a=document.querySelector("#opsbar-operations_more");a=a.getBoundingClientRect().top+a.getBoundingClientRect().height;a+b.getBoundingClientRect().height+30>window.innerHeight&&(b.style.minHeight="50px",b.style.height=window.innerHeight-a-30+"px",b.style.overflow="auto")},removeCustomStyles:function(a,c){if(!Array.isArray(c))return!1;c.forEach(function(b){a.style.removeProperty(b)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueHeaderView.js' */
define("jira/components/issueviewer/views/issueheader",["require"],function(a){var d=a("jira/components/libs/marionette-1.4.1/layout"),e=a("jira/components/issueviewer/templates"),f=a("jira/components/libs/underscore"),c=a("jira/components/issueviewer/views/issueopsbar"),g=a("jira/util/data/meta"),h=a("jquery");a=a("wrm/data");var k=a.claim("archivingIssueHelpUrl"),l=a.claim("archivingProjectHelpUrl");return d.extend({className:"issue-header js-stalker",id:"stalker",tagName:"header",template:e.Header.issueHeader,
templateHelpers:function(){return{archivingIssueHelpUrl:k,archivingProjectHelpUrl:l}},modelEvents:{updated:"update"},regions:{opsbar:".command-bar",pager:"#issue-header-pager"},serializeData:function(){return{issue:this.model.getEntity()}},update:function(b){b.initialize?this._updateWindowTitle():f.include(b.fieldsInProgress,"summary")?this.renderOpsBar():this.render();this.trigger("updated")},onApplyToDom:function(){var b=new c({model:this.model});b.setElement(this.opsbar.el);this.opsbar.attachView(b);
this.opsbar.currentView.applyToDom();this._updateWindowTitle()},onBeforeRender:function(){this.previousElement=this.$el},onRender:function(){this.renderOpsBar();this._updateWindowTitle();this.trigger("panelRendered","header",this.$el,this.previousElement||h(""))},renderOpsBar:function(){this.opsbar.show(new c({model:this.model}));this.trigger("individualPanelRendered",this.$el)},_updateWindowTitle:function(){var b=this.model.getEntity(),a=b.key;b=b.summary;var c=g.get("app-title");c&&b&&a&&(document.title=
"["+a+"] "+b+" - "+c)},focus:function(){this.$el.find("a").eq(0).focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueView.js' */
define("jira/components/issueviewer/views/issue",["require"],function(b){var d=b("jira/components/libs/marionette-1.4.1/layout"),e=b("jira/components/issueviewer/templates"),c=b("jira/components/libs/marionette-1.4.1/replaceregion"),f=b("jira/components/issueviewer/actions"),g=b("jquery");return d.extend({template:e.layout,className:"issue-container",regions:{header:{selector:".issue-header-container",regionType:c},body:{selector:".issue-body-container",regionType:c}},modelEvents:{updated:"update"},
showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},focusComment:function(a){this.$("#activitymodule .focused").removeClass("focused");this.$("#comment-"+a).addClass("focused");this.$(".js-stalker").trigger("refresh")},update:function(a){this._closeDropdowns();a.initialize&&this.render();a.reason&&a.reason.action===f.EDIT_COMMENT&&this.focusComment(a.reason.meta.commentId);this._bringViewIssueElementIntoView()},remove:function(){this.stopListening();
this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1");this._bringViewIssueElementIntoView()},onApplyToDom:function(){this._bringViewIssueElementIntoView();this.trigger("render")},_bringViewIssueElementIntoView:function(){var a=this.model.get("entity").viewIssueQuery;if(a){if(a.focusedCommentId)var b="#comment-"+a.focusedCommentId;else if(a.attachmentSortBy||a.attachmentOrder||a.attachmentViewMode)b="#attachmentmodule";b&&g(b).scrollIntoView({marginBottom:200,
marginTop:200})}},_closeDropdowns:function(){this.$el.find(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorView.js' */
define("jira/components/issueviewer/views/error",["require"],function(a){return a("jira/components/libs/marionette-1.4.1/layout").extend({className:"issue-container",regions:{pager:"#issue-header-pager"},remove:function(){this.stopListening();this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorGenericView.js' */
define("jira/components/issueviewer/views/errorgeneric",["require"],function(a){var b=a("jira/components/issueviewer/views/error"),c=a("jira/components/issueviewer/templates"),d=a("jira/components/util/browser");return b.extend({template:c.Error.Generic,events:{"click #issue-error-reload-button":function(){d.locationReload()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorNotFoundView.js' */
define("jira/components/issueviewer/views/errornotfound",["require"],function(b){var c=b("jira/components/issueviewer/views/error"),d=b("jira/components/issueviewer/templates"),e=b("jira/components/libs/underscore");return c.extend({template:d.Error.DoesNotExist,initialize:function(a){a=a||{};this.showReturnToSearchOnError=a.showReturnToSearchOnError},triggers:{"click #return-to-search":"returnToSearch"},serializeData:function(){var a=this.showReturnToSearchOnError;e.isFunction(a)&&(a=a());return{hideReturnToSearch:!a}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/IssueController.js' */
define("jira/components/issueviewer/controllers/issue",["require"],function(b){var e=b("jira/issue"),f=b("jira/components/issueviewer/views/issuebody"),g=b("jira/components/issueviewer/views/issueheader"),h=b("jira/components/issueviewer/views/issuepanels"),k=b("jira/components/issueviewer/views/issue"),l=b("jira/components/libs/marionette-1.4.1/controller"),d=b("jira/components/libs/underscore"),c=e.CommentForm;return l.extend({initialize:function(a){this.model=a.model},_createViews:function(){this.view=
this._createMainView();this.bodyView=this._createBodyView();this.headerView=this._createHeaderView();this.leftPanelsView=this._createPanelsView(this.model.getPanels().getLeftPanels());this.rightPanelsView=this._createPanelsView(this.model.getPanels().getRightPanels());this.infoPanelsView=this._createPanelsView(this.model.getPanels().getInfoPanels())},_createMainView:function(){var a=new k({model:this.model,el:this.$el});this.listenTo(a,{render:function(){this.trigger("renderMainView",a.$el)}});return a},
_createBodyView:function(){return new f({model:this.model})},_createHeaderView:function(){var a=new g({model:this.model});this.listenAndRethrow(a,"panelRendered");this.listenTo(a,{updated:function(){this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},this.model.getIssueInfo())},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)}});return a},_createPanelsView:function(a){a=new h({collection:a});this.listenTo(a,{"itemview:replacedFocusedPanel":function(){this.trigger("replacedFocusedPanel")},
"itemview:panelRendered":function(a,b,c,d){this.trigger("panelRendered",b,c,d)},"itemview:individualPanelRendered":function(a,b){this.trigger("individualPanelRendered",b)}});return a},createView:function(){this._createViews();this.listenTo(this.view,"render",function(){this.view.header.show(this.headerView);this.view.body.show(this.bodyView);this.bodyView.leftPanels.show(this.leftPanelsView);this.bodyView.rightPanels.show(this.rightPanelsView);this.bodyView.infoPanels.show(this.infoPanelsView);this.trigger("render",
{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1}))})},createViewFromDom:function(){this._createViews();this.listenTo(this.view,"applyToDom",function(){function a(a,b,c){b.setElement(c);b.applyToDom();a.attachView(b)}a(this.view.body,this.bodyView,this.view.$el.find(".issue-body-content"));a(this.view.body,this.headerView,this.view.$el.find("#stalker"));a(this.bodyView.leftPanels,this.leftPanelsView,this.bodyView.$el.find(this.bodyView.leftPanels.el));
a(this.bodyView.rightPanels,this.rightPanelsView,this.bodyView.$el.find(this.bodyView.rightPanels.el));a(this.bodyView.infoPanels,this.infoPanelsView,this.bodyView.$el.find(this.bodyView.infoPanels.el));this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!0}))})},setElement:function(a){this.$el=a;this.view&&this.view.setElement(a)},applyToDom:function(a){a.id=+a.id;this.model.updateFromEntity(a);this.createViewFromDom();this.view.applyToDom()},
show:function(){this.view?this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1})):(this.createView(),this.view.render());this.view.hideLoading()},close:function(){this.view&&this.view.close();this.hideLoading();delete this.view},hideLoading:function(){this.view&&this.view.hideLoading()},showLoading:function(){this.view&&this.view.showLoading()},canDismissComment:function(){var a;if(!c.getForm().data("dismissed")&&(a=c.handleBrowseAway()))if(confirm(a))c.getForm().data("dismissed",
!0);else return c.focus(),!1;return!0},applyResponsiveDesign:function(){if(this.$el){var a=this.$el.width();this.$el.toggleClass("skinny",900>a);this.$el.toggleClass("very-skinny",600>a)}},focus:function(){this.view&&this.headerView.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/ErrorController.js' */
define("jira/components/issueviewer/controllers/error",["require"],function(b){var c=b("jira/components/issueviewer/views/errorgeneric"),d=b("jira/components/issueviewer/views/errornotfound"),f=b("jira/components/libs/marionette-1.4.1/controller"),e=b("jira/components/issueviewer/utils");return f.extend({initialize:function(a){this.contextPath=a.contextPath;this.showReturnToSearchOnError=a.showReturnToSearchOnError},render:function(a,b){switch(a){case "auth":this._renderErrorAuth(b);break;case "forbidden":case "notfound":this._renderErrorView(new d({showReturnToSearchOnError:this.showReturnToSearchOnError}));
break;default:this._renderErrorView(new c)}},applyToDom:function(a,b){switch(a){case "auth":this._renderErrorAuth(b);break;case "forbidden":case "notfound":this._renderErrorViewFromDom(new d({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;default:this._renderErrorViewFromDom(new c)}},close:function(){this.view&&(this.view.close(),delete this.view)},setElement:function(a){this._$el=a;this.view&&this.view.setElement(a)},_renderErrorAuth:function(a){a=this.contextPath+"/login.jsp?os_destination\x3d"+
encodeURIComponent("/browse/"+a);window.location.replace(a)},_renderErrorView:function(a){this.trigger("before:render");e.hideDropdown();this.view=a;this.view.setElement(this._$el);this.view.render();this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!1,issueId:null})},_renderErrorViewFromDom:function(a){this.trigger("before:render");e.hideDropdown();this.view=a;this.view.setElement(this._$el);this.view.applyToDom();
this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!0,issueId:null})},isRendered:function(){return!!this.view}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/IssueLoaderService.js' */
define("jira/components/issueviewer/services/issueloader",["require"],function(e){var g=e("jira/components/libs/marionette-1.4.1/controller"),b=e("jira/components/libs/underscore"),f=e("jquery"),h=e("jira/components/issueviewer/legacy/issuefieldutil");return g.extend({initialize:function(){this._promiseManager=new f.RecurringPromise;this._updatingPromise=this._promiseManager.sub();this._updatingPromise.done(b.bind(this._onUpdatingDone,this)).fail(b.bind(this._onUpdatingError,this));this._loadingPromise=
this._promiseManager.sub();this._loadingPromise.done(b.bind(this._onLoadingDone,this)).fail(b.bind(this._onLoadingError,this))},cancel:function(){this._promiseManager.reset()},update:function(a){function c(a){return function(){return{taskKey:a,data:arguments,startIssueLoad:new Date}}}var d=a.issueEntity,k=a.mergeIntoCurrent,e=a.viewIssueData;a=!!a.detailView;var b=new f.Deferred;this._updatingPromise.add(e.get(d.key,!0,{issueEntity:d,loadingDeferred:b,mergeIntoCurrent:k,startIssueLoad:new Date,detailView:a}).pipe(c("issue"),
c("issue"))).fail(function(){b.reject.apply(b,arguments)});return b.promise()},load:function(a){var c=a.issueEntity;a=a.viewIssueData;var d=!!c.detailView;this._currentlyLoading=!0;var b=new f.Deferred;this._loadingPromise.add(a.get(c.key,!1,{issueEntity:c,loadFields:!1,loadingDeferred:b,startIssueLoad:new Date,detailView:d}));return b.promise()},isLoading:function(){return this._currentlyLoading},_onLoadingDone:function(a,c,d){var b=d.issueEntity;b.id=a.issue.id;b.key=a.issue.key;a.pager||(a.pager=
b.pager);h.transformFieldHtml(a);this._currentlyLoading=!1;c.loadDuration=new Date-d.startIssueLoad;this.trigger("issueLoaded",a,c,d);d.loadingDeferred.resolve(a,c,d)},_onUpdatingDone:function(a){var c=a.data[1];c&&(c.isUpdate=!0);this._onLoadingDone.apply(this,a.data)},_onLoadingError:function(a,c,b){c=b.issueEntity;c={issueId:c.id,issueKey:c.key,response:a};this._currentlyLoading=!1;switch(a.status){case 401:a="auth";break;case 403:a="forbidden";break;case 404:a="notfound";break;default:a="generic"}this.trigger("error",
a,c);b.loadingDeferred.reject()},_onUpdatingError:function(a){this._onLoadingError.apply(this,a.data)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/MetadataService.js' */
define("jira/components/issueviewer/services/metadataservice",["require"],function(d){var b=d("jira/util/data/meta"),e=d("jira/components/libs/underscore");return{removeIssueMetadata:function(a){a=a.getEntity();a.metadata?e.each(a.metadata,function(a,c){b.set(c,null)}):b.get("issue-key")&&b.set("issue-key",null)},addIssueMetadata:function(a){a=a.getEntity();e.each(a.metadata,function(a,c){b.set(c,a)})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/DarkFeatures.js' */
define("jira/components/issueviewer/services/darkfeatures",["require"],function(a){var d=a("jira/lib/class"),c=a("jira/ajs/dark-features"),e=a("wrm/data").claim("com.atlassian.jira.jira-issue-nav-components:issueviewer.features");return function(){var b=d.extend({init:function(a,b){this.featureKey=a;this.featureOffKey=b},enabled:function(){return(!this.featureKey||c.isEnabled(this.featureKey))&&!(this.featureOffKey&&c.isEnabled(this.featureOffKey))}}),a=b.extend({enabled:function(){return e[this.featureKey]}});
return{NO_PREFETCH:new b("ka.NO_PREFETCH"),REDIRECT_FROM_GLOBAL_TO_PROJECT:new b(null,"ka.REDIRECT_FROM_GLOBAL_TO_PROJECT_OFF"),HTTP_SESSIONS_DISABLED:new b("ka.HTTP_SESSIONS_DISABLED"),RTE_ENABLED:new a("rteEnabled")}}()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/LinksCapturer.js' */
define("jira/components/issueviewer/linkscapturer",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/util/events"),g=c("jira/ajs/layer/inline-layer"),d=c("jquery"),h=c("jira/components/libs/marionette-1.4.1/controller"),k=c("jira/message"),l=c("jira/ajs/ajax/smart-ajax"),m=c("jira/components/libs/uri");return h.extend({initialize:function(){e.bindAll(this,"_onRefineViewEvents","_offRefineViewEvents","_handleReviewViewEvents")},capture:function(a){a!==this.el&&(this.el=a,
this.linksToOtherIssues(),this.linksToReorderSubtasks(),this.viewOptionsForCurrentIssue())},linksToOtherIssues:function(){d(this.el).on("simpleClick","a.issue-link[data-issue-key]",e.bind(function(a){a.preventDefault();a=d(a.target).closest("a").data("issue-key");this.trigger("linkToIssue",{issueKey:a})},this))},linksToReorderSubtasks:function(){d(this.el).on("simpleClick",".subtask-reorder a",e.bind(function(a){a.target.href&&(a.preventDefault(),d.ajax({type:"GET",data:{disableRedirect:!0},url:a.target.href}).done(e.bind(function(){this.trigger("reorderSubtasks")},
this)).fail(function(a){k.showErrorMsg(l.buildSimpleErrorContent(a),{closeable:!0})}))},this))},_handleReviewViewEvents:function(a){var b=a.currentTarget;d(b).parents("ul").find("a.aui-checked").removeClass("aui-checked");d(b).addClass("aui-checked");b=(new m(b.href)).query(!0);this.triggerPreventable("refineViewer",{query:b}).isPrevented&&a.preventDefault()},_onRefineViewEvents:function(a,b){d(b).on("simpleClick","#attachment-sorting-options a,#attachment-sorting-order-options a,#attachment-view-mode-options a,#subtasks-show-all,#subtasks-show-open",
this._handleReviewViewEvents)},_offRefineViewEvents:function(a,b){d(b).off("simpleClick","#attachment-sorting-options a,#attachment-sorting-order-options a,#attachment-view-mode-options a,#subtasks-show-all,#subtasks-show-open",this._handleReviewViewEvents)},viewOptionsForCurrentIssue:function(){f.bind(g.EVENTS.show,this._onRefineViewEvents);f.bind(g.EVENTS.hide,this._offRefineViewEvents)},destroy:function(){f.unbind(g.EVENTS.show,this._onRefineViewEvents);f.unbind(g.EVENTS.hide,this._offRefineViewEvents)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueEventBus.js' */
define("jira/components/issueviewer/legacy/issueeventbus",["require"],function(a){return a("jira/components/libs/brace").Model.extend({namedAttributes:["issueId"],namedEvents:"save saveSuccess savingStarted saveError panelRendered replacedFocusedPanel fieldSubmitted dismiss refreshIssue issueRefreshed updateFromDom updateStatusColor quickEditKeyPressed openFocusShifter".split(" ")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/AsyncData.js' */
define("jira/components/issueviewer/legacy/asyncdata",["require"],function(h){var k=h("jira/components/libs/brace"),f=h("jira/components/libs/underscore"),l=h("jquery");return k.Evented.extend({namedEvents:["change"],initialize:function(a){this.data={};this.pendings={};this.accessIndex=0;a&&(this.disableCache=a.disableCache,this.maxCacheSize=a.maxCacheSize)},get:function(a,b,c){var g=new l.Deferred,d=this.disableCache?{}:this.data,e=f.bind(function(b,e){b=this._set(d,a,f.defaults(b,{accessIndex:this.accessIndex++}),
!0,c);e=f.defaults({changed:b},e,d[a]);c&&c.mergeIntoCurrent&&(e.mergeIntoCurrent=!0);d[a]&&!d[a].error?g.resolve(d[a].value,e,c):g.reject(d[a]&&d[a].value,e,c)},this),h=f.bind(function(b){var d=this.fetch(a,c);this.setPending(a,d,function(a){e({value:a,error:!1,updated:new Date},{initialLoad:b})},function(a){var c={error:!0,updated:new Date};void 0!==a&&(c.value=a);e(c,{initialLoad:b,error:!0})})},this),k=f.bind(function(){this.pendings[a].always(f.bind(e,this,{},{initialLoad:!0}))},this);b||this.disableCache?
h(!1):this.hasCached(a)?e({},{fromCache:!0}):this.hasPending(a)?k():h(!0);return g.promise()},setPending:function(a,b,c,g){this.hasPending(a)?this.pendings[a].update(b):this.pendings[a]=new l.ConcurrentDeferred(b);return this.pendings[a].done(function(a){c(a)}).fail(function(a){g(a)})},getIdByValue:function(a){for(var b in this.data)if(this.data[b].value===a)return b;return null},getMeta:function(a){return this.data[a]||{}},getAllCached:function(){var a={};f.each(this.data,function(b,c){a[c]=b.value});
return a},hasCached:function(a){a=this.getMeta(a);return void 0!==a.value||!0===a.error},hasError:function(a){return!0===this.getMeta(a).error},hasPending:function(a){return(a=this.pendings[a])?a.isPending():!1},set:function(a,b){return this._set(this.data,a,{value:b,updated:new Date},!0)},remove:function(a){return this.data[a]?(delete this.data[a],this.triggerChange(),!0):!1},setError:function(a,b){var c={error:!0,updated:new Date};void 0!==b&&(c.value=b);return this._set(this.data,a,c,!0)},setMultiple:function(a){var b=
new Date,c=!1;f.each(a,f.bind(function(a,d){a=f.pick(a,"value","error");a.updated=b;this._set(this.data,d,a,!1)&&(c=!0)},this));c&&this.triggerChange();return c},reset:function(a){this.data={};this.pendings={};this.accessIndex=0;a?this.setMultiple(a):this.triggerChange()},_set:function(a,b,c,g,d){this.disableCache&&a===this.data&&(a={});var e=a[b]?f.clone(a[b]):{};d=this.mergeFetchedAndCached(e,c,d?d:{},a[b]);!g||a[b]&&!d&&a[b].error===e.error||a!==this.data||this.triggerChange();!a[b]&&this.maxCacheSize&&
f.keys(a).length===this.maxCacheSize?c.accessIndex&&(this._dropItem(a),a[b]=e):a[b]=e;return d},_dropItem:function(a){var b=null,c;for(c in a)if(!a[c].accessIndex){b=c;break}else if(null===b||a[c].accessIndex<a[b].accessIndex)b=c;null!==b&&delete a[b]},fetch:function(a){var b=this.getMeta(a),c=new l.Deferred;!this.hasCached(a)||b.error?c.reject(b.value):c.resolve(b.value);return c.promise()},mergeFetchedAndCached:function(a,b,c,g){f.extend(a,b);return!g||g.value!==a.value||g.error!==a.error}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/ViewIssueData.js' */
define("jira/components/issueviewer/legacy/viewissuedata",["require"],function(p){var b=p("jira/components/libs/underscore"),u=p("jira/components/issueviewer/legacy/asyncdata"),v=p("jira/components/issueviewer/services/darkfeatures"),w=p("jira/util/data/meta"),x=p("jquery"),y=window.AJS.contextPath();return u.extend({initialize:function(a){u.prototype.initialize.call(this,b.defaults(a||{},{disableCache:v.NO_PREFETCH.enabled(),maxCacheSize:w.get("viewissue-max-cache-size")}))},fetch:function(a,d){var c=
{issueKey:a,decorator:"none",prefetch:!!d.prefetch};c.shouldUpdateCurrentProject=!d.detailView;if(d.mergeIntoCurrent&&this.data&&this.data[a]&&this.data[a].value&&this.data[a].value.issue){c.lastReadTime=this.data[a].value.readTime;c.fields=[];b.each(this.data[a].value.fields,function(a){c.fields.push(a.id+":"+a.contentId)});c.issue=["summary:"+this.data[a].value.issue.summaryContentId];c.links=[];var f=function(a){b.each(a.links,function(a){c.links.push(a.id+":"+a.contentId)});b.each(a.groups,function(a){f(a)})};
b.each(this.data[a].value.issue.operations.linkGroups,function(a){f(a)});c.panels=[];var k=this,g=function(d){b.each(k.data[a].value.panels[d],function(a){c.panels.push(a.completeKey+":"+a.contentId)})};g("leftPanels");g("rightPanels");g("infoPanels")}"loadFields"in d&&(c.loadFields=d.loadFields);d.issueEntity&&b.defaults(c,d.issueEntity.viewIssueQuery);var e=x.ajax({url:y+"/secure/AjaxIssueAction!default.jspa",headers:{"X-SITEMESH-OFF":!0},data:c,type:d.mergeIntoCurrent?"POST":"GET"});d=e.pipe(function(a){return a},
function(a){return b.pick(a,"status","responseText","statusText")});d.abort=function(){e.abort.apply(e,arguments)};return d},mergeFetchedAndCached:function(a,d,c){if(this._skipMerging(a,d,c))return b.extend(a,d),null;b.each(b.pairs(d),function(b){"value"!==b[0]&&(a[b[0]]=b[1])});d=d.value;var f=[],k=[],g=[];b.each(d.removedContentIds,function(a,q){var d;"fields"===q?d=f:"panels"===q?d=k:"links"===q&&(d=g);d&&b.each(a,function(a){d.push(a)})});c=d.fields;var e=d.issue.operations.linkGroups,h=d.panels,
n=d.issue.summary;if(this._nothingChanged(f,k,g,c,h,e,n))return null;var m={updated:{},added:{},deleted:{}},l=a.value,q=this._comparator;(0<f.length||0<c.length)&&this._mergeFields(c,l,m,f);(0<k.length||0<h.leftPanels.length||0<h.rightPanels.length||0<h.infoPanels.length)&&this._mergePanels(h,l,m,k,q);(0<g.length||0<e.length)&&this._mergeLinks(e,l,m,g,q);n&&this._mergeSummary(d,l,m);return m},_skipMerging:function(a,d,c){return b.isEmpty(a)||!c.mergeIntoCurrent||!a.value||!a.value.issue||!0===d.error},
_nothingChanged:function(a,b,c,f,k,g,e){return 0===a.length&&0===b.length&&0===c.length&&0===f.length&&0===g.length&&0===k.leftPanels.length&&0===k.rightPanels.length&&0===k.infoPanels.length&&!e},_mergeFields:function(a,d,c,f){c.added.fields=[];c.updated.fields=[];c.deleted.fields=[];b.each(a,function(a){b.find(d.fields,function(b){return b.id===a.id})?c.updated.fields.push(a.id):c.added.fields.push(a.id)});b.each(d.fields,function(d){b.contains(f,d.id)?c.deleted.fields.push(d.id):b.contains(c.updated.fields,
d.id)||a.push(d)});d.fields=a},_mergeSummary:function(a,b,c){c.updated.issue=["summary"];b.issue.summary=a.issue.summary;b.issue.summaryContentId=a.issue.summaryContentId},_mergePanels:function(a,d,c,f,k){c.added.panels={};c.updated.panels={};c.deleted.panels={};var g=function(e){c.added.panels[e]=[];c.updated.panels[e]=[];c.deleted.panels[e]=[];b.each(a[e],function(a){b.find(d.panels[e],function(b){return b.id===a.id})?c.updated.panels[e].push(a.id):c.added.panels[e].push(a.id)});var g=a[e];b.each(d.panels[e],
function(a){b.contains(f,a.completeKey)?c.deleted.panels[e].push(a.id):b.contains(c.updated.panels[e],a.id)||g.push(a)});g.sort(k);d.panels[e]=g};g("leftPanels");g("rightPanels");g("infoPanels")},_mergeLinks:function(a,b,c,f,k){c.added.groups={};c.updated.groups={};c.deleted.groups={};var d=[];this._mergeOperationsLinks(a,b,d,c,f,k);this._mergeToolsLinks(a,b,d,c,f,k);b.issue.operations.linkGroups=d},_mergeOperationsLinks:function(a,d,c,f,k,g){f.added.groups["view.issue.opsbar"]=[];f.updated.groups["view.issue.opsbar"]=
[];f.deleted.groups["view.issue.opsbar"]=[];var e=b.find(d.issue.operations.linkGroups,function(a){return"view.issue.opsbar"===a.id}),h=b.find(a,function(a){return"view.issue.opsbar"===a.id}),n={},m={};h&&b.each(h.groups,function(a){b.find(e.groups,function(b){return a.id===b.id})?f.updated.groups["view.issue.opsbar"].push(a.id):f.added.groups["view.issue.opsbar"].push(a.id);b.each(a.links,function(b){n[b.id]=b;m[b.id]=a.id});a.groups&&0<a.groups.length&&b.each(a.groups[0].groups,function(a){b.each(a.links,
function(b){n[b.id]=b;m[b.id]=a.id})})});if(e){var l=[];h&&b.each(h.groups,function(a){b.contains(f.added.groups["view.issue.opsbar"],a.id)&&l.push(a)});b.each(e.groups,function(a){var d=[],c=null;h&&(c=b.find(h.groups,function(b){return a.id===b.id}))&&b.each(c.links,function(c){b.find(a.links,function(a){return c.id===a.id})||d.push(c)});var e=!1,q=function(a,d){b.each(a.links,function(c){var f=m[c.id];f&&f!==a.id?e=!0:n[c.id]?d.push(n[c.id]):b.contains(k,c.id)?e=!0:d.push(c)})};q(a,d);d.sort(g);
a.links=d;var t=null;c&&c.groups&&0<c.groups.length&&(t=c.groups[0]);var r=null;if(a.groups&&0<a.groups.length){r=a.groups[0];var p=[];t&&b.each(t.groups,function(a){b.find(r.groups,function(b){return a.id===b.id})||p.push(a)});b.each(r.groups,function(a){var c=[];if(t){var d=b.find(t.groups,function(b){return b.id===a.id});d&&b.each(d.links,function(d){b.find(a.links,function(a){return d.id===a.id})||c.push(d)})}q(a,c);0<c.length&&(c.sort(g),a.links=c,p.push(a))});0<p.length?(p.sort(g),r.groups=
p):(r=null,e=!0)}else t&&(r=c.groups[0]);a.groups=[];r&&(a.groups[0]=r);0<d.length||r?(l.push(a),e&&!b.contains(f.updated.groups["view.issue.opsbar"],a.id)&&f.updated.groups["view.issue.opsbar"].push(a.id)):f.deleted.groups["view.issue.opsbar"].push(a.id)});0<l.length&&(l.sort(g),e.groups=l,c.push(e))}else h&&c.push(h);f.added.groups["view.issue.opsbar"].sort();f.deleted.groups["view.issue.opsbar"].sort();f.updated.groups["view.issue.opsbar"].sort()},_mergeToolsLinks:function(a,d,c,f,k,g){f.updated.groups["jira.issue.tools"]=
!1;var e=b.find(d.issue.operations.linkGroups,function(a){return"jira.issue.tools"===a.id});a=b.find(a,function(a){return"jira.issue.tools"===a.id});var h={};a&&(f.updated.groups["jira.issue.tools"]=!0,b.each(a.links,function(a){h[a.id]=a}),a.groups&&0<a.groups.length&&b.each(a.groups[0].links,function(a){h[a.id]=a}));if(e){var n=[];a&&b.each(a.links,function(a){b.find(e.links,function(b){return a.id===b.id})||n.push(a)});b.each(e.links,function(a){h[a.id]?n.push(h[a.id]):b.contains(k,a.id)||n.push(a)});
n.sort(g);e.links=n;f=null;a&&a.groups&&0<a.groups.length&&(f=a.groups[0]);if(e.groups&&0<e.groups.length){var m=e.groups[0],l=[];f&&b.each(f.links,function(a){b.find(m.links,function(b){return a.id===b.id})||l.push(a)});b.each(m.links,function(a){h[a.id]?l.push(h[a.id]):b.contains(k,a.id)||l.push(a)});e.groups=[];0<l.length&&(l.sort(g),m.links=l,e.groups[0]=m)}else f&&(e.groups=[f]);c.push(e)}else a&&c.push(a)},_comparator:function(a,b){return a.weight&&b.weight?a.weight>b.weight?1:a.weight<b.weight?
-1:0:a.weight&&!b.weight?1:!a.weight&&b.weight?-1:0},updateIssue:function(a,b){(a=this.getMeta(a))&&a.value&&(a.value.fields=b.fields||{})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueFieldUtil.js' */
define("jira/components/issueviewer/legacy/issuefieldutil",["require"],function(c){var f=c("jira/components/libs/underscore"),d=c("jquery"),g=c("jira/util/data/meta"),e={getFieldSelector:function(a){return"issuetype"===a?"#type-val":"fixVersions"===a?"#fixfor-val":"summary"===a?"#summary-val":"labels"===a?"#wrap-labels .value":"duedate"===a?"#due-date":"#"+a+"-val"},matchesFieldSelector:function(a){return 1===d(e.getFieldSelector(a)).length},transformFieldHtml:function(a){a.fields=f.map(a.fields,
function(a){var b=d("\x3cdiv /\x3e").htmlCatchExceptions(a.editHtml);0!==b.find("input.radio,input.checkbox").length?b.find("legend").eq(0).remove():b.find("label").eq(0).remove();return{id:a.id,label:a.label,editHtml:b.html(),required:a.required,contentId:a.contentId}});return a},getAccessKeyModifier:function(){return g.get("keyboard-accesskey-modifier")},isWikifield:function(a){try{return(new DOMParser).parseFromString(a,"text/html").body.querySelector(".jira-wikifield")}catch(h){return!1}}};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/Utils.js' */
define("jira/components/issueviewer/utils",["require"],function(a){var b=a("aui/inline-dialog"),c=a("jira/ajs/layer/inline-layer"),d=a("jquery");return{hideLightbox:function(){d.fancybox.close()},hideDropdown:function(){b.current&&"column-picker-dialog"!==b.current.id&&b.current.hide();if(c.current){var a=c.current.options.offsetTarget();a instanceof d&&(a.is(":visible")||c.current.hide())}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/actions.js' */
define("jira/components/issueviewer/actions",["require"],function(a){var b=a("jira/components/libs/underscore");a=a("jira/components/util/events/issue-actions");return b.extend({},a,{EDIT_COMMENT:"editComment"})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/eventtypes.js' */
define("jira/components/issueviewer/eventtypes",["require"],function(a){a=a("jira/util/events/types");a.ISSUE_REFRESHED="issueRefreshed";a.PANEL_REFRESHED="panelRefreshed";return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/analytics/IssueOpsbar.js' */
define("jira/components/issueviewer/analytics/issueopsbar",["require"],function(a){var f=a("jira/components/libs/underscore"),g=a("jquery"),h=a("jira/viewissue/analytics-utils"),k=a("jira/components/utils/ajshelper");a=function(c){this.issueId=c.model.get("id");this.$el=c.$el;this.bindEventsToOpsbar()};a.prototype.triggerEvent=function(c){k.trigger("analyticsEvent",{name:"kickass.opsbar.operation",data:c})};a.prototype._getParamsButtonMain=function(c,a,d){return f.extend(this._getParamsCommon(c),
{issueId:this.issueId,id:a.attr("id"),idx:d})};a.prototype._getParamsButtonSubmenu=function(a,b,d,l,e){return f.extend(this._getParamsCommon(a),{issueId:this.issueId,id:b.attr("id"),idx:d,parentId:l.attr("id"),parentIdx:e})};a.prototype._getParamsCommon=function(){return{context:h.context()}};a.prototype.bindEventsToOpsbar=function(){this.$el.find("div.ops-menus .aui-button").each(function(a,b){b=g(b);if(b.hasClass("toolbar-dropdown")){var d=b.find("a.toolbar-trigger");d.click(function(c){this.triggerEvent(this._getParamsButtonMain(c,
d,a))}.bind(this));b.find(".aui-list a").each(function(c,b){var e=g(b);e.click(function(b){this.triggerEvent(this._getParamsButtonSubmenu(b,e,c,d,a))}.bind(this))}.bind(this))}else{var c=b.find("a");c.click(function(b){this.triggerEvent(this._getParamsButtonMain(b,c,a))}.bind(this))}}.bind(this))};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewer.js' */
define("jira/components/issueviewer",["require"],function(b){var h=b("jira/components/libs/underscore"),u=b("jira/components/issueviewer/actions"),v=b("jira/components/issueviewer/services/darkfeatures"),w=b("jira/components/issueviewer/controllers/error"),d=b("jira/util/events"),x=b("jira/components/issueviewer/controllers/issue"),y=b("jira/components/issueviewer/legacy/issueeventbus"),z=b("jira/components/issueviewer/services/issueloader"),A=b("jira/components/issueviewer/entities/issue"),f=b("jquery"),
B=b("jira/components/issueviewer/linkscapturer"),p=b("jira/components/libs/marionette-1.4.1/controller"),q=b("jira/util/data/meta"),m=b("jira/components/issueviewer/services/metadataservice"),r=b("jira/util/events/reasons"),t=window.JIRA,g=b("jira/components/issueviewer/eventtypes"),k=b("jira/components/issueviewer/utils"),C=b("jira/components/issueviewer/legacy/viewissuedata"),n=b("wrm/data"),D=window.AJS.contextPath(),l=function(){t.trace.apply(t,arguments)};return p.extend({namedEvents:["loadComplete",
"loadError","close","replacedFocusedPanel","linkToIssue"],initialize:function(a){a=a||{};a.useJIRAEvents=!1!==a.useJIRAEvents;this.model=new A;this.eventBus=new y;this.viewIssueData=new C;this._buildIssueLoader();this._buildLinksCapturer();this._buildErrorController({showReturnToSearchOnError:a.showReturnToSearchOnError});this._buildIssueController();d.bind(g.REFRESH_ISSUE_PAGE,h.bind(function(a,b,d){this.model.isCurrentIssue(b)&&this.refreshIssue(d)},this))},_buildIssueLoader:function(){this.issueLoader=
new z;this.listenTo(this.issueLoader,"error",function(a,c){this.trigger("loadError",c);this.errorController.render(a,c.issueKey);this.removeIssueMetadata();l("jira.issue.refreshed",{id:c.issueId});this.options.useJIRAEvents&&d.trigger(g.ISSUE_REFRESHED,[c.issueId])});this.listenTo(this.issueLoader,"issueLoaded",this._onIssueLoaded)},_buildLinksCapturer:function(){this.linksCapturer=new B;this.listenTo(this.linksCapturer,{linkToIssue:function(a){this.trigger("linkToIssue",a)},refineViewer:function(a){this.trigger("refineViewer",
a)},reorderSubtasks:function(){this.issueController.showLoading();this.refreshIssue({reason:u.UPDATE}).always(h.bind(function(){this.issueController.hideLoading()},this))}})},_buildErrorController:function(a){a=a||{};this.errorController=new w({contextPath:D,showReturnToSearchOnError:a.showReturnToSearchOnError});this.listenTo(this.errorController,"before:render",function(){this.issueController.close()});this.listenTo(this.errorController,"returnToSearch",function(){this.trigger("close")});this.listenAndRethrow(this.errorController,
"render")},_buildIssueController:function(){this.issueController=new x({model:this.model});this.listenAndRethrow(this.issueController,"replacedFocusedPanel");this.listenTo(this.issueController,{render:function(a,c){k.hideDropdown();this.errorController.close();this.trigger("render",a,c);l("jira.psycho.issue.refreshed",{id:this.model.getId()})},renderMainView:function(a){this.options.useJIRAEvents&&(d.trigger(g.NEW_CONTENT_ADDED,[a,r.pageLoad]),d.trigger(g.REFRESH_TOGGLE_BLOCKS,[this.model.getId()]));
this.trigger("renderMainView",a,this.model.getId())},panelRendered:function(a,c,b){this.eventBus.triggerPanelRendered(a,c);this.options.useJIRAEvents&&d.trigger(g.PANEL_REFRESHED,[a,c,b]);this.trigger("panelRendered",a,c,b)},close:function(){k.hideDropdown()},individualPanelRendered:function(a){this.options.useJIRAEvents&&d.trigger(g.NEW_CONTENT_ADDED,[a,r.panelRefreshed]);this.trigger("individualPanelRendered",a)}})},_updateModel:function(a,c){this.model.update(a,c)},_onIssueLoaded:function(a,c,
b){var f=!v.NO_PREFETCH.enabled(),e=b.issueEntity;b=!c.mergeIntoCurrent&&!1!==b.initialize;var h=!this.model.isCurrentIssue(e.id),k=!!e.detailView;if(!c.isUpdate||b)this.model.resetToDefault(),this.errorController.close();this._updateModel(a,{initialize:b,changed:c.changed,mergeIntoCurrent:c.mergeIntoCurrent});c.isUpdate&&!b||this.issueController.close();this.issueController.show();f&&c.fromCache&&this.refreshIssue(e,{fromCache:!0,mergeIntoCurrent:!c.error,detailView:k});m.addIssueMetadata(this.model);
e.bringToFocus&&e.bringToFocus();this._triggerLoadComplete(h,c,e);a={id:e.id};c.fromCache?l("jira.issue.loadFromCache",a):l("jira.issue.loadFromServer",a);l("jira.issue.refreshed",a);this.options.useJIRAEvents&&d.trigger(g.ISSUE_REFRESHED,[e.id])},_triggerLoadComplete:function(a,c,b){this.trigger("loadComplete",this.model,{isNewIssue:a,issueId:b.id,issueKey:b.key,duration:c.loadDuration,loadReason:c.fromCache?"issues-cache-refresh":void 0,fromCache:c.fromCache,issueRefreshedEvent:!!this.options.useJIRAEvents})},
abortPending:function(){this.issueLoader.cancel()},canDismissComment:function(){return this.issueController.canDismissComment()},beforeHide:function(){k.hideLightbox();k.hideDropdown();this.abortPending();this.removeIssueMetadata()},beforeShow:function(){m.addIssueMetadata(this.model)},getIssueId:function(){return this.model.getEntity().id||null},getIssueKey:function(){return this.model.getEntity().key||null},getProjectKey:function(){return this.model.get("projectKey")||null},getProjectType:function(){return this.model.get("projectType")||
null},getProjectId:function(){return this.model.get("projectId")||null},_loadIssueFromDom:function(a){a.id&&-1!==a.id?this.issueController.applyToDom(h.extend({id:-1},a)):(this.errorController.applyToDom("notfound",a.key),this.trigger("loadError"));q.set("serverRenderedViewIssue",null);a={id:this.getIssueId()};l("jira.issue.refreshed",a)},loadIssue:function(a){if(q.get("serverRenderedViewIssue"))return a.project={id:n.claim("projectId"),key:n.claim("projectKey"),projectType:n.claim("projectType")},
this.loadIssueRenderedByTheServer(a);if(!this.canDismissComment()||!a.key)return(new f.Deferred).reject();this.issueController.showLoading();return this.issueLoader.load({issueEntity:a,viewIssueData:this.viewIssueData})},loadIssueRenderedByTheServer:function(a){var b=f("#key-val"),d=f("#summary-val");a.id=b.attr("rel")||-1;a.summary=d.text();this._loadIssueFromDom(a);this.trigger("loadComplete",this.model,{isNewIssue:!1,issueId:a.id,issueKey:a.key,duration:0,loadReason:void 0,fromCache:!1});return(new f.Deferred).resolve().promise()},
refreshIssue:function(a){a=h.defaults({},a,{mergeIntoCurrent:!0});if(this.model.hasIssue()){var b=this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:a.mergeIntoCurrent,detailView:a.detailView});a.complete&&(b=b.done(a.complete).fail(a.complete));this.issueController.showLoading()}else b=(new f.Deferred).resolve().promise();return b},removeIssueMetadata:function(){m.removeIssueMetadata(this.model)},setContainer:function(a){this.linksCapturer.capture(a);
this.errorController.setElement(a);this.issueController.setElement(a)},isCurrentlyLoading:function(){return this.issueLoader.isLoading()},updateIssueWithQuery:function(a){this.issueController.showLoading();this.model.updateIssueQuery(a);this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:!0})},dismiss:function(){this.model.resetToDefault();this.errorController.close();this.issueController.close();this.linksCapturer.destroy()},close:function(){this.canDismissComment()&&
(this.dismiss(),this.trigger("close"))},destroy:function(){this.dismiss();p.prototype.close.call(this)},applyResponsiveDesign:function(){this.issueController.applyResponsiveDesign()},isShowingError:function(){return this.errorController.isRendered()},focus:function(){this.issueController.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewerAppModule.js' */
define("jira/components/issueviewer/appmodule",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/components/issueviewer");return a("jira/components/libs/marionette-1.4.1/appmodule").extend({name:"issueViewer",generateMasterRequest:!0,create:function(a){a=b.defaults({},a,{showReturnToSearchOnError:function(){return!1}});return new c({showReturnToSearchOnError:a.showReturnToSearchOnError})},commands:function(){return{abortPending:!0,beforeHide:!0,beforeShow:!0,removeIssueMetadata:!0,
updateIssueWithQuery:!0,close:!0,setContainer:!0,dismiss:!0}},requests:function(){return{loadIssue:!0,canDismissComment:!0,getIssueId:!0,getIssueKey:!0,refreshIssue:!0,isCurrentlyLoading:!0}},events:function(){return"loadComplete loadError close render replacedFocusedPanel linkToIssue refineViewer".split(" ")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/Issue.soy' */
// This file was automatically generated from Issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }


JIRA.Components.IssueViewer.Templates.layout = function(opt_data, opt_ignored) {
  return '<div id="issue-content" class="issue-edit-form">' + ((opt_data.serverRenderedViewIssue) ? '<header id="stalker" class="issue-header js-stalker">' + JIRA.Components.IssueViewer.Templates.Header.issueHeader(opt_data) + '</header><div class="issue-body-content">' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels(opt_data) + '</div>' : '<div class="issue-header-container"></div><div class="issue-body-container"></div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.layout.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.layout';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueHeader.soy' */
// This file was automatically generated from IssueHeader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Header == 'undefined') { JIRA.Components.IssueViewer.Templates.Header = {}; }


JIRA.Components.IssueViewer.Templates.Header.opsbar = function(opt_data, opt_ignored) {
  var output = '<div class="ops-cont"><div class="ops-menus aui-toolbar2"><div class="aui-toolbar2-inner">';
  if (opt_data.issue.operations) {
    var linkGroupList6 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen6 = linkGroupList6.length;
    for (var linkGroupIndex6 = 0; linkGroupIndex6 < linkGroupListLen6; linkGroupIndex6++) {
      var linkGroupData6 = linkGroupList6[linkGroupIndex6];
      if (linkGroupData6.id && linkGroupData6.id == 'view.issue.opsbar') {
        output += '<div class="aui-toolbar2-primary">';
        var subGroupList10 = linkGroupData6.groups;
        var subGroupListLen10 = subGroupList10.length;
        for (var subGroupIndex10 = 0; subGroupIndex10 < subGroupListLen10; subGroupIndex10++) {
          var subGroupData10 = subGroupList10[subGroupIndex10];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData10});
        }
        output += '</div>';
      } else if (linkGroupData6.id && linkGroupData6.id == 'jira.issue.tools') {
        output += '<div class="aui-toolbar2-secondary">' + JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: linkGroupData6}) + '</div>';
      }
    }
  }
  output += '</div></div>';
  if (opt_data.issue.operations) {
    var linkGroupList24 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen24 = linkGroupList24.length;
    for (var linkGroupIndex24 = 0; linkGroupIndex24 < linkGroupListLen24; linkGroupIndex24++) {
      var linkGroupData24 = linkGroupList24[linkGroupIndex24];
      if (linkGroupData24.id && linkGroupData24.id == 'view.issue.opsbar') {
        var subGroupList27 = linkGroupData24.groups;
        var subGroupListLen27 = subGroupList27.length;
        for (var subGroupIndex27 = 0; subGroupIndex27 < subGroupListLen27; subGroupIndex27++) {
          var subGroupData27 = subGroupList27[subGroupIndex27];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData27});
        }
      } else if (linkGroupData24.id && linkGroupData24.id == 'jira.issue.tools') {
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: linkGroupData24});
      }
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.opsbar.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.opsbar';
}


JIRA.Components.IssueViewer.Templates.Header.issueHeader = function(opt_data, opt_ignored) {
  return '<div class="issue-header-content">' + aui.page.pageHeader({content: '' + ((opt_data.issue.project) ? aui.page.pageHeaderImage({content: '' + JIRA.Templates.Headers.projectAvatar({id: '' + soy.$$escapeHtml(opt_data.issue.project.id), projectKey: '' + soy.$$escapeHtml(opt_data.issue.project.key), projectName: '' + soy.$$escapeHtml(opt_data.issue.project.name), avatarUrl: '' + soy.$$escapeHtml(opt_data.issue.project.avatarUrls['48x48']), avatarAlt: '' + soy.$$escapeHtml(opt_data.issue.project.name), isSystemAvatar: opt_data.issue.project.systemAvatar})}) + aui.page.pageHeaderMain({content: '<ol class="aui-nav aui-nav-breadcrumbs">' + ((opt_data.issue.project.archived) ? '<li><span id="project-name-val">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</span></li>' : '<li><a id="project-name-val" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.project.key) + '">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</a></li>') + ((opt_data.issue.parent && opt_data.issue.parent.id) ? '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" id="parent_issue_summary" title="' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '">' + soy.$$escapeHtml(opt_data.issue.parent.key) + ' ' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '</a></li>' : '') + '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" id="key-val" rel="' + soy.$$escapeHtml(opt_data.issue.id) + '">' + soy.$$escapeHtml(opt_data.issue.key) + '</a></li></ol><h1 id="summary-val">' + soy.$$escapeHtml(opt_data.issue.summary) + '</h1>'}) : '') + aui.page.pageHeaderActions({content: '<div id="issue-header-pager">' + ((opt_data.pager) ? JIRA.Components.IssueViewer.Templates.Header.pager(opt_data.pager) : '') + '</div>'})}) + ((opt_data.issue.archived) ? aui.message.info({content: '' + (((opt_data.issue.project == null) ? null : opt_data.issue.project.archived) ? '<p><b>' + soy.$$escapeHtml('This issue belongs to an archived project.') + '</b> ' + soy.$$escapeHtml('You can view it, but you can\x27t modify it.') + ' <a target=\'_blank\' href=\'' + soy.$$escapeHtml(opt_data.archivingHelpUrl) + '\' data-track-click="issue.archived.project.learn.more.click">' + soy.$$escapeHtml('Learn more') + '</a>' : '<p><b>' + soy.$$escapeHtml('This issue is archived.') + '</b> ' + soy.$$escapeHtml('You can view it, but you can\x27t modify it.') + ' <a target=\'_blank\' href=\'' + soy.$$escapeHtml(opt_data.archivingIssueHelpUrl) + '\' data-track-click="issue.archived.learn.more.click">' + soy.$$escapeHtml('Learn more') + '</a>'), id: 'issue-header-archived'}) : '') + '<div class="command-bar">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.Header.opsbar(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.issueHeader.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.issueHeader';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger(opt_data.group) : '';
  } else {
    output += '<div ' + ((opt_data.group.id) ? 'id="opsbar-' + soy.$$escapeHtml(opt_data.group.id) + '" ' : '') + 'class="aui-buttons pluggable-ops">';
    var linkList153 = opt_data.group.links;
    var linkListLen153 = linkList153.length;
    for (var linkIndex153 = 0; linkIndex153 < linkListLen153; linkIndex153++) {
      var linkData153 = linkList153[linkIndex153];
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: linkData153});
    }
    if (opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1) {
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: opt_data.group.groups[0].groups[0].links[0]});
    } else {
      var subGroupList162 = opt_data.group.groups;
      var subGroupListLen162 = subGroupList162.length;
      for (var subGroupIndex162 = 0; subGroupIndex162 < subGroupListLen162; subGroupIndex162++) {
        var subGroupData162 = subGroupList162[subGroupIndex162];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData162});
      }
    }
    output += '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroup.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroup';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownMenu(opt_data.group) : '';
  } else {
    if (! (opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1)) {
      var subGroupList176 = opt_data.group.groups;
      var subGroupListLen176 = subGroupList176.length;
      for (var subGroupIndex176 = 0; subGroupIndex176 < subGroupListLen176; subGroupIndex176++) {
        var subGroupData176 = subGroupList176[subGroupIndex176];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData176});
      }
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger = function(opt_data, opt_ignored) {
  return '<a href="#"' + ((opt_data.header.id) ? 'id="' + soy.$$escapeHtml(opt_data.header.id) + '"' : '') + ((opt_data.header.id) ? 'aria-owns="' + soy.$$escapeHtml(opt_data.header.id) + '_drop"' : '') + 'aria-haspopup="true"' + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.header.title, label: opt_data.header.label}) + 'class="aui-button ' + ((opt_data.links.length > 0 || opt_data.groups.length > 0) ? ' aui-dropdown2-trigger' : '') + ((opt_data.header.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.header.styleClass) : '') + '" data-aui-alignment-container=".command-bar">' + ((opt_data.header.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.header.iconClass) + '"></span> ' : '') + '<span class="dropdown-text">' + soy.$$truncate(soy.$$escapeHtml(opt_data.header.label), 25, true) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownMenu = function(opt_data, opt_ignored) {
  var output = '<aui-dropdown-menu ' + ((opt_data.header.id) ? 'id="' + soy.$$escapeHtml(opt_data.header.id) + '_drop"' : '') + '>';
  if (opt_data.links.length > 0) {
    output += '<ul>';
    var linkList225 = opt_data.links;
    var linkListLen225 = linkList225.length;
    for (var linkIndex225 = 0; linkIndex225 < linkListLen225; linkIndex225++) {
      var linkData225 = linkList225[linkIndex225];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData225);
    }
    output += '</ul>';
  }
  var groupList229 = opt_data.groups;
  var groupListLen229 = groupList229.length;
  for (var groupIndex229 = 0; groupIndex229 < groupListLen229; groupIndex229++) {
    var groupData229 = groupList229[groupIndex229];
    output += '<aui-section>';
    var linkList231 = groupData229.links;
    var linkListLen231 = linkList231.length;
    for (var linkIndex231 = 0; linkIndex231 < linkListLen231; linkIndex231++) {
      var linkData231 = linkList231[linkIndex231];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData231);
    }
    output += '</aui-section>';
  }
  output += '</aui-dropdown-menu>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownMenu.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownMenu';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownItem = function(opt_data, opt_ignored) {
  return '<aui-item-link href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '"' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.styleClass) ? 'class="' + soy.$$escapeHtml(opt_data.styleClass) + '"' : '') + JIRA.Components.IssueViewer.Templates.Header.titleAttr(opt_data) + '><span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.label), 25, true) + '</span></aui-item-link>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownItem';
}


JIRA.Components.IssueViewer.Templates.Header.toolbarItem = function(opt_data, opt_ignored) {
  return '<a id="' + soy.$$escapeHtml(opt_data.link.id) + '"' + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.link.title, label: opt_data.link.label}) + 'class="aui-button toolbar-trigger' + ((opt_data.link.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.link.styleClass) : '') + '" href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '">' + ((opt_data.link.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.link.iconClass) + '"></span> <span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>' : '<span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>') + ((opt_data.link.id == 'jira-share-trigger') ? '<p class="assistive">' + soy.$$escapeHtml('Share this issue') + '</p>' : '') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.toolbarItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.toolbarItem';
}


JIRA.Components.IssueViewer.Templates.Header.titleAttr = function(opt_data, opt_ignored) {
  return '' + ((opt_data.title) ? 'title="' + soy.$$escapeHtml(opt_data.title) + '"' : (opt_data.label && opt_data.label.length && opt_data.label.length > 25) ? 'title="' + soy.$$escapeHtml(opt_data.label) + '"' : '');
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.titleAttr.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.titleAttr';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueBody.soy' */
// This file was automatically generated from IssueBody.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Body.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Body == 'undefined') { JIRA.Components.IssueViewer.Templates.Body = {}; }


JIRA.Components.IssueViewer.Templates.Body.issueBody = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels({panels: false, serverRenderedViewIssue: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBody.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBody';
}


JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels = function(opt_data, opt_ignored) {
  var output = '<div class="aui-group issue-body"><div class="aui-item issue-main-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList10 = opt_data.panels.leftPanels;
    var panelListLen10 = panelList10.length;
    for (var panelIndex10 = 0; panelIndex10 < panelListLen10; panelIndex10++) {
      var panelData10 = panelList10[panelIndex10];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData10);
    }
  }
  output += '</div><div id="viewissuesidebar" class="aui-item issue-side-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList16 = opt_data.panels.rightPanels;
    var panelListLen16 = panelList16.length;
    for (var panelIndex16 = 0; panelIndex16 < panelListLen16; panelIndex16++) {
      var panelData16 = panelList16[panelIndex16];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData16);
    }
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels';
}


JIRA.Components.IssueViewer.Templates.Body.issuePanel = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.renderHeader) {
    output += '<div id=' + soy.$$escapeHtml(opt_data.id) + ' class="module toggle-wrap"><div id="' + soy.$$escapeHtml(opt_data.id) + '_heading" class="mod-header"><button class="aui-button toggle-title" aria-label="' + soy.$$escapeHtml(opt_data.label) + '" aria-controls="' + soy.$$escapeHtml(opt_data.id) + '" aria-expanded="true"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><g fill="none" fill-rule="evenodd"><path d="M3.29175 4.793c-.389.392-.389 1.027 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955c.388-.392.388-1.027 0-1.419-.389-.392-1.018-.392-1.406 0l-2.298 2.317-2.307-2.327c-.194-.195-.449-.293-.703-.293-.255 0-.51.098-.703.293z" fill="#344563"/></g></svg></button><h4 class="toggle-title" id="' + soy.$$escapeHtml(opt_data.id) + '-label">' + soy.$$escapeHtml(opt_data.label) + '</h4><ul class="ops">';
    var linkList36 = opt_data.headerLinks.links;
    var linkListLen36 = linkList36.length;
    for (var linkIndex36 = 0; linkIndex36 < linkListLen36; linkIndex36++) {
      var linkData36 = linkList36[linkIndex36];
      output += '<li>' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData36}) + '</li>';
    }
    if (opt_data.headerLinks.groups.length > 0) {
      output += '<li class="drop"><div class="aui-dd-parent"><button class="aui-button aui-button-compact aui-button-subtle js-default-dropdown" title="' + soy.$$escapeHtml('Options') + '" aria-label="' + soy.$$escapeHtml('Attachments panel options') + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('Options') + '</span></button><div class="aui-dropdown-content aui-list">';
      var groupList51 = opt_data.headerLinks.groups;
      var groupListLen51 = groupList51.length;
      for (var groupIndex51 = 0; groupIndex51 < groupListLen51; groupIndex51++) {
        var groupData51 = groupList51[groupIndex51];
        output += ((groupData51.header && groupData51.header.label) ? '<h5>' + soy.$$escapeHtml(groupData51.header.label) + '</h5>' : '') + '<ul ' + ((groupData51.header && groupData51.header.id) ? 'id="' + soy.$$escapeHtml(groupData51.header.id) + '"' : '') + 'class="aui-list-section' + ((groupData51.header && groupData51.header.styleClass) ? ' ' + soy.$$escapeHtml(groupData51.header.styleClass) : '') + ((groupIndex51 == 0) ? ' aui-first' : '') + ((groupIndex51 == groupListLen51 - 1) ? ' aui-last' : '') + '">';
        var linkList75 = groupData51.links;
        var linkListLen75 = linkList75.length;
        for (var linkIndex75 = 0; linkIndex75 < linkListLen75; linkIndex75++) {
          var linkData75 = linkList75[linkIndex75];
          output += '<li class="aui-list-item">' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData75, additionalStyleClass: 'aui-list-item-link'}) + '</li>';
        }
        output += '</ul>';
      }
      output += '</div></div></li>';
    }
    output += '</ul>';
    if (opt_data.subpanelHtmls.length > 0) {
      output += '<div class="mod-header-panels">';
      var subPanelList89 = opt_data.subpanelHtmls;
      var subPanelListLen89 = subPanelList89.length;
      for (var subPanelIndex89 = 0; subPanelIndex89 < subPanelListLen89; subPanelIndex89++) {
        var subPanelData89 = subPanelList89[subPanelIndex89];
        output += '<div class="mod-header-panel">' + soy.$$filterNoAutoescape(subPanelData89) + '</div>';
      }
      output += '</div>';
    }
    output += '</div><div class="mod-content">' + soy.$$filterNoAutoescape(opt_data.html) + '</div></div>';
  } else {
    output += soy.$$filterNoAutoescape(opt_data.html);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issuePanel.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issuePanel';
}


JIRA.Components.IssueViewer.Templates.Body.errorsLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml('The Jira server could not be contacted. This may be a temporary glitch or the server may be down.') : soy.$$escapeHtml('There were errors loading the issue.'));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList112 = opt_data.errorMessages;
    var msgListLen112 = msgList112.length;
    for (var msgIndex112 = 0; msgIndex112 < msgListLen112; msgIndex112++) {
      var msgData112 = msgList112[msgIndex112];
      output += '<li>' + soy.$$escapeHtml(msgData112) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.errorsLoading.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.errorsLoading';
}


JIRA.Components.IssueViewer.Templates.Body.focusShifter = function(opt_data, opt_ignored) {
  return '<div class="aui-message closeable" id="focus-shifter"><label><span>' + soy.$$escapeHtml('viewissue.focusshifter') + '</span><div id="focus-shifter-content"></div></label><button type="button" class="aui-close-button" aria-label="$' + soy.$$escapeHtml('Close') + '"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.focusShifter.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.focusShifter';
}


JIRA.Components.IssueViewer.Templates.Body.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.simpleLink.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.simpleLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueError.soy' */
// This file was automatically generated from IssueError.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Error.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Error == 'undefined') { JIRA.Components.IssueViewer.Templates.Error = {}; }


JIRA.Components.IssueViewer.Templates.Error.NoPermission = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.Generic(null);
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.NoPermission.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.NoPermission';
}


JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage = function(opt_data, opt_ignored) {
  return '<main id="main" role="main">' + JIRA.Components.IssueViewer.Templates.Error.DoesNotExist(null) + '</main>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage';
}


JIRA.Components.IssueViewer.Templates.Error.DoesNotExist = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: 'You can\x27t view this issue', body: 'It may have been deleted or you don\x27t have permission to view it.', error: 'canNotBeViewed', showReloadButton: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.DoesNotExist.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.DoesNotExist';
}


JIRA.Components.IssueViewer.Templates.Error.Generic = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: 'This issue can\x27t be displayed right now', body: 'It could be for a variety of reasons, like a network or application error.', bodyAfter: 'Try reloading the page.', error: 'genericError', showReloadButton: true});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.Generic.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.Generic';
}


JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="issue-error"><span class="error-image error-image-' + soy.$$escapeHtml(opt_data.error) + '"></span><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1><p>' + soy.$$escapeHtml(opt_data.body) + ' ' + ((opt_data.bodyAfter) ? ' <br/>' + soy.$$escapeHtml(opt_data.bodyAfter) : '') + '</p>' + ((opt_data.showReloadButton) ? '<p><button id="issue-error-reload-button" class="aui-button aui-button-primary">Reload</button></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.viewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1></div><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="aui-message ' + ((opt_data.error) ? 'aui-message-' + soy.$$escapeHtml(opt_data.error) : '') + '"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.error) + '"></span><p>' + soy.$$escapeHtml(opt_data.body) + '</p><p>' + soy.$$escapeHtml('If you think this message is wrong, please contact your') + ' <a href="' + soy.$$escapeHtml("") + '/secure/ContactAdministrators!default.jspa">' + soy.$$escapeHtml('Jira administrators') + '</a>.</p>' + ((opt_data.returnToSearch) ? '<p><a id="return-to-search" class="push-state" href="' + soy.$$escapeHtml("") + '/issues/" title="' + soy.$$escapeHtml('Return to search') + '">' + soy.$$escapeHtml('Return to search') + '</a></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.viewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.viewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError = function(opt_data, opt_ignored) {
  return '<div id="issue-content"><header class="issue-header issue-error-header"><div class="issue-header-content">' + soy.$$filterNoAutoescape(opt_data.header) + '</div></header><div class="issue-body-content issue-error-content">' + soy.$$filterNoAutoescape(opt_data.body) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/amd-wrapper.js' */
define("jira/components/issueviewer/templates",function(){return JIRA.Components.IssueViewer.Templates});AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueViewer",null,require("jira/components/issueviewer"));AJS.namespace("JIRA.Components.IssueViewer.AppModule",null,require("jira/components/issueviewer/appmodule"));AJS.namespace("JIRA.Components.IssueViewer.Utils",null,require("jira/components/issueviewer/utils"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Error",null,require("jira/components/issueviewer/controllers/error"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Issue",null,require("jira/components/issueviewer/controllers/issue"));
AJS.namespace("JIRA.Components.IssueViewer.Models.Issue",null,require("jira/components/issueviewer/entities/issue"));AJS.namespace("JIRA.Components.IssueViewer.Models.Panel",null,require("jira/components/issueviewer/entities/panel"));AJS.namespace("JIRA.Components.IssueViewer.Collections.Panels",null,require("jira/components/issueviewer/entities/panels"));AJS.namespace("JIRA.Components.IssueViewer.Models.PanelsGroup",null,require("jira/components/issueviewer/entities/panelsgroup"));
AJS.namespace("JIRA.Components.IssueViewer.Legacy.AsyncData",null,require("jira/components/issueviewer/legacy/asyncdata"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueEventBus",null,require("jira/components/issueviewer/legacy/issueeventbus"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueFieldUtil",null,require("jira/components/issueviewer/legacy/issuefieldutil"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.ViewIssueData",null,require("jira/components/issueviewer/legacy/viewissuedata"));
AJS.namespace("JIRA.Components.IssueViewer.Services.DarkFeatures",null,require("jira/components/issueviewer/services/darkfeatures"));AJS.namespace("JIRA.Components.IssueViewer.Services.IssueLoader",null,require("jira/components/issueviewer/services/issueloader"));AJS.namespace("JIRA.Components.IssueViewer.Services.Metadata",null,require("jira/components/issueviewer/services/metadataservice"));AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorGeneric",null,require("jira/components/issueviewer/views/errorgeneric"));
AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorNotFound",null,require("jira/components/issueviewer/views/errornotfound"));AJS.namespace("JIRA.Components.IssueViewer.Views.Error",null,require("jira/components/issueviewer/views/error"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueBody",null,require("jira/components/issueviewer/views/issuebody"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueHeader",null,require("jira/components/issueviewer/views/issueheader"));
AJS.namespace("JIRA.Components.IssueViewer.Views.IssueOpsbar",null,require("jira/components/issueviewer/views/issueopsbar"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanels",null,require("jira/components/issueviewer/views/issuepanels"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanel",null,require("jira/components/issueviewer/views/issuepanel"));AJS.namespace("JIRA.Components.IssueViewer.Views.Issue",null,require("jira/components/issueviewer/views/issue"));
AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditor.js' */
define("jira/components/issueeditor",["require"],function(c){var f=c("jira/components/libs/underscore"),m=c("jira/components/issueviewer/services/darkfeatures"),n=c("jira/components/issueeditor/controllers/editissue"),p=c("jira/util/events"),q=c("jira/components/issueeditor/eventtypes"),r=c("jira/components/issueeditor/controllers/fields"),t=c("jira/components/issueeditor/services/fieldsloader"),u=c("jira/components/issueeditor/services/issuesaver"),d=c("jira/components/issueviewer"),k=c("jira/util/data/meta"),
v=c("jira/components/issueeditor/views/modalfield"),w=c("jira/components/issueeditor/views/saveerror"),x=c("jira/components/issueeditor/services/saveinprogressmanager"),l=window.JIRA,y=c("jira/components/issueeditor/services/unloadinterceptor"),z=window.AJS.contextPath(),g=function(){l.trace.apply(l,arguments)};return d.extend({namedEvents:"loadComplete loadError returnToSearch saveSuccess saveError editField editFieldCancel fieldSubmitted replacedFocusedPanel fieldsLoaded".split(" "),initialize:function(a){d.prototype.initialize.call(this,
a);this._buildFieldsLoader();this._buildIssueSaver();this._buildEditIssueController();this._buildFieldsController();this._handleUnload();this.listenAndRethrow(this.eventBus,"fieldSubmitted")},_buildFieldsLoader:function(){this.fieldsLoader=new t({contextPath:z});this.listenTo(this.fieldsLoader,"fieldsLoaded",function(a){this.viewIssueData.updateIssue(a.issueKey,a);a.issueId=Number(a.issueId);a.fields&&a.fields.length?this.editIssueController.update(a):this.editIssueController.reset();this.trigger("fieldsLoaded");
g("jira.issue.fields.loaded",{id:a.issueId})});this.listenTo(this.fieldsLoader,"fieldsError",function(a){this.fieldsController.showError(a.errorCollection,a.isTimeout);g("jira.issue.fields.loaded",{id:a.issueId})})},_buildIssueSaver:function(){this.saveInProgressManager=new x;this.issueSaver=new u({saveInProgressManager:this.saveInProgressManager,model:this.model});this.listenTo(this.issueSaver,"error",function(a){var b=a.issueId,h=a.attemptedSavedIds,e=a.response,c=a.duration;this.model.isCurrentIssue(b)?
(this.eventBus.triggerSaveError(b,h,e),e&&e.fields&&e.fields.length||!e||(this.editIssueController.reset(),this.model.update(e,{fieldsSaved:[],fieldsInProgress:[]})),this.trigger("saveError",{issueId:b,duration:c,deferred:!1}),g("jira.issue.refreshed",{id:b})):this._showSaveError({issueId:b,issueKey:a.issueKey,response:e})});this.listenTo(this.issueSaver,"saveStarted",function(a,b){this.eventBus.triggerSavingStarted(b)});this.listenTo(this.issueSaver,"save",function(a){var b=a.issueId,h=a.issueKey,
e=a.savedFieldIds,c=a.savedFieldTypes,d=a.response,f=a.shouldSkipSaveIssueSuccessHandler;a=a.duration;this.model.isCurrentIssue(b)&&!f&&(this.eventBus.triggerSaveSuccess(b,h,e,d),this.viewIssueData.set(h,d),this.model.update(d,{fieldsSaved:e,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.psycho.issue.refreshed",{id:b}),d.fields&&d.fields.length&&this.editIssueController.update({fields:d.fields,issueId:b,issueKey:h},{editable:!0,editIssueController:this.editIssueController,
issueModel:this.model,issueId:b,fieldsSaved:e,initialize:!1,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.issue.refreshed",{id:b}));this.trigger("saveSuccess",{issueId:b,issueKey:h,savedFieldIds:e,savedFieldTypes:c,duration:a})})},_buildEditIssueController:function(){this.editIssueController=new n({issueEventBus:this.eventBus});this.listenTo(this.editIssueController,"save",function(a,b,c,e,d,f){this.issueSaver.setSkipSaveIssueSuccessHandler(!1);this.issueSaver.save(a,b,
c,e,d,f)});this.listenAndRethrow(this.editIssueController,"editField");this.listenAndRethrow(this.editIssueController,"editFieldCancel")},_buildFieldsController:function(){this.fieldsController=new r},_onIssueLoaded:function(a,b,c){a.issue.isEditable&&(m.NO_PREFETCH.enabled()||b.error||b.fromCache||this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:c.issueEntity}));var e=!b.mergeIntoCurrent&&!1!==c.initialize;b.isUpdate&&!e||this.editIssueController.reset();d.prototype._onIssueLoaded.call(this,
a,b,c);a.fields&&(this.editIssueController.update({fields:a.fields,issueId:a.issue.id,issueKey:a.issue.key}),g("jira.issue.fields.loaded",{id:a.issue.id}))},_handleUnload:function(){var a=f.bind(function(){var a;0<this.editIssueController.getDirtyEditsInProgress().length&&(a="You are still editing this page. Are you sure you want to leave?");return a},this);this.unloadInterceptor=new y;this.unloadInterceptor.addAfterEvent(a);this.on("destroy",function(){this.unloadInterceptor.removeAfterEvent(a)})},_updateModel:function(a,
b){a.fields&&a.fields.length&&this.editIssueController.update(a.fields,{fieldsInProgress:this.editIssueController.getEditsInProgress(),changed:b.changed});b=f.extend({},b,{fieldsInProgress:this.editIssueController.getEditsInProgress()});d.prototype._updateModel.call(this,a,b)},_loadIssueFromDom:function(a){k.get("server-view-issue-is-editable")&&(this.editIssueController.setIssueId(a.id),this.editIssueController.setIssueKey(a.key),this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:a}),
k.set("server-view-issue-is-editable",null));d.prototype._loadIssueFromDom.call(this,a)},editField:function(a){if(a.isEditable()){var b=this.model.getEntity(),c=f.bind(function(){a.matchesFieldSelector()?a.edit():(new v({issueEventBus:this.eventBus,model:a,issue:b})).show()},this);if(a.getSaving())p.one(q.ISSUE_REFRESHED,function(){c()});else c()}},abortPending:function(){this.fieldsLoader.cancel();d.prototype.abortPending.call(this)},beforeHide:function(){this.issueSaver.setSkipSaveIssueSuccessHandler(!0);
d.prototype.beforeHide.call(this)},setContainer:function(a){this.editIssueController.setIssueViewContext(a);d.prototype.setContainer.call(this,a)},dismiss:function(){this.editIssueController.reset();d.prototype.dismiss.call(this)},getFields:function(){return this.editIssueController.getFields()},hasSavesInProgress:function(){return this.saveInProgressManager.hasSavesInProgress()},_showSaveError:function(a){a=(new w(a)).render();var b=f.partial(this.stopListening,a);this.listenTo(a,{close:b,issueLinkClick:function(a){var b=
{isPrevented:!1,preventDefault:function(){this.isPrevented=!0},isDefaultPrevented:function(){return!0===this.isPrevented},issueData:a};this.trigger("linkInErrorMessage",b);b.isDefaultPrevented()||this.loadIssue(a)}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditorAppModule.js' */
define("jira/components/issueeditor/appmodule",["require"],function(b){var d=b("jira/components/libs/underscore"),e=b("jira/components/issueeditor"),c=b("jira/components/issueviewer/appmodule");return c.extend({name:"issueEditor",generateMasterRequest:!0,create:function(a){a=d.defaults({},a,{showReturnToSearchOnError:function(){return!1}});return new e({showReturnToSearchOnError:a.showReturnToSearchOnError})},commands:function(a){a=c.prototype.commands.call(this,a);return d.extend(a,{editField:!0})},
requests:function(a){var b=c.prototype.requests.call(this,a);return d.extend(b,{fields:function(){return a.getFields()},hasSavesInProgress:!0})},events:function(a){return c.prototype.events.call(this,a).concat("saveSuccess saveError editField editFieldCancel fieldSubmitted fieldsLoaded".split(" "))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/NoInlineAppModule.js' */
define("jira/components/issueeditor/noinlineappmodule",["require"],function(b){var d=b("jira/components/libs/underscore"),c=b("jira/components/issueviewer/appmodule");return c.extend({name:"issueEditor",requests:function(a){a=c.prototype.requests.call(this,a);return d.extend(a,{fields:function(){return[]},hasSavesInProgress:function(){return!1}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/Fields.soy' */
// This file was automatically generated from Fields.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueEditor.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueEditor == 'undefined') { JIRA.Templates.IssueEditor = {}; }
if (typeof JIRA.Templates.IssueEditor.Fields == 'undefined') { JIRA.Templates.IssueEditor.Fields = {}; }


JIRA.Templates.IssueEditor.Fields.saveErrorMessage = function(opt_data, opt_ignored) {
  var output = '';
  var issueLink__soy3 = '<a class="issue" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '">' + soy.$$escapeHtml(opt_data.issueKey) + '</a>';
  output += soy.$$filterNoAutoescape(AJS.format('Saving of \x3cstrong\x3e{0}\x3c/strong\x3e failed!',issueLink__soy3));
  if (opt_data.errors.length > 0) {
    output += '<ul>';
    var messageList16 = opt_data.errors;
    var messageListLen16 = messageList16.length;
    for (var messageIndex16 = 0; messageIndex16 < messageListLen16; messageIndex16++) {
      var messageData16 = messageList16[messageIndex16];
      output += '<li>' + soy.$$escapeHtml(messageData16) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveErrorMessage.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveErrorMessage';
}


JIRA.Templates.IssueEditor.Fields.field = function(opt_data, opt_ignored) {
  return '<form id="' + soy.$$escapeHtml(opt_data.issue.id) + '-form" class="ajs-dirty-warning-exempt aui" action= "#"><div class="inline-edit-fields ' + ((opt_data.showButtonBar) ? 'show-button-bar' : '') + '">' + soy.$$filterNoAutoescape(opt_data.issue.editHtml) + '</div><span class="overlay-icon throbber"></span>' + ((opt_data.showButtonBar) ? JIRA.Templates.IssueEditor.Fields.saveButtons(opt_data) : JIRA.Templates.IssueEditor.Fields.saveOptions(opt_data)) + '</form>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.field.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.field';
}


JIRA.Templates.IssueEditor.Fields.saveOptions = function(opt_data, opt_ignored) {
  return '<div class="save-options"><button type="submit" class="aui-button submit" accessKey="' + soy.$$escapeHtml('s') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-success">' + soy.$$escapeHtml('Save') + '</span></button><button type="cancel" class="aui-button cancel" accessKey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Cancel') + '</span></button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveOptions.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveOptions';
}


JIRA.Templates.IssueEditor.Fields.saveButtons = function(opt_data, opt_ignored) {
  return '<div class="save-options show-button-bar"><button type="submit" class="aui-button aui-button-primary submit" accessKey="' + soy.$$escapeHtml('s') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.accessKey)) + '">' + soy.$$escapeHtml('Save') + '</button><button type="cancel" class="aui-button aui-button-link cancel" accessKey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.accessKey)) + '">' + soy.$$escapeHtml('Cancel') + '</button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveButtons.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveButtons';
}


JIRA.Templates.IssueEditor.Fields.modalField = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(AJS.format('Edit {0} for {1}',opt_data.field.label,opt_data.issue.key)) + '</h2><form action="" class="aui" method="post"><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.field.editHtml) + '</div><div class="buttons-container form-footer"><div class="buttons"><input class="button" type="submit" value="' + soy.$$escapeHtml('Submit') + '"/><a class="cancel" href="#">' + soy.$$escapeHtml('Cancel') + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalField.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalField';
}


JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors = function(opt_data, opt_ignored) {
  var output = '<div class="error">';
  if (opt_data.messages.length == 1) {
    output += soy.$$escapeHtml(opt_data.messages[0]);
  } else if (opt_data.messages.length > 0) {
    output += '<ul>';
    var messageList85 = opt_data.messages;
    var messageListLen85 = messageList85.length;
    for (var messageIndex85 = 0; messageIndex85 < messageListLen85; messageIndex85++) {
      var messageData85 = messageList85[messageIndex85];
      output += '<li>' + soy.$$escapeHtml(messageData85) + '</li>';
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors';
}


JIRA.Templates.IssueEditor.Fields.errorsLoading = function(opt_data, opt_ignored) {
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml('The Jira server could not be contacted. This may be a temporary glitch or the server may be down.') : soy.$$escapeHtml('There were errors loading the issue.'));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList101 = opt_data.errorMessages;
    var msgListLen101 = msgList101.length;
    for (var msgIndex101 = 0; msgIndex101 < msgListLen101; msgIndex101++) {
      var msgData101 = msgList101[msgIndex101];
      output += '<li>' + soy.$$escapeHtml(msgData101) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.errorsLoading.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.errorsLoading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/amd-wrapper.js' */
define("jira/components/issueeditor/templates",function(){return JIRA.Templates.IssueEditor.Fields});AJS.namespace("JIRA.Templates.IssueEditor.Fields",null,require("jira/components/issueeditor/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldModel.js' */
define("jira/components/issueeditor/entities/field",["require"],function(c){var f=c("jira/components/libs/underscore"),g=c("jira/components/libs/brace"),h=c("jira/util/events"),e=c("jira/components/issueviewer/legacy/issuefieldutil"),d=c("jquery"),k=c("jira/skate"),l=c("jira/components/issueeditor/templates"),m=c("jira/components/issueeditor/eventtypes"),n=c("jira/components/issueviewer/services/darkfeatures");return g.Model.extend({namedEvents:"editingStarted focusRequested editingCancelled save saveError savingStarted saveComplete saveSuccess updateRequired validationError modelDestroyed".split(" "),
namedAttributes:"id initParams params editHtml viewHtml required fieldType editing saving error label contentId".split(" "),initialize:function(){if(this.collection){var a=this;this.collection.on("reset",function(){a.triggerModelDestroyed()})}this.on("change:viewHtml",function(){var a=this.previous("viewHtml");a&&d.cleanData(a)});this.onModelDestroyed(function(){var a=this.getViewHtml();a&&d.cleanData(a)})},blurEdit:function(){this.getEditing()&&(this.isDirty()||this.hasValidationError()?this.save():
this.cancelEdit())},setValidationError:function(a,b,c){this.setSaving(!1);this.setError(b);this.edit({ignoreBlur:!0});this.triggerSaveError();this.triggerValidationError(a,c)},handleSaveError:function(){this.setSaving(!1);this.triggerSaveError()},cancelEdit:function(a){if(!this.cancelLocked){var b=new d.Event(m.BEFORE_INLINE_EDIT_CANCEL);h.trigger(b,[this.getId(),this.getFieldType(),a]);if(!b.isDefaultPrevented()){this.cancelLocked=!0;if(this.getEditing()||this.getSaving())this.setEditing(!1),this.setSaving(!1),
this.unset("params"),this.unset("initParams"),this.triggerEditingCancelled(),this.unset("viewHtml");delete this.cancelLocked}}},edit:function(a){this.getEditing()?a&&a.ignoreBlur||this.triggerFocusRequested(this,a):(this.setEditing(!0),this.triggerEditingStarted(this,a))},getCurrentParams:function(){this.triggerUpdateRequired();var a={};this.getParams()?a=this.getParams():(this.getInitParams()||(a=d("\x3cdiv /\x3e").html(this.getEditHtml()),this.setInitParams(this._serializeObject(a))),a=this.getInitParams());
var b={};f.each(a,function(a,c){b[c]=a});return b},isEditable:function(){return this.getEditHtml()?0!==d(this.getEditHtml()).find("textarea, :text,:radio,:checkbox, select").length:!1},hasValidationError:function(){return!!this.getError()},switchElToEdit:function(a){this.getViewHtml()||this.setViewHtml(a.contents());a.contents().detach();a.html(l.field({issue:this.toJSON(),accessKey:e.getAccessKeyModifier(),showButtonBar:n.RTE_ENABLED.enabled()&&e.isWikifield(this.getEditHtml())}));a.each(function(){k.init(this)});
this.getInitParams()||this.setInitParams(this._serializeObject(a));this.setEditing(!0)},update:function(a){this.getEditing()&&this.setParams(this._serializeObject(a))},handleSaveSuccess:function(){this.setSaving(!1);this.setEditing(!1);this.unset("viewHtml");this.unset("initParams");this.setError(null);this.triggerSaveSuccess()},handleSaveStarted:function(){this.setSaving(!0);this.triggerSavingStarted()},save:function(){this.getSaving()||(this.triggerUpdateRequired(),this.triggerSave(this))},isDirty:function(){this.triggerUpdateRequired();
return this._isDirty(this.getCurrentParams())},_isDirty:function(a){return JSON.stringify(a)!==JSON.stringify(this.getInitParams())},matchesFieldSelector:function(){return e.matchesFieldSelector(this.id)},_serializeObject:function(a){var b={};a=d(a).find(":input").serializeArray();d.each(a,function(){b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""});return b}},{IS_EDITABLE:function(a){return a.isEditable()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldCollection.js' */
define("jira/components/issueeditor/entities/fields",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/components/libs/brace");c=c("jira/components/issueeditor/entities/field");return f.Collection.extend({model:c,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(b,a){a=a||{};a.ignoreBlur||this.each(function(a){b!==a&&a.getEditing()&&a.blurEdit()})},update:function(b,a){var d=this;if(a&&a.changed){a=a.changed;
var c=a.updated?a.updated.fields:[],f=a.added?a.added.fields:[];e.each(b,function(a){if(e.contains(c,a.id)){var b=d.get(a.id);b?(b.hasValidationError()&&delete a.editHtml,b.set(a,{silent:!0}),d.trigger("updated",b)):d.add(a)}else e.contains(f,a.id)&&d.add(a)})}else e.each(b,function(a){var b=d.get(a.id);b?(b.hasValidationError()&&delete a.editHtml,b.set(a,{silent:!0}),d.trigger("updated",b)):d.add(a)})},cancelEdit:function(){this.each(function(b){b.cancelEdit()})},isDirty:function(){return this.any(function(b){return b.isDirty()})},
getDirtyFields:function(){return this.filter(function(b){return b.isDirty()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/FieldView.js' */
define("jira/components/issueeditor/views/field",["require"],function(c){var l=c("jira/components/issueeditor/cancelreasons"),e=c("jira/util/events"),f=c("jira/components/issueviewer/legacy/issuefieldutil"),b=c("jquery"),m=c("jira/components/libs/marionette-1.4.1/itemview"),n=c("jira/util/events/reasons"),p=c("jira/components/issueeditor/templates"),g=c("jira/components/issueeditor/eventtypes"),k=c("jira/components/issueeditor/analytics/viewissue"),q=c("jira/components/issueviewer/services/darkfeatures");
return m.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyCancel","click .submit":"onSubmit",click:"onEdit",mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple\x3d"multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(a){this.model.on("validationError",this.handleValidationError,this);this.model.on("editingStarted",this.switchToEdit,this);this.model.on("focusRequested",this.focus,
this);this.model.on("editingCancelled",this.switchToRead,this);this.model.on("saveError",this.handleSaveError,this);this.model.on("updateRequired",this.updateModel,this);this.model.on("savingStarted",this.handleSavingStarted,this);this.model.on("modelDestroyed",this.destroy,this);this.decorate();this.issueEventBus=a.issueEventBus;this.issueEventBus.on("panelRendered",this.handlePanelRendered,this);this.model.setFieldType(this.$el.data("fieldtypecompletekey"));this._editDelay=0;var b=this;e.bind(g.INLINE_EDIT_BLURRED,
function(a,d){d===b.model.getId()&&b._onPossibleBlur()});e.bind(g.INLINE_EDIT_REQUESTED,function(a,d){d!==b.model.getId()&&0!==b._editDelay&&(clearTimeout(b._editDelay),b._editDelay=0)})},destroy:function(){this.issueEventBus.off("panelRendered",this.handlePanelRendered)},decorate:function(){this.model.isEditable()&&!this.model.getEditing()&&(this.$el.addClass("editable-field inactive"),this.$el.append('\x3cspan class\x3d"overlay-icon aui-icon aui-icon-small aui-iconfont-edit" /\x3e'),this._addToolTip())},
getEditElements:function(){return this.$el.find(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","Click to edit");b("a:not([title])",this.$el).attr("title","Follow link")},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){b("[accessKey\x3d'"+"s"+"']").attr("accessKey","_s");b("[accessKey\x3d'"+"`"+
"']").attr("accessKey","_x")},_returnAccessKeys:function(){b("[accessKey\x3d_s]").attr("accessKey","s");b("[accessKey\x3d_x]").attr("accessKey","`")},_handleEditingStarted:function(a){var d=this.$el.find(".field-tools");e.trigger(g.NEW_CONTENT_ADDED,[this.$el,n.inlineEditStarted]);e.trigger(g.INLINE_EDIT_STARTED,[this.model.getId(),this.model.getFieldType(),this.getEditElements(),this.$el]);this.$el.find(".textarea").css("height",
Math.max(this._originalHeight,60)).expandOnInput(window.innerHeight-b("#stalker").height()-100);a&&this.$el.find(":input:visible:first").focus();this.$el.find(".error").length||this.$el.find("select.aui-ss-select").each(function(){var a=b(this);a.data("static-suggestions")&&a.trigger("showSuggestions")});this.$el.find(".save-options").attr("tabindex",1).prepend(d)},handleValidationError:function(a,b){this.$el.html(p.field({issue:{id:this.model.id,editHtml:a},accessKey:f.getAccessKeyModifier(),showButtonBar:q.RTE_ENABLED.enabled()&&
f.isWikifield(a)}));this.$el.find(".error").addClass("inline-edit-error").attr("data-field",this.model.id);this._handleEditingStarted(b)},handlePanelRendered:function(a,d){a=b(f.getFieldSelector(this.model.id),d);1===a.length&&(this.$el=a,this.el=this.$el[0],this.decorate(),this.delegateEvents())},handleSaveError:function(){this.$el.find(":input").removeAttr("disabled").trigger("enable");this.$el.removeClass("saving saving-"+this.model.id)},handleSavingStarted:function(){this.$el.find(":input").attr("disabled",
"disabled").trigger("disable");this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){this.$el.scrollIntoView({direction:"y",marginBottom:40,marginTop:b("#stalker").outerHeight(!0)+40});this.$el.trigger("reveal")},focus:function(){this.reveal();this.$el.find(":input").removeAttr("disabled");if(0===b(".aui-blanket:not([hidden])").length){var a=this.$el.find(":input:visible:first");a.focus();this.$el.hasClass("field-ignore-highlight")||
a.select()}},switchToEdit:function(){this.trigger("editField",{fieldId:this.model.getId()});this._stealAccessKeys();this._removeToolTip();this.$el.removeClass("inactive saving").addClass("active");this._originalHeight=this.$el.height();this.model.switchElToEdit(this.$el);this._handleEditingStarted();this.focus()},switchToRead:function(){this.trigger("editFieldCancel",{fieldId:this.model.getId()});this._addToolTip();this.$el.addClass("inactive").removeClass("active");this.$el.html(this.model.getViewHtml());
this.$el.closest("form").unbind("submit",this.onSubmit);this._returnAccessKeys()},_isNonCancelableFieldBeingEdited:function(){return b("textarea",this.$el).not("[role]").length},onKeyCancel:function(a){27!==a.keyCode||this._isNonCancelableFieldBeingEdited()||(this.model.cancelEdit(l.escPressed),a.preventDefault())},onClickCancel:function(a){this.model.cancelEdit();a.preventDefault()},onSubmit:function(a){var d=new b.Event("before-submit");this.$el.find("form").trigger(d);d.isDefaultPrevented()||(this.$el.find(":focus").blur(),
this.issueEventBus.triggerFieldSubmitted(),this.model.save(),this._returnAccessKeys());a.preventDefault()},onEdit:function(a){var d=b(a.target).is(".overlay-icon.aui-iconfont-edit"),c=0===b(a.target).closest("a, .uneditable").length&&this.$el.hasClass("inactive"),f=""===this._getCurrentlySelectedText()&&!this._previouslySelectedText;c=c&&(d||f);if(0!==this._editDelay)k.triggerEditableFieldDoubleClick(),clearTimeout(this._editDelay),this._editDelay=0;else if(c){e.trigger(g.INLINE_EDIT_REQUESTED,[this.model.getId()]);
var h=this;d?(k.triggerEditableFieldClickPencilIcon(),b(document).one("click",function(a){a.isDefaultPrevented()||h.model.edit()})):this._editDelay=setTimeout(function(){!a.isDefaultPrevented()&&h.$el.hasClass("inactive")&&""===h._getCurrentlySelectedText()&&(k.triggerEditableFieldSingleClick(),h.model.edit());h._editDelay=0},250)}},_onPossibleBlur:function(){this.model.getSaving()||0<b(".aui-blanket:not([hidden])").length||this.model.blurEdit()},_preventBlurByEsc:function(a){a.preventDefault()},
_getCurrentlySelectedText:function(){return b(document.activeElement).is(":input")?"":document.selection&&document.selection.createRange?document.selection.createRange().text||"":window.getSelection?window.getSelection().toString():""},_enterToSubmitSelect:function(a){a.isDefaultPrevented()||13!==a.which||(a.preventDefault(),b(a.target).closest("form").submit())},_enterToSubmitMultiSelect:function(a){a.isDefaultPrevented()||13===a.which&&b(a.target).blur()},saveSelectedText:function(){this._previouslySelectedText=
this._getCurrentlySelectedText()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/ModalFieldView.js' */
define("jira/components/issueeditor/views/modalfield",["require"],function(b){var d=b("jira/components/libs/underscore"),e=b("jira/util/events"),f=b("jira/dialog/form-dialog"),g=b("jira/components/libs/marionette-1.4.1/itemview");b=b("jira/components/issueeditor/templates");return g.extend({errorsTemplate:b.modalFieldGeneralErrors,template:b.modalField,initialize:function(a){d.bindAll(this,"_onHide","_onSubmit","_remove","_showGeneralError","_showValidationError","_updateModel");e.bind("Dialog.hide",
this._onHide);this.issueEventBus=a.issueEventBus;this.issueEventBus.on("saveError",this._showGeneralError);this.model.onSaveSuccess(this._remove);this.model.onUpdateRequired(this._updateModel);this.model.onValidationError(this._showValidationError)},_enable:function(){var a=this._getDialog();a.hideFooterLoadingIndicator();a=a.$popup;a.find(":input").removeAttr("disabled").trigger("enable");a.find(":input:first").focus().select();a.find(":submit").removeAttr("disabled")},_getDialog:function(){this._dialog||
(this._dialog=new f({id:"modal-field-view",submitHandler:this._onSubmit,content:d.bind(function(a){a(this.template({field:this.model.toJSON(),issue:this.options.issue}))},this)}),this._dialog.get$popup().data("field-id",this.model.getId()));return this._dialog},_onHide:function(a,b){b===this._getDialog().get$popup()&&this._remove()},_onSubmit:function(a,b){a.preventDefault();this.model.save();b();a=this._getDialog();a.showFooterLoadingIndicator();a.$popup.find(":input").attr("disabled","disabled").trigger("disable")},
close:function(){this._remove()},_remove:function(){var a=this._getDialog();a.get$popup().is(":visible")&&a.hide();a.destroy();this.model.cancelEdit();e.unbind("Dialog.hide",this._onHide);this.issueEventBus.off("saveError",this._showGeneralError);this.model.off("saveSuccess",this._remove);this.model.off("updateRequired",this._updateModel);this.model.off("validationError",this._showValidationError)},show:function(){this.model.edit();this._getDialog().show()},_showGeneralError:function(a,b,c){this._enable();
a=this._getDialog().$popup;if(c=c&&c.errorCollection){b=!d.isEmpty(c.errors);var e=!d.isEmpty(c.errorMessages);!b&&e&&a.find(".form-body").append(this.errorsTemplate({messages:c.errorMessages}))}},_showValidationError:function(a){this._enable();this._getDialog().$popup.find(".form-body").html(a)},_updateModel:function(){this.model.update(this._getDialog().$popup)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/LoadingError.js' */
define("jira/components/issueeditor/views/loadingerror",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/itemview"),c=a("jira/message");a=a("jira/components/issueeditor/templates");return b.extend({template:a.errorsLoading,initialize:function(a,b){this.errorMessages=a;this.isTimeout=b},serializeData:function(){return{errorMessages:this.errorMessages,isTimeout:this.isTimeout}},onRender:function(){this.setElement(c.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/SaveError.js' */
define("jira/components/issueeditor/views/saveerror",["require"],function(a){var c=a("jira/components/libs/underscore"),d=a("jira/components/libs/marionette-1.4.1/itemview"),e=a("jira/message");a=a("jira/components/issueeditor/templates");return d.extend({events:{"simpleClick .issue":"onIssueLinkClick"},template:a.saveErrorMessage,getErrorMessages:function(){var a,b=[];(a=this.options.response.errorCollection)&&(b=a.errorMessages.concat(c.values(a.errors)));return b},onIssueLinkClick:function(a){var b=
{id:this.options.issueId,key:this.options.issueKey};a.preventDefault();this.trigger("issueLinkClick",b);this.close()},onRender:function(){this.setElement(e.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))},serializeData:function(){return{errors:this.getErrorMessages(),issueKey:this.options.issueKey}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/EditIssueController.js' */
define("jira/components/issueeditor/controllers/editissue",["require"],function(e){var d=e("jira/components/libs/underscore"),k=e("jira/components/libs/brace"),l=e("jira/components/issueeditor/entities/fields"),m=e("jira/components/issueeditor/views/field"),h=e("jira/components/issueviewer/legacy/issuefieldutil"),g=e("jquery"),n=e("jira/message"),p=e("jira/components/issueeditor/templates");return k.Model.extend({namedAttributes:["issueId","issueKey","issueViewContext","fields","issueEventBus"],namedEvents:["save",
"editField","editFieldCancel"],initialize:function(){d.bindAll(this,"_handleSaveError","_handleSaveSuccess","_handleSavingStarted","cancelUneditedFields","createFieldView","handleFieldUpdate","save");this.set({fields:new l},{silent:!0});this.getFields().bind("add",this.createFieldView).bind("updated",this.handleFieldUpdate).bind("save",this.save);this.getIssueEventBus().onSavingStarted(this._handleSavingStarted);this.getIssueEventBus().onSaveSuccess(this._handleSaveSuccess);this.getIssueEventBus().onSaveError(this._handleSaveError);
this.getIssueEventBus().onSave(this.save);this.getIssueEventBus().onSave(this.cancelUneditedFields)},_saveById:function(a){(a=this.getFields().get(a))&&a.blurEdit()},_handleSaveError:function(a,b,c){var f=this;c?this.applyErrors(c):d.each(b,function(a){(a=f.getFields().get(a))&&a.handleSaveError()})},_handleSavingStarted:function(a){this.getFields().each(function(b){d.include(a,b.id)&&b.handleSaveStarted()})},handleFieldUpdate:function(a){g(h.getFieldSelector(a.id)).hasClass("editable-field")||this.createFieldView(a)},
applyErrors:function(a,b){var c=a.errorCollection;c&&c.errors&&this.getFields().each(function(f){if(c.errors[f.id]){var e=d.find(a.fields,function(a){return a.id===f.id});e&&(f.setValidationError(e.editHtml,c.errors[f.id],b),b=!1)}});if(c.errorMessages&&c.errorMessages.length){var f=p.saveErrorMessage({errors:c.errorMessages,issueKey:this.getIssueKey()});n.showErrorMsg(f,{closeable:!0})}},reset:function(){this.getFields().reset()},cancelEdit:function(){this.getFields().each(function(a){a.cancelEdit()})},
_handleSaveSuccess:function(a,b,c){a=this.getFields().filter(function(a){return 0<=d.indexOf(c,a.id)});d.each(a,function(a){a.handleSaveSuccess()})},getDirtyEditsInProgress:function(){return d.pluck(this.getFields().filter(function(a){return a.getEditing()&&a.isDirty()}),"id")},getEditsInProgress:function(){return d.pluck(this.getFields().filter(function(a){return a.getEditing()}),"id")},save:function(a,b){var c={},f=[],e=[],g=[a];if(!a)g=this.getFields().filter(function(a){return!a.getSaving()&&
a.getEditing()&&a.isDirty()});else if(!a.getEditing()||a.getSaving())return;d.each(g,function(a){f.push(a.getId());e.push(a.getFieldType()||"");d.extend(c,a.getCurrentParams())});0<f.length&&this.triggerSave(this.getIssueId(),this.getIssueKey(),f,c,b,e)},cancelUneditedFields:function(){this.getFields().each(function(a){!a.getEditing()||a.isDirty()||a.hasValidationError()||a.cancelEdit()})},update:function(a,b){a.fields&&(b&&b.fieldsInProgress&&d.each(a.fields,function(a){d.contains(b.fieldsInProgress,
a.id)&&(a.editing=!0)}),this.getFields().update(a.fields,b));a.issueId&&this.setIssueId(a.issueId);a.issueKey&&this.setIssueKey(a.issueKey)},createFieldView:function(a){var b=g(h.getFieldSelector(a.id),this.getIssueViewContext());if(1===b.length){b=new m({model:a,el:b,issueEventBus:this.getIssueEventBus()});var c=function(b){var c={issueId:this.getIssueId(),issueKey:this.getIssueKey(),fieldId:a.getId(),fieldType:a.attributes.fieldType};return b=d.extend(c,b)}.bind(this);b.on("editField",d.bind(function(a){this.trigger("editField",
c(a))},this));b.on("editFieldCancel",d.bind(function(a){this.trigger("editFieldCancel",c(a))},this))}(b=this.getIssueViewContext())&&b.append(g(a.get("editHtml")).find("script").remove())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/FieldsController.js' */
define("jira/components/issueeditor/controllers/fields",["require"],function(a){var c=a("jira/components/issueeditor/views/loadingerror");return a("jira/components/libs/marionette-1.4.1/controller").extend({showError:function(a,b){if(a||b)this.close(),this.triggerMethod("before:render"),this.view=new c(a,b),this.view.render(),this.listenTo(this.view,"close",this.close),this.triggerMethod("render")},close:function(){this.view&&(this.view.close(),this.stopListening(this.view),delete this.view)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/FieldsLoaderService.js' */
define("jira/components/issueeditor/services/fieldsloader",["require"],function(c){var f=c("jira/components/libs/underscore"),g=c("jira/components/issueviewer/legacy/issuefieldutil"),e=c("jquery");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(a){this.recurringPromise=(new e.RecurringPromise).sub();this.recurringPromise.done(f.bind(function(a){this.trigger("fieldsLoaded",a)},this)).fail(f.bind(function(a){this.trigger("fieldsError",a)},this));this.contextPath=
a.contextPath},load:function(a){a=this._buildUpdateTask(a);this.recurringPromise.add(a)},cancel:function(){this.recurringPromise.reset()},_getFieldsData:function(a,c){var b=e.ajax({url:this.contextPath+"/secure/AjaxIssueEditAction!default.jspa?decorator\x3dnone",headers:{"X-SITEMESH-OFF":!0},data:{issueId:a}}),d=b.pipe(function(b){b=g.transformFieldHtml(b);return{issueId:a,issueKey:c,fields:b.fields}},function(b){var d={};switch(b.status){case 400:var c=!1;try{d=(JSON.parse(b.responseText)||{}).errorCollection}catch(h){}break;
case 401:c=!1;d=null;break;default:c=!0,d={}}return{issueId:a,fields:null,errorCollection:d,isTimeout:"timeout"===b.statusText,fatalError:c}});d.abort=function(){b.abort.apply(b,arguments)};return d},_buildUpdateTask:function(a){var c=a.viewIssueData;a=a.issueEntity;var b=new e.Deferred;c.setPending(a.id,this._getFieldsData(a.id,a.key),function(a){b.resolve(a)},function(a){a.fatalError?b.reject(a):b.resolve(a)});return b.promise()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/IssueSaverService.js' */
define("jira/components/issueeditor/services/issuesaver",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/components/issueviewer/legacy/issuefieldutil");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(b){this.saveInProgressManager=b.saveInProgressManager;this.model=b.model;this._saveStarted=[];this.saveInProgressManager.onSavingStarted(e.bind(function(g,d){this._saveStarted.push((new Date).getTime());this.trigger("saveStarted",g,
d)},this));this.saveInProgressManager.onSaveSuccess(e.bind(function(g,d,b,a,c){a&&a.fields&&f.transformFieldHtml(a);this.trigger("save",{issueId:g,issueKey:d,savedFieldIds:b,savedFieldTypes:c,response:a,shouldSkipSaveIssueSuccessHandler:this._shouldSkipSaveIssueSuccessHandler,duration:(new Date).getTime()-this._saveStarted.shift()})},this));this.saveInProgressManager.onSaveError(e.bind(function(b,d,c,a){a&&a.fields&&f.transformFieldHtml(a);this.trigger("error",{issueId:b,issueKey:d,attemptedSavedIds:c,
response:a,duration:(new Date).getTime()-this._saveStarted.shift()})},this))},setSkipSaveIssueSuccessHandler:function(b){this._shouldSkipSaveIssueSuccessHandler=b},save:function(b,c,d,e,a,f){this.saveInProgressManager.saveIssue(b,c,d,e,a,f)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/SaveInProgressManager.js' */
define("jira/components/issueeditor/services/saveinprogressmanager",["require"],function(a){var h=a("jira/components/libs/underscore"),p=a("jira/components/libs/brace"),q=window.AJS.contextPath(),r=a("jira/util/events"),k=a("jira/components/issueviewer/legacy/issuefieldutil"),t=a("jira/dialog/form-dialog"),m=a("jquery"),u=a("jira/message"),v=a("jira/ajs/ajax/smart-ajax"),w=a("jira/components/issueeditor/eventtypes"),x=a("jira/components/utils/ajshelper");return p.Model.extend({namedAttributes:["savesInProgress"],
namedEvents:["beforeSaving","savingStarted","saveSuccess","saveError"],initialize:function(){this.setSavesInProgress([])},saveIssue:function(c,e,d,b,a,n){this.triggerBeforeSaving();var g=this;var f=h.extend(b,{issueId:c,atl_token:atl_token(),singleFieldEdit:!0,fieldsToForcePresent:d});a=h.extend({type:"POST",url:q+"/secure/AjaxIssueAction.jspa?decorator\x3dnone",headers:{"X-SITEMESH-OFF":!0},error:function(a){g._handleSaveError(c,e,d,a)},success:function(a,b,l,f){a=f.data;"string"===typeof a?g._handleHtmlResponse(c,
e,d,a,n):(k.transformFieldHtml(a),g.triggerSaveSuccess(c,e,d,a,n))},complete:function(){g.removeSaveInProgress(l);r.trigger(w.INLINE_EDIT_SAVE_COMPLETE)},data:f},a);var l=v.makeRequest(a);this.addSaveInProgress(l);this.triggerSavingStarted(c,d,b)},hasSavesInProgress:function(){return 0<this.getSavesInProgress().length},removeSaveInProgress:function(a){this.setSavesInProgress(h.without(this.getSavesInProgress(),a))},addSaveInProgress:function(a){var c=this.getSavesInProgress();c.push(a);this.setSavesInProgress(c)},
_handleHtmlResponse:function(a,e,d,b,h){var c=this;b=m(x.extractBodyFromResponse(b));var g=b.find("#atl_token").val();g&&m("#atlassian-token").attr("content",g);var f=new t({offsetTarget:"body",content:b});this.triggerSaveError(a,e,d);f._handleServerSuccess=function(b){f.hide();if(b=c._parseResponse(b))k.transformFieldHtml(b),c.triggerSaveSuccess(a,e,d,b,h)};f._handleServerError=function(b){f.hide();if(b=c._parseResponse(b.responseText))k.transformFieldHtml(b),c.triggerSaveError(a,e,d,b)};f.show()},
_handleSaveError:function(a,e,d,b){if(b=this._parseResponse(b.responseText))k.transformFieldHtml(b),this.triggerSaveError(a,e,d,b)},_parseResponse:function(a){try{return JSON.parse(a)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var a="\x3cp\x3e"+"Communications Breakdown"+"\x3c/p\x3e\x3cp\x3e"+"Close this dialog and press refresh in your browser"+"\x3c/p\x3e";u.showErrorMsg(a,{closeable:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/UnloadInterceptor.js' */
define("jira/components/issueeditor/services/unloadinterceptor",["require"],function(c){var b=c("jira/components/libs/underscore");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(){this._afterEventHandlers=[];this.originalBeforeUnload=window.onbeforeunload;window.onbeforeunload=b.bind(this.onBeforeUnload,this)},addAfterEvent:function(a){this._afterEventHandlers.push(a)},removeAfterEvent:function(a){this._afterEventHandlers=b.without(this._afterEventHandlers,
a)},onBeforeUnload:function(){var a,c=arguments;b.isFunction(this.originalBeforeUnload)&&(a=this.originalBeforeUnload.apply(window,c));a||(a=b.reduce(this._afterEventHandlers,function(a,b){return a?a:b.apply(window,c)},a));return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/InlineEditUtils.js' */
define("jira/components/issueeditor/inlineeditutils",["require"],function(e){function l(a){const b=document.activeElement;var c=b.classList;c=c.contains("wiki-edit-dropdown")||c.contains("wiki-edit-picker");return 0<a.find(b).length||0<a.filter(b).length||c}var f=e("jira/util/events"),g=e("jira/components/issueeditor/eventtypes"),a={BLUR_FOCUS_TIMEOUT:50,BlurTriggers:{Default:function(d,b){function c(){l(b)||(h=!1,f.trigger(g.INLINE_EDIT_BLURRED,[d]))}b=b.nextAll(".save-options").andSelf();var k,
h=l(b),e={focus:function(){h||(h=!0,f.trigger(g.INLINE_EDIT_FOCUSED,[d]))},blur:function(){k&&clearTimeout(k);k=setTimeout(c,a.BLUR_FOCUS_TIMEOUT)}};b.attr("tabindex",1).bind(e).delegate(":input, a[href], [tabindex]",e)}}};a.BlurTriggerMapping={system:{summary:a.BlurTriggers.Default,priority:a.BlurTriggers.Default,issuetype:a.BlurTriggers.Default,components:a.BlurTriggers.Default,versions:a.BlurTriggers.Default,fixVersions:a.BlurTriggers.Default,assignee:a.BlurTriggers.Default,reporter:a.BlurTriggers.Default,
environment:a.BlurTriggers.Default,description:a.BlurTriggers.Default,labels:a.BlurTriggers.Default,duedate:a.BlurTriggers.Default},custom:{"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datetime":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:float":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:labels":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:project":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:select":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:url":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:version":a.BlurTriggers.Default}};f.bind(g.INLINE_EDIT_STARTED,function(d,b,c,e){c?(d=a.BlurTriggerMapping.custom[c],d||(c=c.replace(/.+:(.+)/,"$1"),d=a.BlurTriggerMapping.custom[c])):d=a.BlurTriggerMapping.system[b];d&&d(b,e)});return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/eventtypes.js' */
define("jira/components/issueeditor/eventtypes",["require"],function(a){a=a("jira/components/issueviewer/eventtypes");a.INLINE_EDIT_SAVE_COMPLETE="inlineEditSaveComplete";a.INLINE_EDIT_STARTED="inlineEditStarted";a.BEFORE_INLINE_EDIT_CANCEL="inlineEditCancelled";a.INLINE_EDIT_BLURRED="inlineEditBlurred";a.INLINE_EDIT_FOCUSED="inlineEditFocused";a.INLINE_EDIT_REQUESTED="inlineEditRequested";a.LOCK_PANEL_REFRESHING="lockPanelRefreshing";a.UNLOCK_PANEL_REFRESHING="unlockPanelRefreshing";a.REFRESH_ISSUE_PAGE=
"refreshIssuePage";return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/cancelreasons.js' */
define("jira/components/issueeditor/cancelreasons",function(){return{escPressed:"escPressed"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/analytics/ViewIssue.js' */
define("jira/components/issueeditor/analytics/viewissue",["require"],function(b){var a=b("jira/components/utils/ajshelper");return{triggerEditableFieldDoubleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.double-click"})},triggerEditableFieldSingleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.single-click"})},triggerEditableFieldClickPencilIcon:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.click.pencil-icon"})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueEditor",null,require("jira/components/issueeditor"));AJS.namespace("JIRA.Components.IssueEditor.AppModule",null,require("jira/components/issueeditor/appmodule"));AJS.namespace("JIRA.Components.IssueEditor.NoInlineAppModule",null,require("jira/components/issueeditor/noinlineappmodule"));AJS.namespace("JIRA.Components.IssueEditor.Controllers.EditIssue",null,require("jira/components/issueeditor/controllers/editissue"));
AJS.namespace("JIRA.Components.IssueEditor.Controllers.Fields",null,require("jira/components/issueeditor/controllers/fields"));AJS.namespace("JIRA.Components.IssueEditor.Collections.Fields",null,require("jira/components/issueeditor/entities/fields"));AJS.namespace("JIRA.Components.IssueEditor.Models.Field",null,require("jira/components/issueeditor/entities/field"));AJS.namespace("JIRA.Components.IssueEditor.Services.FieldsLoader",null,require("jira/components/issueeditor/services/fieldsloader"));
AJS.namespace("JIRA.Components.IssueEditor.Services.IssueSaver",null,require("jira/components/issueeditor/services/issuesaver"));AJS.namespace("JIRA.Components.IssueEditor.Services.SaveInProgressManager",null,require("jira/components/issueeditor/services/saveinprogressmanager"));AJS.namespace("JIRA.Components.IssueEditor.Services.UnloadInterceptor",null,require("jira/components/issueeditor/services/unloadinterceptor"));AJS.namespace("JIRA.Components.IssueEditor.Views.FieldView",null,require("jira/components/issueeditor/views/field"));
AJS.namespace("JIRA.Components.IssueEditor.Views.LoadingError",null,require("jira/components/issueeditor/views/loadingerror"));AJS.namespace("JIRA.Components.IssueEditor.Views.ModalFieldView",null,require("jira/components/issueeditor/views/modalfield"));AJS.namespace("JIRA.Components.IssueEditor.Views.SaveError",null,require("jira/components/issueeditor/views/saveerror"));AJS.namespace("JIRA.Components.IssueEditor.InlineEditUtils",null,require("jira/components/issueeditor/inlineeditutils"));
AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggers",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggers);AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggerMapping",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggerMapping);AJS.namespace("JIRA.Issues.CANCEL_REASON",null,require("jira/components/issueeditor/cancelreasons"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inlineeditparams', location = 'util/InlineEditParams.js' */
define("jira/components/util/inlineeditparams",["require"],function(c){var d=c("wrm/data"),a=null;return{isEnabled:function(){if(null===a){var b=d.claim("com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled");a=void 0===b?!0:!!b}return a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issuecomponentresolver', location = 'issuecomponentresolver/IssueComponentResolver.js' */
define("jira/components/issuecomponentresolver",["require"],function(a){var b=a("jira/components/util/inlineeditparams"),c=a("jira/components/issueviewer"),d=a("jira/components/issueeditor");return{resolve:function(){return b.isEnabled()?d:c}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory', location = 'factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
/*
 Includes BabySitter
 https://github.com/marionettejs/backbone.babysitter/

 Includes Wreqr
 https://github.com/marionettejs/backbone.wreqr/
*/
'use strict';(function(m){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(f,e){f={_:f,Backbone:e};m.call(f);return f.Marionette.noConflict()}})})(function(){(function(m,f){m.Marionette=f(m,m.Backbone,m._)})(this,function(m,f,e){function k(a,b){a=Error(a);a.name=b||"Error";throw a;}(function(a,b){var c=a.ChildViewContainer;a.ChildViewContainer=function(a,b){var c=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();b.each(a,this.add,
this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;this._views[c]=a;a.model&&(this._indexByModel[a.model.cid]=c);b&&(this._indexByCustom[b]=c);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=
a.cid;a.model&&delete this._indexByModel[a.model.cid];b.any(this._indexByCustom,function(a,b){if(a===c)return delete this._indexByCustom[b],!0},this);delete this._views[c];this._updateLength();return this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(e){b.isFunction(e[a])&&e[a].apply(e,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});b.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){c.prototype[a]=function(){var c=[b.values(this._views)].concat(b.toArray(arguments));return b[a].apply(b,c)}});return c}(a,b);a.ChildViewContainer.VERSION="0.1.4";a.ChildViewContainer.noConflict=function(){a.ChildViewContainer=c;return this};return a.ChildViewContainer})(f,e);(function(a,b){var c=a.Wreqr,e=a.Wreqr={};a.Wreqr.VERSION="1.3.1";a.Wreqr.noConflict=function(){a.Wreqr=c;return this};e.Handlers=function(a,b){var c=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&
this.initialize(a)};c.extend=a.Model.extend;b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);
return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return c}(a,b);e.CommandStorage=function(){var c=function(a){this.options=a;this._commands={};b.isFunction(this.initialize)&&this.initialize(a)};b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},
clearCommands:function(a){this.getCommands(a).instances=[]}});return c}();e.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,c)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,
b):this.storage.addCommand(a,b)},_executeCommands:function(a,c,e){var d=this.storage.getCommands(a);b.each(d.instances,function(a){c.apply(e,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=b.isFunction(a)?new a:a}})}(e);e.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);if(this.hasHandler(a))return this.getHandler(a).apply(this,b)}})}(e);e.EventAggregator=
function(a,b){var c=function(){};c.extend=a.Model.extend;b.extend(c.prototype,a.Events);return c}(a,b);e.Channel=function(a){var c=function(b){this.vent=new a.EventAggregator;this.reqres=new a.RequestResponse;this.commands=new a.Commands;this.channelName=b};b.extend(c.prototype,{reset:function(){this.vent.off();this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},connectCommands:function(a,
b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,c,e){if(c){e=e||this;var d="vent"===a?"on":"setHandler";b.each(c,function(c,g){this[a][d](g,b.bind(c,e))},this)}}});return c}(e);e.radio=function(a){var c=function(){this._channels={};this.vent={};this.commands={};this.reqres={};this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},
_getChannel:function(b){var c=this._channels[b];c||(c=new a.Channel(b),this._channels[b]=c);return c},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(e[a],function(b){this[a][b]=d(this,a,b)},this)},this)}});var e={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},d=function(a,b,
c){return function(e){var d=a._getChannel(e)[b],g=Array.prototype.slice.call(arguments,1);return d[c].apply(d,g)}};return new c}(e);return a.Wreqr})(f,e);var p=f.ChildViewContainer.noConflict(),q=f.Wreqr.noConflict(),r=m.Marionette,d=f.Marionette={};d.VERSION="2.1.0";d.noConflict=function(){m.Marionette=r;return this};f.Marionette=d;d.Deferred=f.$.Deferred;var l=Array.prototype.slice;d.extend=f.Model.extend;d.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};
d.proxyGetOption=function(a){return d.getOption(this,a)};d.normalizeMethods=function(a){var b={};e.each(a,function(a,d){e.isFunction(a)||(a=this[a]);a&&(b[d]=a)},this);return b};d.normalizeUIKeys=function(a,b){if("undefined"!==typeof a)return e.each(e.keys(a),function(c){var e=/@ui\.[a-zA-Z_$0-9]*/g;c.match(e)&&(a[c.replace(e,function(a){return b[a.slice(4)]})]=a[c],delete a[c])}),a};d.actAsCollection=function(a,b){e.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(c){a[c]=function(){var a=[e.values(e.result(this,b))].concat(e.toArray(arguments));return e[c].apply(e,a)}})};d.triggerMethod=function(){function a(a,b,e){return e.toUpperCase()}var b=/(^|:)(\w)/gi;return function(c){var d=this["on"+c.replace(b,a)],h;e.isFunction(d)&&(h=d.apply(this,e.tail(arguments)));e.isFunction(this.trigger)&&this.trigger.apply(this,arguments);return h}}();d.MonitorDOMRefresh=function(a){function b(b){b._isShown&&b._isRendered&&f.$.contains(a,b.el)&&e.isFunction(b.triggerMethod)&&
b.triggerMethod("dom:refresh")}return function(a){a.listenTo(a,"show",function(){a._isShown=!0;b(a)});a.listenTo(a,"render",function(){a._isRendered=!0;b(a)})}}(document.documentElement);(function(a){function b(a,b,c,d){d=d.split(/\s+/);e.each(d,function(e){var d=a[e];d||k('Method "'+e+'" was configured as an event handler, but does not exist.');a.listenTo(b,c,d)})}function c(a,b,c,e){a.listenTo(b,c,e)}function d(a,b,c,d){d=d.split(/\s+/);e.each(d,function(e){a.stopListening(b,c,a[e])})}function h(a,
b,c,e){a.stopListening(b,c,e)}function n(a,b,c,d,g){b&&c&&(e.isFunction(c)&&(c=c.call(a)),e.each(c,function(c,h){e.isFunction(c)?d(a,b,h,c):g(a,b,h,c)}))}a.bindEntityEvents=function(a,e,d){n(a,e,d,c,b)};a.unbindEntityEvents=function(a,b,c){n(a,b,c,h,d)};a.proxyBindEntityEvents=function(b,c){return a.bindEntityEvents(this,b,c)};a.proxyUnbindEntityEvents=function(b,c){return a.unbindEntityEvents(this,b,c)}})(d);d.Callbacks=function(){this._deferred=d.Deferred();this._callbacks=[]};e.extend(d.Callbacks.prototype,
{add:function(a,b){var c=e.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});c.then(function(c){b&&(c.context=b);a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=d.Deferred();this._callbacks=[];e.each(a,function(a){this.add(a.cb,a.ctx)},this)}});d.Controller=function(a){this.options=a||{};e.isFunction(this.initialize)&&this.initialize(this.options)};d.Controller.extend=d.extend;e.extend(d.Controller.prototype,
f.Events,{destroy:function(){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.triggerMethod.apply(this,["destroy"].concat(a));this.stopListening();this.off();return this},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Object=function(a){this.options=e.extend({},e.result(this,"options"),a);this.initialize(this.options)};d.Object.extend=d.extend;e.extend(d.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");
this.triggerMethod("destroy");this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});e.extend(d.Object.prototype,f.Events);d.Region=function(a){this.options=a||{};this.el=this.getOption("el");(this.el=this.el instanceof f.$?this.el[0]:this.el)||k('An "el" must be specified for a region.',"NoElError");this.$el=this.getEl(this.el);if(this.initialize){var b=l.apply(arguments);this.initialize.apply(this,
b)}};e.extend(d.Region,{buildRegion:function(a,b){if(e.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(e.isFunction(a))return this._buildRegionFromRegionClass(a);k("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){b=a.regionClass||b;var c=
e.omit(a,"selector","regionClass");a.selector&&!c.el&&(c.el=a.selector);b=new b(c);a.parentEl&&(b.getEl=function(b){if(e.isObject(b))return f.$(b);var c=a.parentEl;e.isFunction(c)&&(c=c());return c.find(b)});return b},_buildRegionFromRegionClass:function(a){return new a}});e.extend(d.Region.prototype,f.Events,{show:function(a,b){this._ensureElement();b=b||{};var c=a!==this.currentView,d=!!b.forceShow,h=!!this.currentView;!b.preventDestroy&&c&&this.empty();if(c||d)a.once("destroy",e.bind(this.empty,
this)),a.render(),h&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),e.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),this.attachHtml(a),this.currentView=a,h&&this.triggerMethod("swap",a),this.triggerMethod("show",a),e.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show");return this},_ensureElement:function(){e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);this.$el&&
0!==this.$el.length||k('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return f.$(a)},attachHtml:function(a){this.el.innerHTML="";this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){this.currentView=a;return this},
hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this},getOption:d.proxyGetOption,triggerMethod:d.triggerMethod});d.Region.extend=d.extend;d.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={};a.Controller.call(this,b)},addRegions:function(a,b){e.isFunction(a)&&(a=a.apply(this,arguments));var c={};e.each(a,function(a,d){e.isString(a)&&(a={selector:a});a.selector&&(a=e.defaults({},
a,b));a=this.addRegion(d,a);c[d]=a},this);return c},addRegion:function(b,d){var c=e.isObject(d),g=e.isString(d),f=!!d.selector;d=g||c&&f?a.Region.buildRegion(d,a.Region):e.isFunction(d)?a.Region.buildRegion(d,a.Region):d;this.triggerMethod("before:add:region",b,d);this._store(b,d);this.triggerMethod("add:region",b,d);return d},get:function(a){return this._regions[a]},getRegions:function(){return e.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},removeRegions:function(){var a=
this.getRegions();e.each(this._regions,function(a,b){this._remove(b,a)},this);return a},emptyRegions:function(){var a=this.getRegions();e.each(a,function(a){a.empty()},this);return a},destroy:function(){this.removeRegions();return a.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b);b.empty();b.stopListening();delete this._regions[a];this._setLength();this.triggerMethod("remove:region",
a,b)},_setLength:function(){this.length=e.size(this._regions)}});a.actAsCollection(b.prototype,"_regions");return b}(d);d.TemplateCache=function(a){this.templateId=a};e.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new d.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=l.call(arguments),c=b.length;if(0<c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});e.extend(d.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=f.$(a).html();b&&0!==b.length||k('Could not find template: "'+a+'"',"NoTemplateError");return b},compileTemplate:function(a){return e.template(a)}});d.Renderer={render:function(a,b){a||k("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");return("function"===typeof a?
a:d.TemplateCache.get(a))(b)}};d.View=f.View.extend({constructor:function(a){e.bindAll(this,"render");this.options=e.extend({},e.result(this,"options"),e.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(e.result(this,"events"));e.isObject(this.behaviors)&&new d.Behaviors(this);f.View.apply(this,arguments);d.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,
l.call(arguments,1))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption("templateHelpers");e.isFunction(b)&&(b=b.call(this));return e.extend(a,b)},normalizeUIKeys:function(a){var b=e.result(this,"ui"),c=e.result(this,"_uiBindings");return d.normalizeUIKeys(a,c||b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(e.result(this,"triggers"));e.each(b,function(b,d){var c=e.isObject(b),g=c?b.event:b;a[d]=function(a){if(a){var e=a.preventDefault,d=a.stopPropagation,
h=c?b.stopPropagation:d;(c?b.preventDefault:e)&&e&&e.apply(a);h&&d&&d.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},_delegateDOMEvents:function(a){a=a||this.events;e.isFunction(a)&&(a=a.call(this));a=this.normalizeUIKeys(a);var b={},c=e.result(this,
"behaviorEvents")||{},d=this.configureTriggers();e.extend(b,c,a,d);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=l.call(arguments);f.View.prototype.undelegateEvents.apply(this,a);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var a=Error("Cannot use a view thats already been destroyed.");
a.name="ViewDestroyedError";throw a;}},destroy:function(){if(!this.isDestroyed){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.remove();return this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=e.result(this,"_uiBindings");this.ui={};e.each(e.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&
this._uiBindings&&(e.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:d.triggerMethod,normalizeMethods:d.normalizeMethods,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});d.ItemView=d.View.extend({constructor:function(){d.View.apply(this,arguments)},serializeData:function(){var a={};this.model?a=e.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&
(a={items:e.partial(this.serializeCollection,this.collection).apply(this,arguments)});return a},serializeCollection:function(a){return a.toJSON.apply(a,l.call(arguments,1))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){a||k("Cannot render the template since it is null or undefined.","UndefinedTemplateError");
var b=this.serializeData();b=this.mixinTemplateHelpers(b);a=d.Renderer.render(a,b,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this},destroy:function(){if(!this.isDestroyed)return d.View.prototype.destroy.apply(this,arguments)}});d.CollectionView=d.View.extend({childViewEventPrefix:"childview",constructor:function(a){var b=a||{};this.sort=e.isUndefined(b.sort)?!0:b.sort;this._initChildViewStorage();d.View.apply(this,arguments);this._initialEvents();
this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&e.invoke(this._bufferedChildren,"triggerMethod","before:show")},
_triggerShowBufferedChildren:function(){this._isShown&&(e.each(this._bufferedChildren,function(a){e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(a){this.destroyEmptyView();
var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},onShowCalled:function(){this.children.each(function(a){e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")})},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.triggerMethod("render",this);return this},resortView:function(){this.render()},
_sortViews:function(){this.collection.find(function(a,b){a=this.children.findByModel(a);return!a||a._index!==b},this)&&this.resortView()},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getChildView(b);
this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new f.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var c=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");
e.isFunction(c)&&(c=c.call(this));a=this.buildChildView(a,b,c);this._isShown&&this.triggerMethod.call(a,"before:show");this.children.add(a);this.renderChildView(a,-1);this._isShown&&this.triggerMethod.call(a,"show")},getChildView:function(a){(a=this.getOption("childView"))||k('A "childView" must be specified',"NoChildViewError");return a},addChild:function(a,b,c){var d=this.getOption("childViewOptions");e.isFunction(d)&&(d=d.call(this,a,c));a=this.buildChildView(a,b,d);this._updateIndices(a,!0,c);
this._addChildView(a,c);return a},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,b){this.proxyChildEvents(a);this.triggerMethod("before:add:child",a);this.children.add(a);this.renderChildView(a,b);this._isShown&&!this.isBuffering&&(e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show"));this.triggerMethod("add:child",
a)},renderChildView:function(a,b){a.render();this.attachHtml(this,a,b);return a},buildChildView:function(a,b,c){a=e.extend({model:a},c);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(a){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&
this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.sort&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new p},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),
this.destroyChildren(),this.triggerMethod("destroy:collection"),d.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var a=this.children.map(e.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var c=l.call(arguments),d=c[0],h=this.normalizeMethods(e.result(this,"childEvents"));c[0]=b+":"+d;c.splice(1,0,a);"undefined"!==typeof h&&e.isFunction(h[d])&&
h[d].apply(this,c.slice(1));this.triggerMethod.apply(this,c)},this)}});d.CompositeView=d.CollectionView.extend({constructor:function(){d.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},
getChildView:function(a){(a=this.getOption("childView")||this.constructor)||k('A "childView" must be specified',"NoChildViewError");return a},serializeData:function(){var a={};this.model&&(a=e.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this.isRendered=!0;this.resetChildViewContainer();this.triggerMethod("before:render",this);this._renderTemplate();this._renderChildren();this.triggerMethod("render",this);return this},_renderChildren:function(){this.isRendered&&
d.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var b=this.getTemplate();a=d.Renderer.render(b,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this).append(a.el)},
getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var b;(b=d.getOption(a,"childViewContainer"))?(b=e.isFunction(b)?b.call(a):b,b="@"===b.charAt(0)&&a.ui?a.ui[b.substr(4)]:a.$(b),0>=b.length&&k('The specified "childViewContainer" was not found: '+a.childViewContainer,"ChildViewContainerMissingError")):b=a.$el;return a.$childViewContainer=b},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}});d.LayoutView=d.ItemView.extend({regionClass:d.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return d.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;this.regionManager.destroy();return d.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(a,b){this.triggerMethod("before:region:add",a);var c={};c[a]=b;return this._buildRegions(c)[a]},
addRegions:function(a){this.regions=e.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){this.triggerMethod("before:region:remove",a);delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,
c)},_initializeRegions:function(a){this._initRegionManager();var b=e.isFunction(this.regions)?this.regions(a):this.regions||{};var c=this.getOption.call(a,"regions");e.isFunction(c)&&(c=c.call(this,a));e.extend(b,c);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions();this.regionManager.each(function(a){a.reset()})},getRegionManager:function(){return new d.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.listenTo(this.regionManager,
"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})}});d.Behavior=function(a,b){function c(b,c){this.view=c;this.defaults=a.result(this,
"defaults")||{};this.options=a.extend({},this.defaults,b);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)}a.extend(c.prototype,b.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});c.extend=d.extend;return c}(e,f);d.Behaviors=function(a,b){function c(a,e){e=c.parseBehaviors(a,e||
b.result(a,"behaviors"));c.wrap(a,e,b.keys(d))}var d={setElement:function(a,c){a.apply(this,b.tail(arguments,2));b.each(c,function(a){a.$el=this.$el;a.el=this.el},this);return this},destroy:function(a,c){var d=b.tail(arguments,2);a.apply(this,d);b.invoke(c,"destroy",d);return this},bindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},unbindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},triggerMethod:function(a,c){var d=b.tail(arguments,2);a.apply(this,d);b.each(c,function(b){a.apply(b,
d)})},delegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e);b.each(d,function(b){a.bindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.bindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},undelegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e);b.each(d,function(b){a.unbindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.unbindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},
behaviorEvents:function(c,d){var e={},f=b.result(this,"ui");b.each(d,function(c,d){var h={},g=b.clone(b.result(c,"events"))||{},n=b.result(c,"ui");n=b.extend({},f,n);g=a.normalizeUIKeys(g,n);b.each(b.keys(g),function(a){var e=Array(d+2).join(" ");e=a+e;a=b.isFunction(g[a])?g[a]:c[g[a]];h[e]=b.bind(a,c)});e=b.extend(e,h)});return e}};b.extend(c,{behaviorsLookup:function(){throw Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup");
},getBehaviorClass:function(a,d){return a.behaviorClass?a.behaviorClass:b.isFunction(c.behaviorsLookup)?c.behaviorsLookup.apply(this,arguments)[d]:c.behaviorsLookup[d]},parseBehaviors:function(a,d){return b.chain(d).map(function(d,e){d=new (c.getBehaviorClass(d,e))(d,a);e=c.parseBehaviors(a,b.result(d,"behaviors"));return[d].concat(e)}).flatten().value()},wrap:function(a,c,e){b.each(e,function(e){a[e]=b.partial(d[e],a[e],c)})}});return c}(d,e);d.AppRouter=f.Router.extend({constructor:function(a){f.Router.apply(this,
arguments);this.options=a||{};var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var c=e.invert(this.getOption("appRoutes"))[a];if(e.isFunction(this.onRoute))this.onRoute(a,c,b)},processAppRoutes:function(a,b){if(b){var c=e.keys(b).reverse();e.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},
_addAppRoute:function(a,b,c){var d=a[c];d||k('Method "'+c+'" was not found on the controller');this.route(b,c,e.bind(d,a))},getOption:d.proxyGetOption});d.Application=function(a){this._initializeRegions(a);this._initCallbacks=new d.Callbacks;this.submodules={};e.extend(this,a);this._initChannel()};e.extend(d.Application.prototype,f.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},
start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var c=d.Module.getClass(b),e=l.call(arguments);
e.unshift(this);return c.create.apply(c,e)},getRegionManager:function(){return new d.RegionManager},_initializeRegions:function(a){var b=e.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var c=d.getOption(a,"regions");e.isFunction(c)&&(c=c.call(this,a));e.extend(b,c);this.addRegions(b);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",
a)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=e.result(this,"channelName")||"global";this.channel=e.result(this,"channel")||q.radio.channel(this.channelName);
this.vent=e.result(this,"vent")||this.channel.vent;this.commands=e.result(this,"commands")||this.channel.commands;this.reqres=e.result(this,"reqres")||this.channel.reqres},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Application.extend=d.extend;d.Module=function(a,b,c){this.moduleName=a;this.options=e.extend({},this.options,c);this.initialize=c.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;e.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};d.Module.extend=d.extend;e.extend(d.Module.prototype,f.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(e.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),e.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){a&&(b=e.flatten([this,this.app,f,d,f.$,e,b]),a.apply(this,b))},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new d.Callbacks;this._finalizerCallbacks=
new d.Callbacks},triggerMethod:d.triggerMethod});e.extend(d.Module,{create:function(a,b,c){var d=a,f=l.call(arguments);f.splice(0,3);b=b.split(".");var n=[];n[b.length-1]=c;e.each(b,function(b,e){var g=d;d=this._getModule(g,b,a,c);this._addModuleDefinition(g,d,n[e],f)},this);return d},_getModule:function(a,b,c,d,f){f=e.extend({},d);d=this.getClass(d);var g=a[b];g||(g=new d(b,c,f),a[b]=g,a.submodules[b]=g);return g},getClass:function(a){var b=d.Module;return a?a.prototype instanceof b?a:a.moduleClass||
b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c);c=this._getStartWithParent(c,b);e&&b.addDefinition(e,d);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,b){return e.isFunction(a)&&a.prototype instanceof d.Module?(a=b.constructor.prototype.startWithParent,e.isUndefined(a)?!0:a):e.isObject(a)?(a=a.startWithParent,e.isUndefined(a)?!0:a):!0},_getDefine:function(a){return!e.isFunction(a)||a.prototype instanceof d.Module?e.isObject(a)?a.define:null:a},_addStartWithParent:function(a,
b,c){b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return d})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-2.1.0', location = 'libs/marionette-2.1.0.js' */
define("jira/components/libs/marionette-2.1.0",["require"],function(d){function f(a,b){b=e.defaults({},b||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});this.trigger(a,b);return b}function g(a,b){this.triggerPreventable(a,b).isPrevented&&b.preventDefault()}var h=d("atlassian/libs/factories/marionette-2.1.0"),k=d("jira/components/libs/backbone"),e=d("jira/components/libs/underscore"),c=h(e,k);e.extend(c.View.prototype,{unwrapTemplate:function(a){if(!a||this.$el.hasClass(a))this.$el.parent().length?
(a=this.$el.children(),this.$el.replaceWith(a),this.setElement(a)):this.setElement(this.$el.children())},triggerPreventable:f,retriggerPreventable:g});e.extend(c.Controller.prototype,{triggerPreventable:f,retriggerPreventable:g});c.ViewManager=c.Object.extend({constructor:function(){this.views={};c.Controller.apply(this,arguments)},hideView:function(a){var b=this.views[a];b&&(this.stopListening(b),b.isDestroyed||b.destroy(),delete this.views[a])},showView:function(a,b){this.buildView(a,b).render()},
buildView:function(a,b){var c=this.views[a];c||(c=b.call(this),this.listenTo(c,"destroy",function(){this.hideView(a)}),this.views[a]=c);return c},getView:function(a){return this.views[a]},onDestroy:function(){e.each(this.views,function(a,b){this.hideView(b)},this)}});return c});define("jira/components/lib/marionette-2.1.0",["require"],function(d){return d("jira/components/libs/marionette-2.1.0")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/Utils.js' */
AJS.namespace("JIRA.Issues.Actions",null,require("jira/components/util/events/issue-actions"));define("jira/issue/utils/xsrf-token-header",[],function(){return{"X-Atlassian-Token":"no-check"}});AJS.namespace("JIRA.Issues.XsrfTokenHeader",null,require("jira/issue/utils/xsrf-token-header"));
define("jira/issue/utils",["require"],function(g){var h=g("jira/dialog/dialog-register"),f=g("jira/components/libs/underscore");return{isIssueDialog:function(a){return!!a.issueId||f.include(h,a)},isDeleteDialog:function(a){return"delete-issue-dialog"===a.options.id},isArchiveDialog:function(a){return"archive-issue-dialog"===a.options.id},isEditCommentDialog:function(a){return"edit-comment"===a.options.id},getEffectiveIssueKeyForDialog:function(a){return(a=a&&a.$activeTrigger&&a.$activeTrigger.data("issuekey"))?
a:JIRA.Issues.Api.getSelectedIssue().getKey()},getEffectiveIssueIdForDialog:function(a){return a.issueId?a.issueId:JIRA.Issues.Api.getSelectedIssue().getId()},getAction:function(a){return this.isDeleteDialog(a)?JIRA.Issues.Actions.DELETE:this.isEditCommentDialog(a)?JIRA.Issues.Actions.EDIT_COMMENT:this.isArchiveDialog(a)?JIRA.Issues.Actions.ARCHIVE:JIRA.Issues.Actions.UPDATE},getMessage:function(a){if(!this.isEditCommentDialog(a))return a.options.issueMsg||"thanks_issue_updated"},getMeta:function(a){return this.isEditCommentDialog(a)?
{commentId:a.$activeTrigger.attr("id").replace("edit_comment_","")}:{}},getUpdateCommandForDialog:function(a){if(this.isIssueDialog(a))return{key:this.getEffectiveIssueKeyForDialog(a),id:this.getEffectiveIssueIdForDialog(a),action:this.getAction(a),message:this.getMessage(a),meta:this.getMeta(a)}},debounce:function(a,b){var c=Array.prototype.slice.call(arguments,2);a||console.error("JIRA.Issues.Utils.debounce: ctx must be defined");clearTimeout(a[b+"DebounceTimeout"]);a[b].apply(a,c);a[b+"DebounceTimeout"]||
(a[b+"Original"]=a[b],a[b]=f.debounce(function(){return a[b+"Original"].apply(a,arguments)},300));a[b+"DebounceTimeout"]=setTimeout(function(){a[b]=a[b+"Original"];a[b+"DebounceTimeout"]=null},500)},waitForDeferreds:function(a,b,c){c=c||window;var d=[],e=new jQuery.Deferred;f.each(a,function(){var a=b.apply(c,arguments);a&&a.promise&&d.push(a)});d.length?jQuery.when.apply(jQuery,d).then(function(){e.resolveWith(c)}):e.resolveWith(c);return e.promise()},resolvedPromise:function(){return(new jQuery.Deferred).resolve().promise()},
patch:function(a,b,c){var d=a.hasOwnProperty(b),e=a[b];a[b]=c;return function(){d?a[b]=e:delete a[b]}},isEmptyOrWhitespace:function(a){return void 0===a||null===a||f.isEmpty(a.trim())}}});AJS.namespace("JIRA.Issues.Utils",null,require("jira/issue/utils"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/AttributesMixinCreator.js' */
define("jira/issues/attributesmixincreator",["require"],function(b){var e=b("jira/components/libs/underscore"),f=b("jira/issues/mixins");return{create:function(a){var c={};-1===e.indexOf(a,"id")&&a.unshift("id");e.each(a,function(d){var a=f.createMethodName("set",d);c[a]=function(a,c){var b={};b[d]=a;this.set(b,c);return this};a=f.createMethodName("get",d);c[a]=function(){return this.get(d)}});return c}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/EventsMixinCreator.js' */
define("jira/issues/eventsmixincreator",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/issues/mixins");return{create:function(c){var d={};e.each(c,e.bind(function(a){var b=f.createMethodName("bind",a);d[b]=function(){return this.bind.apply(this,[a].concat(e.toArray(arguments)))};b=f.createMethodName("unbind",a);d[b]=function(){return this.unbind.apply(this,[a].concat(e.toArray(arguments)))};b=f.createMethodName("trigger",a);d[b]=function(){return this.trigger.apply(this,
[a].concat(e.toArray(arguments)))};b=f.createMethodName("one",a);d[b]=function(){var b=this,d=arguments[0],c=function(){b.unbind(a,c);d(arguments)},f=e.toArray(arguments).slice(1);return this.bind.apply(this,[a,c].concat(f))}},this));return d}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Extensions.js' */
define("jira/issue/extensions",["require"],function(l){function m(d,b){g.forEach(g.keys(b),function(a){var c=d.prototype;if("initialize"===a){var k=c.initialize;c.initialize=function(){b.initialize.apply(this,arguments);k&&k.apply(this,arguments)}}else if("validate"===a){var h=c.validate;c.validate=function(){var a=b.validate.apply(this,arguments);if(a)return a;if(h)return h.apply(this,arguments)}}else if("defaults"===a){c=c.defaults||(c.defaults={});a=b[a];for(var e in a){if(c.hasOwnProperty(e))throw"Mixin error: object "+
d+" already has default "+e+" defined for mixin "+b;c[e]=a[e]}}else if("properties"===a){if(!g.isArray(b[a]))throw"Expects properties member on mixin to be an array";c.properties||(c.properties=[]);c.properties=c.properties.concat(b[a])}else if("namedEvents"===a){if(!g.isArray(b[a]))throw"Expects events member on mixin to be an array";c.namedEvents||(c.namedEvents=[]);c.namedEvents=c.namedEvents.concat(b[a])}else{if(c.hasOwnProperty(a))throw"Mixin error: object "+d+" already has property "+a+" for mixin "+
b;c[a]=b[a]}},this)}function p(d){return function k(a,c){var h=g.extend({},a);if(a&&a.mixins){var e=a.mixins;delete h.mixins}var f=d.call(this,h,c);e&&g.each(a.mixins,function(a){m(f,a)});f.prototype.namedEvents&&m(f,q.create(f.prototype.namedEvents));f.prototype.properties&&m(f,r.create(f.prototype.properties));f.extend=k;return f}}function t(d,b){var a=d.prototype;d=b.prototype;d.set=function(c,b){var d=this.properties;if(d){if(g.isObject(c)||null==c)var e=c;else e={},e[c]=b;for(var f in e)if(0>
g.indexOf(d,f))throw"Property '"+f+"' does not exist";}return a.set.apply(this,arguments)};d.get=function(c){if(this.properties&&0>g.indexOf(this.properties,c))throw"Property '"+c+"' does not exist";return a.get.apply(this,arguments)}}function u(d,b){d=b.prototype;d.addListener=function(a,c,b,d){if(3>arguments.length)throw"The 'other', 'event', and 'callback' arguments are mandatory";var e=c.charAt(0).toUpperCase()+c.slice(1),f="on"+e,g="off"+e,h="bind"+e;e="unbind"+e;if(a[f]){h=f;var k=g||e;if("function"!==
typeof a[h])throw"object does not have method "+f+"'";if("function"!==typeof a[k])throw"object does not have method "+g+"'";}else if(k=e,"function"!==typeof a[h])throw"object does not have event ["+c+"] registered'";a[h](b,d);this._cleanerUppers=this._cleanerUppers||[];this._cleanerUppers.push(function(){a[k](b,d)})};d.removeListeners=function(){this._cleanerUppers&&g.each(this._cleanerUppers,function(a){a()})}}function v(d,b){b=b.prototype;var a=d.prototype.remove;b.remove=function(){this.removeListeners();
return a.apply(this,arguments)};b.deactivate=function(){this.undelegateEvents();this.removeListeners()}}function n(d){var b=d.extend();b.extend=p(d.extend);return b}var g=l("jira/components/libs/underscore"),q=l("jira/issues/eventsmixincreator"),r=l("jira/issues/attributesmixincreator");return{applyModelExtensions:function(d){var b=n(d);t(d,b);return b},applyExtensions:n,applyViewExtensions:function(d){var b=n(d);u(d,b);v(d,b);return b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseCollection.js' */
define("jira/issues/basecollection",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyExtensions(b.Collection)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseEvented.js' */
define("jira/issues/baseevented",["require"],function(a){var c=a("jira/components/libs/backbone"),d=a("jira/components/libs/underscore");a=a("jira/issue/extensions");var b=function(){this.initialize.apply(this,arguments)};d.extend(b.prototype,c.Events,{initialize:function(){}});b.extend=c.Model.extend;return a.applyExtensions(b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseModel.js' */
define("jira/issues/basemodel",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyModelExtensions(b.Model)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseRouter.js' */
define("jira/issues/baserouter",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyExtensions(b.Router)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseView.js' */
define("jira/issues/baseview",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyViewExtensions(b.View)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Mixins.js' */
define("jira/issues/mixins",function(){return{createMethodName:function(b,a){return b+a.charAt(0).toUpperCase()+a.substr(1)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/ModelUtils.js' */
define("jira/issues/modelutils",["require"],function(f){function g(){this.modelEvents={}}function l(a){"change"===a||0===a.indexOf("change:")?d.log.captureEvent(this,e.toArray(arguments)):h.Events.trigger.apply(this,arguments)}var e=f("jira/components/libs/underscore"),h=f("jira/components/libs/backbone"),m=f("jira/issue/utils"),d;g.prototype.captureEvent=function(a,c){var b=c[0];this.modelEvents[a.cid]||(this.modelEvents[a.cid]={model:a,events:{}});this.modelEvents[a.cid].events[b]=c};g.prototype.replayEvents=
function(){e.each(this.modelEvents,function(a){e.each(a.events,function(c){h.Events.trigger.apply(a.model,c)})})};var n=function(){if(d)return{commit:function(){}};d={log:new g};var a=m.patch(h.Model.prototype,"trigger",l);return{commit:function(){a();d.log.replayEvents();d=null}}},k={transaction:function(a,c){var b=n();try{return a.apply(c)}finally{b.commit()}},makeTransactional:function(a){var c=function(a){return function(){var c=arguments;return k.transaction(function(){return a.apply(this,c)},
this)}},b=Array.prototype.slice.call(arguments,1);0===b.length&&(b=e.functions(a));e.each(b,function(b){0!==b.indexOf("_")&&(a[b]=c(a[b]))})}};return k});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/namespace.js' */
AJS.namespace("JIRA.Issues.AttributesMixinCreator",null,require("jira/issues/attributesmixincreator"));AJS.namespace("JIRA.Issues.BaseCollection",null,require("jira/issues/basecollection"));AJS.namespace("JIRA.Issues.BaseEvented",null,require("jira/issues/baseevented"));AJS.namespace("JIRA.Issues.BaseModel",null,require("jira/issues/basemodel"));AJS.namespace("JIRA.Issues.BaseRouter",null,require("jira/issues/baserouter"));AJS.namespace("JIRA.Issues.BaseView",null,require("jira/issues/baseview"));
AJS.namespace("JIRA.Issues.EventsMixinCreator",null,require("jira/issues/eventsmixincreator"));AJS.namespace("JIRA.Issues.Mixins",null,require("jira/issues/mixins"));AJS.namespace("JIRA.Issues.ModelUtils",null,require("jira/issues/modelutils"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/orderby.soy' */
// This file was automatically generated from orderby.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.OrderBy.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.OrderBy == 'undefined') { JIRA.Templates.OrderBy = {}; }


JIRA.Templates.OrderBy.orderBy = function(opt_data, opt_ignored) {
  return '<div class="order-by-container"><div class="order-by-fields"><a href="#" aria-haspopup="true" class="order-options aui-button aui-style-default jira-aui-dropdown2-trigger" title="' + soy.$$escapeHtml('Select the field that issues are ordered by.') + '">' + ((opt_data.sortBy && opt_data.sortBy.fieldId) ? '<span>' + soy.$$escapeHtml(AJS.format('Order by {0}',opt_data.sortBy.fieldName)) + '</span>' : '<span>' + soy.$$escapeHtml('Order by') + '</span>') + '</a></div><div class="order-by-direction">' + ((opt_data.sortBy) ? '<a href="#" aria-haspopup="false" class="order-by aui-button" title="' + soy.$$escapeHtml(AJS.format('Order by {0}',opt_data.sortBy.fieldName)) + '" data-field-id="' + soy.$$escapeHtml(opt_data.sortBy.fieldId) + '" data-direction="' + soy.$$escapeHtml(opt_data.sortBy.order) + '">' + ((opt_data.sortBy.order == 'ASC') ? '<span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml(AJS.format('Order by {0}',opt_data.sortBy.fieldName)) + '</span>' : '<span class="aui-icon aui-icon-small aui-iconfont-new-arrow-down">' + soy.$$escapeHtml(AJS.format('Order by {0}',opt_data.sortBy.fieldName)) + '</span>') + '</a>' : '<a href="#" aria-haspopup="false" class="aui-button" aria-disabled="true" title="' + soy.$$escapeHtml('Order by') + '"><span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml('Order by') + '</span></a>') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderBy.soyTemplateName = 'JIRA.Templates.OrderBy.orderBy';
}


JIRA.Templates.OrderBy.orderByOptions = function(opt_data, opt_ignored) {
  var output = '<div class="field-group"><select id="order-by-options" multiple="multiple" class="hidden" aria-label="' + soy.$$escapeHtml('Select') + '"><optgroup data-footer-text="' + soy.$$escapeHtml(opt_data.footer) + '">';
  var optionList48 = opt_data.options;
  var optionListLen48 = optionList48.length;
  for (var optionIndex48 = 0; optionIndex48 < optionListLen48; optionIndex48++) {
    var optionData48 = optionList48[optionIndex48];
    output += '<option title="' + soy.$$escapeHtml(optionData48.fieldName) + '" value="' + soy.$$escapeHtml(optionData48.fieldId) + '" data-meta="' + soy.$$escapeHtml(optionData48.meta) + '">' + soy.$$escapeHtml(optionData48.fieldName) + '</option>';
  }
  output += '</optgroup></select></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderByOptions.soyTemplateName = 'JIRA.Templates.OrderBy.orderByOptions';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByModel.js' */
define("jira/components/orderby/orderbymodel",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/components/libs/brace"),d=a("jquery"),e=a("wrm/context-path");return c.Model.extend({namedEvents:["sort"],namedAttributes:["sortBy","jql"],initialize:function(){this.on("change:jql",this.updateSelectedSort,this)},updateSelectedSort:function(){d.ajax({type:"POST",url:e()+"/rest/orderbycomponent/latest/orderByOptions/primary",data:JSON.stringify({jql:this.getJql()}),contentType:"application/json",
success:b.bind(function(a){this.setSortBy(a)},this)})},toggleSort:function(){this.setJql(this.getSortBy().toggleJql);this.triggerSort(this.getJql())},doSort:function(a){this.setJql(a);this.triggerSort(this.getJql())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByView.js' */
define("jira/components/orderby/orderbyview",["require"],function(a){var d=a("jira/components/libs/brace"),b=a("jquery"),e=a("jira/util/events"),f=a("jira/components/orderby/eventtypes"),g=a("jira/components/orderby/templates"),h=a("jira/components/orderby/orderbydropdownview");return d.View.extend({template:g.orderBy,events:{"click a.order-by":"_onClickOrderBy","click a.order-options":"_toggleShowDropDown"},initialize:function(){this.model.on("change:sortBy",this.render,this)},render:function(){this.$el.html(this.template(this.model.toJSON()));
return this},deactivate:function(){this.orderByDropDown&&this.orderByDropDown.deactivate();this.undelegateEvents()},_onClickOrderBy:function(a){var c=new b.Event(f.ISSUE_TABLE_REORDER);e.trigger(c);c.isDefaultPrevented()||b(a.currentTarget).data("field-id")&&this.model.toggleSort();a.preventDefault()},_toggleShowDropDown:function(a){this.orderByDropDown||(this.orderByDropDown=new h({model:this.model,offsetTarget:this.$("a.order-options"),onHideCallback:function(){this.orderByDropDown=null}.bind(this)}));
this.orderByDropDown.toggle();a.preventDefault()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByDropDownView.js' */
define("jira/components/orderby/orderbydropdownview",["require"],function(b){var d=b("jira/components/libs/underscore"),h=b("jira/components/libs/brace"),f=b("jquery"),k=b("jira/util/events"),l=b("jira/components/orderby/eventtypes"),m=b("jira/components/orderby/templates"),e=b("jira/ajs/layer/inline-layer"),n=b("jira/ajs/select/checkbox-multi-select"),p=b("jira/ajs/select/suggestions/select-suggest-handler"),q=b("jira/ajs/list/group-descriptor"),r=b("jira/ajs/list/item-descriptor"),t=b("jira/issues/baseview"),
u=b("jira/issues/tipsy"),v=b("wrm/context-path");return h.View.extend({initialize:function(a){d.bindAll(this,"_onDropdownHidden","_onDropdownShown");this.offsetTarget=a.offsetTarget;this._onHideCallback=a.onHideCallback;this._inlineLayer=this._pending=null},deactivate:function(){this._inlineLayer&&this._inlineLayer.hide();t.prototype.deactivate.apply(this,arguments)},toggle:function(){this._inlineLayer?this._inlineLayer.hide():(this._pending=f.ajax(this._ajaxDefaults()),this._inlineLayer=this._createInlineLayer(this._pending),
this._inlineLayer.bind(e.EVENTS.show,this._onDropdownShown),this._inlineLayer.bind(e.EVENTS.hide,this._onDropdownHidden),this._inlineLayer.show())},_createInlineLayer:function(a){var c=d.bind(function(a){this._deferredAddTipsyToFooter(a);return this._renderInitialContent(a)},this),g=new e({offsetTarget:this.offsetTarget,content:function(){return a.pipe(c)},width:218});this._onHideCallback&&g.bind(e.EVENTS.hide,this._onHideCallback);return g},_initSingleSelect:function(a){var c=a.find("select");c.bind("selected",
d.bind(this._onFieldSelected,this));this.selectControl=new n({element:c,itemAttrDisplayed:"label",suggestionsHandler:p,ariaLabel:"Search",ajaxOptions:this._ajaxDefaults({data:d.bind(function(a){return JSON.stringify(this._ajaxOptionsData(a))},this),query:!0,minQueryLength:0,formatResponse:d.bind(function(a){this._removeTipsy();var c=new q;d.each(a.fields,function(a){c.addItem(new r({title:a.fieldName,value:a.fieldId,label:a.fieldName,meta:{sortJql:a.sortJql}}))});
var b=this._getFooterText(a);b&&(c.footerText(b),this._deferredAddTipsyToFooter(a));return[c]},this)})});a.find("#order-by-options-input").focus()},_ajaxDefaults:function(a){var c={url:v()+"/rest/orderbycomponent/latest/orderByOptions",type:"POST",contentType:"application/json",data:JSON.stringify(this._ajaxOptionsData())};return d.extend(c,a)},_ajaxOptionsData:function(a){var c=this.model.getJql(),b=this.model.getSortBy();return{query:a,jql:c?c:void 0,sortBy:b?b.fieldId:void 0}},_renderInitialContent:function(a){var c=
d.map(a.fields,function(a){return d.extend({},a,{meta:JSON.stringify({sortJql:a.sortJql})})});return f("\x3cform\x3e\x3c/form\x3e").addClass("order-dropdown aui top-label").html(m.orderByOptions({options:c,footer:this._getFooterText(a)}))},_onDropdownShown:function(a,c){this._initSingleSelect(c)},_onDropdownHidden:function(){this._removeTipsy();f("div.order-dropdown").remove();this._inlineLayer=null},_onFieldSelected:function(a,c){a=new f.Event(l.ISSUE_TABLE_REORDER);k.trigger(a);a.isDefaultPrevented()||
d.defer(d.bind(function(){this.selectControl.outstandingRequest&&this.selectControl.outstandingRequest.reject();e.current.hide();var a=c.meta();this.model.doSort(a.sortJql)},this))},_getFooterText:function(a){return"number"===typeof a.matchesCount&&"number"===typeof a.maxResults&&(a=a.matchesCount-a.maxResults,0<a)?AJS.format("{0} more fields...",a):""},_deferredAddTipsyToFooter:function(a){if(this._inlineLayer){var c=AJS.format("Showing {0} of {1} matching fields. Find more fields by typing in the search box.",
Math.min(a.matchesCount,a.maxResults),a.matchesCount),b=this;d.defer(function(){b._tipsyTrigger=new u({el:b._inlineLayer.$layer.find(".aui-list-section-footer"),tipsy:{title:function(){return c},className:"tipsy-front"}})})}},_removeTipsy:function(){this._tipsyTrigger&&(this._tipsyTrigger.hide(),this._tipsyTrigger=null)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderBy.js' */
define("jira/components/orderby",["require"],function(a){var d=a("jira/components/orderby/orderbyview"),e=a("jira/components/orderby/orderbymodel");return{create:function(c){c=c||{};var b=new e({sortBy:c.sortBy,jql:c.jql});var a=new d({model:b});return{onSort:function(){b.onSort.apply(b,arguments);return this},offSort:function(f){b.off("sort",f);return this},render:function(){a.render();return this},setElement:function(b){a.setElement(b);return this},getJql:function(){return b.getJql()},setJql:function(a){b.setJql(a);
return this},setSortBy:function(a){b.setSortBy(a);return this}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/eventtypes.js' */
define("jira/components/orderby/eventtypes",[],function(){return{ISSUE_TABLE_REORDER:"issueTableReorder"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/amd-wrapper.js' */
define("jira/components/orderby/templates",function(){return JIRA.Templates.OrderBy});AJS.namespace("JIRA.Templates.OrderBy",null,require("jira/components/orderby/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/namespace.js' */
AJS.namespace("JIRA.Components.OrderBy",null,require("jira/components/orderby"));AJS.namespace("JIRA.Issues.OrderByDropDownView",null,require("jira/components/orderby/orderbydropdownview"));AJS.namespace("JIRA.Issues.OrderByView",null,require("jira/components/orderby/orderbyview"));AJS.namespace("JIRA.Issues.OrderByModel",null,require("jira/components/orderby/orderbymodel"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone.paginator-2.0.2-factory', location = 'factories/backbone.paginator/2.0.2/backbone.paginator-2.0.2-factory.js' */
'use strict';(function(k){define("atlassian/libs/factories/backbone.paginator-2.0.2",function(){return function(l,n){k.call({_:l,Backbone:n});l=n.PageableCollection.noConflict();l.VERSION="2.0.2";return l}})})(function(){(function(k){var l=this.Backbone,n=l.PageableCollection,F=k(this._,l);l.PageableCollection.noConflict=function(){l.PageableCollection=n;return F}}).call(this,function(k,l){function n(a,b){if(!k.isNumber(a)||k.isNaN(a)||!k.isFinite(a)||~~a!==a)throw new TypeError("`"+b+"` must be a finite integer");
return a}function F(a){for(var b,e,c={},d=decodeURIComponent,f=a.split("\x26"),g=0,h=f.length;g<h;g++)b=f[g].split("\x3d"),a=b[0],b=b[1]||!0,a=d(a),b=d(b),e=c[a],A(e)?e.push(b):c[a]=e?[e,b]:b;return c}function G(a,b,e){if((a=a._events[b])&&a.length){var c=a[a.length-1],d=c.callback;c.callback=function(){try{d.apply(this,arguments),e()}catch(f){throw f;}finally{c.callback=d}}}else e()}var p=k.extend,r=k.omit,v=k.clone,q=k.each,K=k.pick,L=k.contains,H=k.isEmpty,I=k.pairs,R=k.invert,A=k.isArray,B=k.isFunction,
M=k.isObject,y=k.keys,z=k.isUndefined,C=Math.ceil,N=Math.floor,J=Math.max,D=l.Collection.prototype,O=/[\s'"]/g,S=/[<>\s'"]/g,Q=l.PageableCollection=l.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(a,b){D.constructor.apply(this,
arguments);b=b||{};var e=this.mode=b.mode||this.mode||x.mode,c=p({},x.queryParams,this.queryParams,b.queryParams||{});c.directions=p({},x.queryParams.directions,this.queryParams.directions,c.directions||{});this.queryParams=c;c=this.state=p({},x.state,this.state,b.state||{});c.currentPage=null==c.currentPage?c.firstPage:c.currentPage;A(a)||(a=a?[a]:[]);a=a.slice();"server"==e||null!=c.totalRecords||H(a)||(c.totalRecords=a.length);this.switchMode(e,p({fetch:!1,resetState:!1,models:a},b));var d=b.comparator;
c.sortKey&&!d&&this.setSorting(c.sortKey,c.order,b);"server"!=e&&(e=this.fullCollection,d&&b.full&&(this.comparator=null,e.comparator=d),b.full&&e.sort(),a&&!H(a)&&(this.reset(a,p({silent:!0},b)),this.getPage(c.currentPage),a.splice.apply(a,[0,a.length].concat(this.models))));this._initState=v(this.state)},_makeFullCollection:function(a,b){var e=["url","model","sync","comparator"],c=this.constructor.prototype,d,f={};var g=0;for(d=e.length;g<d;g++){var h=e[g];z(c[h])||(f[h]=c[h])}a=new (l.Collection.extend(f))(a,
b);g=0;for(d=e.length;g<d;g++)h=e[g],this[h]!==c[h]&&(a[h]=this[h]);return a},_makeCollectionEventHandler:function(a,b){return function(e,c,d,f){var g=a._handlers;q(y(g),function(d){var c=g[d];a.off(d,c);b.off(d,c)});var h=v(a.state),t=h.firstPage,k=h.pageSize,m=(0===t?h.currentPage:h.currentPage-1)*k,l=m+k;if("add"==e){var n;f=f||{};if(d==b){var u=b.indexOf(c);if(u>=m&&u<l){var r=a;var w=n=u-m}}else w=a.indexOf(c),u=m+w,r=b,n=z(f.at)?u:f.at+m;f.onRemove||(++h.totalRecords,delete f.onRemove);a.state=
a._checkState(h);if(r){r.add(c,p({},f||{},{at:n}));var P=w>=k?c:!z(f.at)&&n<l&&a.length>k?a.at(k):null;P&&G(d,e,function(){a.remove(P,{onAdd:!0})})}}if("remove"==e)if(f.onAdd)delete f.onAdd;else{--h.totalRecords?(w=h.totalPages=C(h.totalRecords/k),h.lastPage=0===t?w-1:w||t,h.currentPage>w&&(h.currentPage=h.lastPage)):(h.totalRecords=null,h.totalPages=null);a.state=a._checkState(h);var E;t=f.index;d==a?((E=b.at(l))?G(a,e,function(){a.push(E,{onRemove:!0})}):!a.length&&h.totalRecords&&a.reset(b.models.slice(m-
k,l-k),p({},f,{parse:!1})),b.remove(c)):t>=m&&t<l&&((E=b.at(l-1))&&G(a,e,function(){a.push(E,{onRemove:!0})}),a.remove(c),!a.length&&h.totalRecords&&a.reset(b.models.slice(m-k,l-k),p({},f,{parse:!1})))}"reset"==e&&(f=d,d=c,d==a&&null==f.from&&null==f.to?(h=b.models.slice(0,m),k=b.models.slice(m+a.models.length),b.reset(h.concat(a.models).concat(k),f)):d==b&&((h.totalRecords=b.models.length)||(h.totalRecords=null,h.totalPages=null),"client"==a.mode&&(h.lastPage=h.currentPage=h.firstPage),a.state=a._checkState(h),
a.reset(b.models.slice(m,l),p({},f,{parse:!1}))));"sort"==e&&(f=d,c===b&&a.reset(b.models.slice(m,l),p({},f,{parse:!1})));q(y(g),function(d){var c=g[d];q([a,b],function(a){a.on(d,c);a=a._events[d]||[];a.unshift(a.pop())})})}},_checkState:function(a){var b=this.mode,e=this.links,c=a.totalRecords,d=a.pageSize,f=a.currentPage,g=a.firstPage;if(null!=c&&null!=d&&null!=f&&null!=g&&("infinite"==b?e:1)){c=n(c,"totalRecords");d=n(d,"pageSize");f=n(f,"currentPage");g=n(g,"firstPage");if(1>d)throw new RangeError("`pageSize` must be \x3e\x3d 1");
c=a.totalPages=C(c/d);if(0>g||1<g)throw new RangeError("`firstPage must be 0 or 1`");a.lastPage=0===g?J(0,c-1):c||g;if("infinite"==b){if(!e[f+""])throw new RangeError("No link found for page "+f);}else if(f<g||0<c&&(g?f>c:f>=c))throw new RangeError("`currentPage` must be firstPage \x3c\x3d currentPage "+(g?"\x3e":"\x3e\x3d")+" totalPages if "+g+"-based. Got "+f+".");}return a},setPageSize:function(a,b){a=n(a,"pageSize");b=b||{first:!1};var e=this.state,c=C(e.totalRecords/a),d=c?J(e.firstPage,N(c*
e.currentPage/e.totalPages)):e.firstPage;e=this.state=this._checkState(p({},e,{pageSize:a,currentPage:b.first?e.firstPage:d,totalPages:c}));return this.getPage(e.currentPage,r(b,["first"]))},switchMode:function(a,b){if(!L(["server","client","infinite"],a))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');b=b||{fetch:!0,resetState:!0};var e=this.state=b.resetState?v(this._initState):this._checkState(p({},this.state));this.mode=a;var c=this,d=this.fullCollection,f=this._handlers=
this._handlers||{},g;if("server"==a||d)"server"==a&&d&&(q(y(f),function(a){g=f[a];c.off(a,g);d.off(a,g)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{d=this._makeFullCollection(b.models||[],b);d.pageableCollection=this;this.fullCollection=d;var h=this._makeCollectionEventHandler(this,d);q(["add","remove","reset","sort"],function(a){f[a]=g=k.bind(h,{},a);c.on(a,g);d.on(a,g)});d.comparator=this._fullComparator}if("infinite"==a){a=this.links={};var t=e.firstPage,
l=C(e.totalRecords/e.pageSize);t=0===t?J(0,l-1):l||t;for(e=e.firstPage;e<=t;e++)a[e]=this.url}else this.links&&delete this.links;return b.fetch?this.fetch(r(b,"fetch","resetState")):this},hasPreviousPage:function(){var a=this.state,b=a.currentPage;return"infinite"!=this.mode?b>a.firstPage:!!this.links[b-1]},hasNextPage:function(){var a=this.state,b=this.state.currentPage;return"infinite"!=this.mode?b<a.lastPage:!!this.links[b+1]},getFirstPage:function(a){return this.getPage("first",a)},getPreviousPage:function(a){return this.getPage("prev",
a)},getNextPage:function(a){return this.getPage("next",a)},getLastPage:function(a){return this.getPage("last",a)},getPage:function(a,b){var e=this.mode,c=this.fullCollection;b=b||{fetch:!1};var d=this.state,f=d.firstPage,g=d.currentPage,h=d.lastPage,k=d.pageSize;switch(a){case "first":a=f;break;case "prev":a=g-1;break;case "next":a=g+1;break;case "last":a=h;break;default:a=n(a,"index")}this.state=this._checkState(p({},d,{currentPage:a}));b.from=g;b.to=a;d=(0===f?a:a-1)*k;c=c&&c.length?c.models.slice(d,
d+k):[];if(("client"==e||"infinite"==e&&!H(c))&&!b.fetch)return this.reset(c,r(b,"fetch")),this;"infinite"==e&&(b.url=this.links[a]);return this.fetch(r(b,"fetch"))},getPageByOffset:function(a,b){if(0>a)throw new RangeError("`offset must be \x3e 0`");a=n(a);a=N(a/this.state.pageSize);0!==this.state.firstPage&&a++;a>this.state.lastPage&&(a=this.state.lastPage);return this.getPage(a,b)},sync:function(a,b,e){var c=this;if("infinite"==c.mode){var d=e.success,f=c.state.currentPage;e.success=function(a,
b,k){var g=c.links,h=c.parseLinks(a,p({xhr:k},e));h.first&&(g[c.state.firstPage]=h.first);h.prev&&(g[f-1]=h.prev);h.next&&(g[f+1]=h.next);d&&d(a,b,k)}}return(D.sync||l.sync).call(c,a,b,e)},parseLinks:function(a,b){var e={};if(a=b.xhr.getResponseHeader("Link")){var c=["first","prev","next"];q(a.split(","),function(a){a=a.split(";");var b=a[0].replace(S,"");a=a.slice(1);q(a,function(a){var d=a.split("\x3d");a=d[0].replace(O,"");d=d[1].replace(O,"");"rel"==a&&L(c,d)&&(e[d]=b)})})}return e},parse:function(a,
b){var e=this.parseState(a,v(this.queryParams),v(this.state),b);e&&(this.state=this._checkState(p({},this.state,e)));return this.parseRecords(a,b)},parseState:function(a,b,e,c){if(a&&2===a.length&&M(a[0])&&A(a[1])){var d=v(e),f=a[0];q(I(r(b,"directions")),function(a){var b=a[0];a=a[1];var c=f[a];z(c)||k.isNull(c)||(d[b]=f[a])});f.order&&(d.order=1*R(b.directions)[f.order]);return d}},parseRecords:function(a,b){return a&&2===a.length&&M(a[0])&&A(a[1])?a[1]:a},fetch:function(a){a=a||{};var b=this._checkState(this.state),
e=this.mode;"infinite"!=e||a.url||(a.url=this.links[b.currentPage]);var c=a.data||{},d=a.url||this.url||"";B(d)&&(d=d.call(this));var f=d.indexOf("?");-1!=f&&(p(c,F(d.slice(f+1))),d=d.slice(0,f));a.url=d;a.data=c;var g="client"==this.mode?K(this.queryParams,"sortKey","order"):r(K(this.queryParams,y(x.queryParams)),"directions"),h=I(g);d=v(this);for(f=0;f<h.length;f++){var k=h[f];var l=k[0];var m=k[1];m=B(m)?m.call(d):m;null!=b[l]&&null!=m&&(c[m]=b[l])}b.sortKey&&b.order?(f=B(g.order)?g.order.call(d):
g.order,c[f]=this.queryParams.directions[b.order+""]):b.sortKey||delete c[g.order];b=I(r(this.queryParams,y(x.queryParams)));for(f=0;f<b.length;f++)k=b[f],m=k[1],m=B(m)?m.call(d):m,null!=m&&(c[k[0]]=m);if("server"!=e){var n=this,q=this.fullCollection,u=a.success;a.success=function(b,d,c){c=c||{};z(a.silent)?delete c.silent:c.silent=a.silent;var f=b.models;"client"==e?q.reset(f,c):(q.add(f,p({at:q.length},p(c,{parse:!1}))),n.trigger("reset",n,c));u&&u(b,d,c)};return D.fetch.call(this,p({},a,{silent:!0}))}return D.fetch.call(this,
a)},_makeComparator:function(a,b,e){var c=this.state;a=a||c.sortKey;b=b||c.order;if(a&&b)return e||(e=function(a,b){return a.get(b)}),function(c,f){c=e(c,a);f=e(f,a);if(1===b){var d=c;c=f;f=d}return c===f?0:c<f?-1:1}},setSorting:function(a,b,e){var c=this.state;c.sortKey=a;c.order=b=b||c.order;c=this.fullCollection;var d=!1,f=!1;a||(d=f=!0);var g=this.mode;e=p({side:"client"==g?g:"server",full:!0},e);a=this._makeComparator(a,b,e.sortValue);b=e.full;e=e.side;"client"==e?b?(c&&(c.comparator=a),d=!0):
(this.comparator=a,f=!0):"server"!=e||b||(this.comparator=a);d&&(this.comparator=null);f&&c&&(c.comparator=null);return this}}),x=Q.prototype;return Q})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone.paginator', location = 'libs/backbone.paginator.js' */
define("jira/components/libs/backbone.paginator",["require"],function(a){var b=a("atlassian/libs/factories/backbone.paginator-2.0.2"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:latest-search-store', location = 'search/LatestSearchStore.js' */
define("jira/components/search/latestStorage",["require"],function(c){var e=c("jquery"),d=c("jira/data/local-storage");return{get:function(){try{var a=d.getItem("jira.issue.navigator.latest.search");if(a){var b=e.parseJSON(a);if(b.jql||b.filter)return b}}catch(f){return{}}},save:function(a){try{d.setItem("jira.issue.navigator.latest.search",JSON.stringify(a))}catch(b){}}}});AJS.namespace("JIRA.Issues.LatestSearch",null,require("jira/components/search/latestStorage"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/Search.js' */
define("jira/components/search",["require"],function(c){var f=c("wrm/context-path"),e=c("jira/components/libs/backbone"),d=c("jira/components/libs/underscore"),g=c("jquery"),h=c("jira/components/search/results"),k=c("jira/components/search/latestStorage");return e.Collection.extend({url:function(){return f()+"/rest/issueNav/1/issueTable"},searchParams:{jql:"",filterId:null,columnConfig:"explicit",columns:[],layoutKey:"split-view",startIndex:0},sync:function(){var a=d.toArray(arguments),b=a[2];b.type=
"POST";b.headers={"X-Atlassian-Token":"no-check"};b.data={};d.each(d.keys(this.searchParams),function(a){null!==this.searchParams[a]&&(b.data[a]=this.searchParams[a])},this);return e.Collection.prototype.sync.apply(this,a)},parse:function(a){var b=a&&a.issueTable;return b&&b.issueIds?d.map(b.issueIds,function(a,c){return{id:a,key:b.issueKeys[c]}}):[]},update:function(a){this.set(this.parse(a))},setPreloadedData:function(a){this.preloadedData=a;this.reset(a.response,{parse:!0});return this.parseResults(a.jql,
a.response)},parseResults:function(a,b){k.save({jql:a});return new h([],{issues:this.toJSON(),pageSize:b.issueTable.pageSize,totalRecordsInDB:b.issueTable.total,totalRecordsInSearch:this.length,jql:a})},search:function(a){this.searchParams.jql=a;var b=new g.Deferred;this.preloadedData&&this.preloadedData.jql===a?(this.reset(this.preloadedData.response,{parse:!0}),b.resolve(this.parseResults(a,this.preloadedData.response)),delete this.preloadedData):this.fetch({reset:!0,success:d.bind(function(a,c){b.resolve(this.parseResults(a.searchParams.jql,
c))},this),error:function(a,c){b.reject(c)}});return b.promise()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResult.js' */
define("jira/components/search/result",["require"],function(c){var d=c("wrm/context-path");return c("jira/components/libs/backbone").Model.extend({initialize:function(){this.url=function(){return d()+"/rest/api/2/issue/"+this.id+"?fields\x3dsummary,status,issuetype"}},parse:function(a){var b={};a.inaccessible?(b.id=parseInt(a.id,10),b.key=a.key,b.inaccessible=!0):(b.id=parseInt(a.id,10),b.key=a.key,a.fields?(b.summary=a.fields.summary,b.status=a.fields.status.name,b.type={description:a.fields.issuetype.description,
iconUrl:a.fields.issuetype.iconUrl,name:a.fields.issuetype.name}):(b.status=a.status,b.summary=a.summary,b.type=a.type));return b}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResults.js' */
define("jira/components/search/results",["require"],function(e){var p=e("wrm/context-path"),g=e("jira/components/libs/backbone.paginator"),f=e("jira/components/libs/underscore"),h=e("jquery"),m=e("jira/components/search/result");e=e("jira/legacy/deprecator");var n=g.extend({initialize:function(a,b){b=b||{};this.allIssues=b.issues;this.state.pageSize=b.pageSize;this.state.totalRecords=b.totalRecordsInSearch;this.totalRecordsInDB=b.totalRecordsInDB;this.allowNoSelection=b.allowNoSelection;this.jql=
b.jql},model:m,url:function(){return p()+"/rest/issueNav/1/issueTable/stable"},state:{firstPage:0,currentPage:0},queryParams:{currentPage:null,pageSize:null,totalPages:null,totalRecords:null,sortKey:null,directions:null},sync:function(){var a=f.toArray(arguments),b=a[2];b.type="POST";b.headers={"X-Atlassian-Token":"no-check"};b.data.layoutKey="split-view";b.data.id=this._getStableKeys();return g.prototype.sync.apply(this,a)},isAtTheEndOfStableSearch:function(){var a=this.totalRecordsInDB>this.state.totalRecords;
return this.state.currentPage===this.state.lastPage&&a},setPreloadedData:function(a){this.preloadedData=a;this.reset(a.response,{parse:!0})},_getStableKeys:function(a){a="undefined"===typeof a?this._getStartIndex():a;return f.pluck(this.allIssues,"id").slice(a,a+this.state.pageSize)},_getStartIndex:function(){return this.state.pageSize*this.state.currentPage},_loadPageAndSelect:function(a,b){var c=new h.Deferred;this.trigger("before:loadpage",{pageToLoad:a});this.getPage(a,{fetch:!0,reset:!0}).done(f.bind(function(){this.select(b);
c.resolve(this.length)},this)).fail(f.bind(function(a){c.reject(a);this.trigger("error:loadpage",a)},this));return c.promise()},fetch:function(a){this.preloadedData&&f.isEqual(this.preloadedData.ids,this._getStableKeys(this.state.pageSize*a.to))?(this.reset(this.preloadedData.response,{parse:!0}),a=(new h.Deferred).resolve().promise(),delete this.preloadedData):a=g.prototype.fetch.call(this,a);return a},jumpToPage:function(a){var b=new h.Deferred;this._loadPageAndSelect(a,"first").done(b.resolve).fail(b.reject);
return b.promise()},jumpToPageForIssue:function(a){for(var b=new h.Deferred,c="number"===typeof a,d="string"===typeof a,e,l,k=0,g=this.allIssues.length;k<g&&!l;k++)if(c&&this.allIssues[k].id===a||d&&this.allIssues[k].key===a)l=this.allIssues[k],e=Math.floor(k/this.state.pageSize);"number"===typeof e&&isFinite(e)?this._loadPageAndSelect(e,l.id).done(b.resolve):this.allowNoSelection?this._loadPageAndSelect("first",null).done(f.bind(function(){this.trigger("selectIssueNotInList",new m({id:c?a:void 0,
key:d?a:void 0}))},this)).done(b.resolve):this._loadPageAndSelect("first","first").done(b.resolve);return b.promise()},parse:function(a,b){var c=b.data,d=a&&a.issueTable,e=this.allIssues;f.each(d.table,function(a,b){null===a&&(a=f.findWhere(e,{id:c.id[b]}))&&(d.table[b]={id:a.id,key:a.key,inaccessible:!0})});return g.prototype.parse.call(this,d)},parseState:function(){return{}},parseRecords:function(a){return a.table?a.table:[]},select:function(a){if("string"===typeof a)switch(a){case "first":a=this.at(0);
break;case "last":a=this.at(this.length-1);break;default:a=this.findWhere({key:a})}else"number"===typeof a&&(a=this.get(a));this.selected!==a&&this.unselect();a&&(this.selected=a,this.selected.trigger("select",this.selected))},unselect:function(){this.selected&&this.selected.trigger("unselect",this.selected);this.selected=null},navigate:function(a){var b=this.indexOf(this.selected)+a,c=this.at(b);c?this.select(c):0<a&&this.hasNextPage()?this._loadPageAndSelect("next","first"):0>a&&this.hasPreviousPage()&&
this._loadPageAndSelect("prev","last");return{current:b,total:this.length}},selectNext:function(){return this.navigate(1)},selectPrev:function(){return this.navigate(-1)},_getIssueByNavigation:function(a){var b=this.indexOf(this.selected);b=this.at(b+a);var c=new h.Deferred;b?(this.select(b),c.resolve(b)):0<a&&this.hasNextPage()?this._loadPageAndSelect("next","first").done(function(){c.resolve(this.selected)}.bind(this)):0>a&&this.hasPreviousPage()?this._loadPageAndSelect("prev","last").done(function(){c.resolve(this.selected)}.bind(this)):
c.reject();return c.promise()},getNextIssue:function(){return this._getIssueByNavigation(1)},getPreviousIssue:function(){return this._getIssueByNavigation(-1)},updateSelectedIssue:function(){this.selected&&this.selected.fetch()},updateIssue:function(a){(a=this.get(a))&&a.fetch()},hasIssueInSearch:function(a){return!!f.where(this.allIssues,{key:a}).length},isEmptySearch:function(){return!this.allIssues.length},removeAndUpdateSelectionIfNeeded:function(a){var b=a.get("key");var c=f.chain(this.allIssues).map(function(a){return a.key}).value();
var d=f.indexOf(c,b);c=d+1<c.length?c[d+1]:0<=d-1?c[d-1]:null;for(d=0;d<this.allIssues.length;d++)if(this.allIssues[d].key===b){this.allIssues.splice(d,1);break}--this.state.totalRecords;--this.totalRecordsInDB;this.unselect();this.remove(a);return c?this.jumpToPageForIssue(c).done(f.bind(function(){this.trigger("issueDeleted")},this)):(new h.Deferred).resolve(0).promise().done(f.bind(function(){this.trigger("issueDeleted")},this))},getIssueKeyForIndex:function(a){if(a=this.allIssues[a])return a.key},
getIssueAtGlobalIndex:function(a){return this.allIssues[a]},getPositionOfIssueInSearchResults:function(a){a=f.indexOf(f.pluck(this.allIssues,"id"),a);return-1<a?a:null},getPositionOfIssueInPage:function(a){a=this.get(a);a=this.indexOf(a);return-1<a?a:null},getTotalIssues:function(){return this.getTotalIssuesInSearch()},getTotalIssuesInSearch:function(){return this.allIssues.length},getTotalIssuesInDb:function(){return this.totalRecordsInDB}});e.prop(n.prototype,"getTotalIssues",{removeInVersion:"8.0",
alternativeName:"jira/components/search/results#getTotalIssuesInSearch()",sinceVersion:"7.1",displayName:"Method jira/components/search/results#getTotalIssues()"});return n});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.dropdown2', location = 'aui.chunk.cd9f5569dcb72bed88f1--05d1b4e45d0a9adbf635.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.dropdown2"],[],[["XHZH","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.vendors--95c789edf5","aui.splitchunk.vendors--9c48cc20a9","aui.splitchunk.vendors--084821f40b","aui.splitchunk.vendors--d2297af84a","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.dd803a46b4","aui.splitchunk.994e478d48","aui.splitchunk.e54c7c7304","aui.splitchunk.fb15cffa72","aui.splitchunk.56dfb54d0c","aui.splitchunk.f1e06f97a4","aui.splitchunk.479fe6ee76","aui.splitchunk.f673ef53ac","aui.splitchunk.8659b532c1","aui.splitchunk.9c48cc20a9","aui.splitchunk.5f851f97df","aui.splitchunk.d0110a864f","aui.splitchunk.afa5039e04","aui.splitchunk.bff3715233","aui.splitchunk.c750721820","aui.splitchunk.6d6f245ed3","aui.splitchunk.ed86a19e01","aui.splitchunk.084821f40b","aui.splitchunk.2e16019fb9","aui.splitchunk.5b8c290363","aui.splitchunk.baa83dbaf9","aui.splitchunk.e5af17b48e","aui.splitchunk.f154095da3","aui.splitchunk.36cd9d521c","aui.splitchunk.4248e12b20","aui.splitchunk.b548966f06"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--c7d6d1dc80', location = 'aui.chunk.4daa1caa519b1595efa1--ad657c8d091f03261d99.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--c7d6d1dc80"],{"2NYx":function(t,i,o){var e,n,l;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */n=[o("oDIA"),o("O+lX")],void 0===(l="function"==typeof(e=function(t){return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(i,o){return parseInt(t.css(i,o),10)||0}function a(i){var o=i[0];return 9===o.nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:t.isWindow(o)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=t.isWindow(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:e||n?{left:0,top:0}:t(i).offset(),scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);i=t.extend({},i);var h,d,g,u,m,w,W=t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),x={};return w=a(W),W[0].preventDefault&&(i.at="left top"),d=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=s.exec(e[0]),o=s.exec(e[1]),x[this]=[t?t[0]:0,o?o[0]:0],i[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=d:"center"===i.at[0]&&(m.left+=d/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=p(x.at,d,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,s=t(this),f=s.outerWidth(),r=s.outerHeight(),a=c(this,"marginLeft"),w=c(this,"marginTop"),b=f+a+c(this,"marginRight")+y.width,T=r+w+c(this,"marginBottom")+y.height,L=t.extend({},m),P=p(x.my,s.outerWidth(),s.outerHeight());"right"===i.my[0]?L.left-=f:"center"===i.my[0]&&(L.left-=f/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:a,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:d,targetHeight:g,elemWidth:f,elemHeight:r,collisionPosition:n,collisionWidth:b,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:s})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+d-f,h=u.top-L.top,p=h+g-r,c={target:{element:W,left:u.left,top:u.top,width:d,height:g},element:{element:s,left:L.left,top:L.top,width:f,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};d<f&&e(n+l)<d&&(c.horizontal="center"),g<r&&e(h+p)<g&&(c.vertical="middle"),o(e(n),e(l))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",i.using.call(this,t,c)}),s.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,f=t.left-i.collisionPosition.marginLeft,h=l-f,r=f+i.collisionWidth-s-l;i.collisionWidth>s?h>0&&r<=0?(e=t.left+h+i.collisionWidth-s-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+s-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-f,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,s=i.within.height,f=t.top-i.collisionPosition.marginTop,h=l-f,r=f+i.collisionHeight-s-l;i.collisionHeight>s?h>0&&r<=0?(e=t.top+h+i.collisionHeight-s-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+s-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-f,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,s=l.offset.left+l.scrollLeft,f=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-f-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-f-s)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,s=l.offset.top+l.scrollTop,f=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-f-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((n=t.top+a+d+g+i.collisionHeight-f-s)<0||n<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position})?e.apply(i,n):e)||(t.exports=l)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.position', location = 'aui.chunk.d4018b1ae0ce6e8d6fb5--c52e93289917138d1a5f.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.position"],{"7ih8":function(i,u,n){"use strict";n.r(u);n("2NYx");u.default="jquery"}},[["7ih8","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--c7d6d1dc80","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:brace', location = '/inline-issue-create/lib/backbone.brace/backbone.brace-amd.js' */
define("jira/inline-issue-create/lib/brace",["backbone","underscore","atlassian/libs/factories/brace-2014.09.03"],function(a,b,c){return c(b,a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:marionette', location = '/inline-issue-create/lib/backbone.marionette/backbone.marionette-amd.js' */
define("jira/inline-issue-create/lib/marionette",["jquery","jira/util/logger","backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(d,e,a,c,b){a=b(c,a);b={unwrapTemplate:function(){var a=this.$el.children();1<a.length&&e.warn("[IIC] Unwrapping template with more than one child - some content will be lost");a=d(a.get(0));this.$el.parent().length&&this.$el.replaceWith(a);this.setElement(a)}};c.extend(a.ItemView.prototype,b);c.extend(a.CompositeView.prototype,b);c.extend(a.CollectionView.prototype,
b);c.extend(a.LayoutView.prototype,b);return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:util', location = '/inline-issue-create/util/util.js' */
define("jira/inline-issue-create/util",["jira/util/logger","underscore","jquery"],function(c,e,k){var f=(document.body||document.documentElement).style,g=["oAnimationEnd","MSAnimationEnd","mozAnimationEnd","webkitAnimationEnd","animationend"],h;return{cssAnimationsSupport:void 0!==f.transition||void 0!==f.WebkitTransition||void 0!==f.MozTransition||void 0!==f.MsTransition||void 0!==f.OTransition,addClassAndRemoveOnAnimationEnd:function(b,a,l){function c(){for(d=0;d<g.length;d++)b.off(g[d],c);b.removeClass(a)}
var d;b=k(b);if(this.cssAnimationsSupport)for(d=0;d<g.length;d++)b.on(g[d],c);else setTimeout(function(){b.removeClass(a)},l||1E3);b.addClass(a)},scrollElementToView:function(b,a){var c=b[0].getBoundingClientRect();a=a[0].getBoundingClientRect();var e=b.scrollTop(),d=0;a.top<c.top?d=a.top-c.top:c.bottom<a.bottom&&(d=a.bottom-c.bottom);0!==d&&b.scrollTop(e+d)},keyCode:{ENTER:13,ESC:27},after:function(b,a,c){if(!e.isFunction(c))throw"Body is not a function";b[a]=e.wrap(b[a],function(a){var d=Array.prototype.slice.call(arguments,
1),f=a.apply(b,d);c.apply(this,e.union([f],d));return f})},error:function(b){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.error.apply(c,a)},debug:function(b){if(this.shouldDisplay(b)){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.debug.apply(c,a)}},trace:function(b){if(this.shouldDisplay(b)){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.debug.apply(c,a)}},shouldDisplay:function(b){return"all"===
h||b===h?!0:!1},showLogsFor:function(b){h=b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:analytics', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-analytics.js' */
define("jira/inline-issue-create/analytics",["underscore","jira/analytics","jira/inline-issue-create/lib/marionette"],function(e,f,g){return g.Controller.extend({initialize:function(a){this.loadTimestamp=(new Date).getTime();a=a.widget;this.widgetId=a.model.cid.substring(1);this.projects=a.projects;this.listenTo(a,"issueCreated",this.onIssueCreated);this.listenTo(a,"openCreateIssueDialog",this.onOpenCreateIssueDialog);this.listenTo(a,"activated",this.onActivated);this.listenTo(a,"deactivated",this.onDeactivated)},
triggerAnalytics:function(a,c){var d="",b="";this.projects&&0<this.projects.size()&&(b=this.projects.first(),d=b.get("id"),b=b.get("type"));c=e.defaults({},c,{instance:parseInt(this.widgetId,10),timestarted:this.loadTimestamp,projectId:d,projectType:b});f.send({name:"jira.inlinecreate."+a,data:c})},onOpenCreateIssueDialog:function(a){this.triggerAnalytics("openDialog",{reason:a.reason})},onIssueCreated:function(a,c,d,b){"inline"===b.source?this.triggerAnalytics("issueCreatedInline"):this.triggerAnalytics("issueCreatedDialog")},
onDeactivated:function(){this.triggerAnalytics("deactivated")},onActivated:function(){this.triggerAnalytics("activated")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/custom-form-container-factory.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","underscore"],function(e,f,b){return{build:function(){return JIRA.Forms.Container.extend({lazyInit:function(){var a=this.options.call(this);this.prefilledValues=a.prefilledValues;this.prefilledValues.fieldsToRetain=b.keys(a.prefilledValues);this.prefilledValues=f.param(a.prefilledValues);this.options=function(){return a};return this._super()},render:function(){var a=this,
c=new e;this.lazyInit();b.isFunction(a.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(c){a.model.markFieldAsDirty(c)});a.model.getUseConfigurableForm().done(function(b){!0===b?a.configurableForm.render(a.prefilledValues).done(function(b,d){c.resolveWith(a,[a.$element]);a.$element.append(d)}):a.unconfigurableForm.render(a.prefilledValues).done(function(b,d){c.resolveWith(a,[a.$element,d]);a.$element.append(d)})}).fail(function(){c.resolveWith(a,[a.$element])});
return c.promise()}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog-init-form.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/init-form",["jira/util/formatter","underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(e,d,h){return function(k,c){if(!d.isObject(c))throw Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var l=JIRA.Forms.CreateIssueModel,m=JIRA.Forms.ConfigurableCreateIssueForm,n=JIRA.Forms.UnconfigurableCreateIssueForm,
p=JIRA.Forms.CreateIssueError,q=JIRA.applyErrorsToForm,r=JIRA.applyErrorMessageToForm,a;c.done(function(b){a=b;a.prefilledFields=a.prefilledFields||{};a.errors=a.errors||{};a.errorMessages=a.errorMessages||{}}).fail(function(){a={prefilledFields:{},errors:{},errorMessages:{}}});var b=new (h.build())(function(){var b="Create Issue",c=["PrefillableCreateIssueDialog"],f=new l({projectId:void 0,issueType:void 0}),d=new m({model:f,title:b,globalEventNamespaces:c});b=new n({model:f,
title:b,globalEventNamespaces:c});return{globalEventNamespaces:c,model:f,errorHandler:new p,configurableForm:d,unconfigurableForm:b,prefilledValues:a.prefilledFields}}),g=b.asDialog({windowTitle:"Create Issue",id:"prefillable-create-issue-dialog"});g.options.delayShowUntil=function(){return c};b.asDialog=function(){return b.dialog};g.onContentReady(function(){d.keys(a.errors).length&&(a.errorMessages.unshift("Please fix the fields marked below."),q(b.$element,a.errors));
a.errorMessages.length&&r(b.$element,a.errorMessages.join("\x3cbr/\x3e"))});k.resolve(b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog","jira/util/formatter jira/jquery/deferred wrm/require jira/loading/loading jira/flag jira/inline-issue-create/prefillable-create-issue-dialog/init-form".split(" "),function(d,e,f,k,a,g){var n=AJS.dim,p=AJS.undim;return{createPrefillableCreateIssueForm:function(c,m){var h=new e;m&&(n(),k.showLoadingIndicator());f(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],g.bind(void 0,h,c)).fail(function(){m&&(p(),k.hideLoadingIndicator());
a.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")});return h.promise()}}});
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","underscore"],function(d,e,f){var k=JIRA.Forms.Container;return{build:function(){return k.extend({lazyInit:function(){var a=this.options.call(this);this.prefilledValues=a.prefilledValues;this.prefilledValues.fieldsToRetain=f.keys(a.prefilledValues);this.prefilledValues=e.param(a.prefilledValues);this.options=function(){return a};return this._super()},render:function(){var a=
this,g=new d;this.lazyInit();f.isFunction(a.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(g){a.model.markFieldAsDirty(g)});a.model.getUseConfigurableForm().done(function(d){!0===d?a.configurableForm.render(a.prefilledValues).done(function(d,c){g.resolveWith(a,[a.$element]);a.$element.append(c)}):a.unconfigurableForm.render(a.prefilledValues).done(function(d,c){g.resolveWith(a,[a.$element,c]);a.$element.append(c)})}).fail(function(){g.resolveWith(a,[a.$element])});
return g.promise()}})}}});
define("jira/inline-issue-create/prefillable-create-issue-dialog/ondone",["jira/util/formatter","underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(d,e,f){var k=JIRA.Forms.CreateIssueModel,a=JIRA.Forms.ConfigurableCreateIssueForm,g=JIRA.Forms.UnconfigurableCreateIssueForm,n=JIRA.Forms.CreateIssueError,p=JIRA.applyErrorsToForm,c=JIRA.applyErrorMessageToForm;return function(m,h){if(!e.isObject(h))throw Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var b;
h.done(function(a){b=a;b.prefilledFields=b.prefilledFields||{};b.errors=b.errors||{};b.errorMessages=b.errorMessages||{}}).fail(function(){b={prefilledFields:{},errors:{},errorMessages:{}}});var l=new (f.build())(function(){var c="Create Issue",e=["PrefillableCreateIssueDialog"],f=new k({projectId:void 0,issueType:void 0}),h=new a({model:f,title:c,globalEventNamespaces:e});c=new g({model:f,title:c,globalEventNamespaces:e});return{globalEventNamespaces:e,model:f,errorHandler:new n,
configurableForm:h,unconfigurableForm:c,prefilledValues:b.prefilledFields}}),q=l.asDialog({windowTitle:"Create Issue",id:"prefillable-create-issue-dialog"});q.options.delayShowUntil=function(){return h};l.asDialog=function(){return l.dialog};q.onContentReady(function(){e.keys(b.errors).length&&(b.errorMessages.unshift("Please fix the fields marked below."),p(l.$element,b.errors));b.errorMessages.length&&c(l.$element,b.errorMessages.join("\x3cbr/\x3e"))});m.resolve(l)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.soy' */
// This file was automatically generated from inline-issue-create-widget.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.InlineIssueCreate.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.InlineIssueCreate == 'undefined') { JIRA.Templates.InlineIssueCreate = {}; }


JIRA.Templates.InlineIssueCreate.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><div class="iic-trigger"><button type="button" class="aui-button aui-button-subtle"><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml('Create issue') + '</span> ' + soy.$$escapeHtml('Create issue') + '</button></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.trigger.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.trigger';
}


JIRA.Templates.InlineIssueCreate.widget = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic-widget' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><form action="#" method="POST" class="iic-widget__form aui"><div class="iic-widget__issue-type-selector-container"></div><div><textarea name="summary" rows="1" cols="50" maxlength="255" class="iic-widget__summary" aria-label="' + soy.$$escapeHtml('What needs to be done?') + '" placeholder="' + soy.$$escapeHtml('What needs to be done?') + '">' + ((opt_data.summary) ? soy.$$escapeHtml(opt_data.summary) : '') + '</textarea><div class="iic-widget__footer"><div class="iic-widget__description-container"></div><button type="button" class="aui-button aui-button-text iic-widget__cancel">' + soy.$$escapeHtml('Cancel') + '</button><button type="button" class="aui-button aui-button-text iic-widget__more" title="' + soy.$$escapeHtml('Open in dialog') + '">' + soy.$$escapeHtml('Open in dialog') + '</button></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.widget.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.widget';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelector = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__issue-type-selector"><button type="button" class="iic-widget__issue-type-selector__trigger aui-button aui-button-subtle aui-button-compact aui-dropdown2-trigger" aria-label="' + soy.$$escapeHtml('Choose issue type') + '" aria-owns="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" aria-haspopup="true">' + ((! opt_data.isLocked) ? '<img src="' + soy.$$escapeHtml(opt_data.issueTypeIconUrl) + '" width="16" height="16" alt="' + ((opt_data.issueTypeName) ? soy.$$escapeHtml(opt_data.issueTypeName) : '') + '" />' : '<img src="data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=" width="16" height="16" alt="' + soy.$$escapeHtml('Locked') + '" />') + '</button><div id="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" data-aui-alignment="top left" class="aui-dropdown2 aui-style-default iic-widget__issue-type-selector__dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"></ul></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelector.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelector';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" class="aui-icon-container" data-id="' + soy.$$escapeHtml(opt_data.id) + '" style="background-image: url(\'' + soy.$$escapeHtml(opt_data.iconUrl) + '\');">' + soy.$$escapeHtml(opt_data.name) + '</a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem';
}


JIRA.Templates.InlineIssueCreate.description = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__description' + ((! opt_data.issueTypeName) ? ' iic-widget__description_invisible' : '') + '">' + soy.$$escapeHtml('New') + ' <span class="iic-widget__description__selected-issue-type-name">' + ((opt_data.issueTypeName) ? soy.$$escapeHtml(opt_data.issueTypeName) : '') + '</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.description.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.description';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/possibleValues.js' */
define("jira/inline-issue-create/entities/possible-values",["backbone","underscore","wrm/context-path","jira/inline-issue-create/lib/brace"],function(e,d,f,g){return g.Collection.extend({url:function(){var a=d.map(this.jqls,function(a){return"query\x3d"+encodeURIComponent(a)+"\x26"});return f()+"/rest/inline-create/1.0/context/possibleValues/"+this.getEntityName()+"?".concat.apply("?",a)},getEntityName:void 0,initialize:function(a,b){this._initializeState(a,b)},_initializeState:function(a,b){this.jqls=
b&&b.jqls?b.jqls:void 0;this.initialized=this.fetching=!1},parse:function(a){return a.values},setJQLs:function(a){d.isEqual(this.jqls,a)||(this.jqls=a,this.fetch({reset:!0}))},reset:function(){this.fetching=!1;this.initialized=!0;return e.Collection.prototype.reset.apply(this,arguments)},fetch:function(a){function b(){c.fetching=!1;c.initialized=!0;c.trigger("fetch:finished")}var c=this;a=a||{};a.success=a.success?d.wrap(a.success,function(a){b();return a.apply(c,Array.prototype.slice.call(arguments,
1))}):b;this.trigger("fetch:started");this.fetching=!0;return e.Collection.prototype.fetch.call(this,a)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueType.js' */
define("jira/inline-issue-create/entities/issue-type",["jira/inline-issue-create/lib/brace"],function(a){return a.Model.extend({namedAttributes:{id:"string",name:"string",description:"string",iconUrl:"string",subtask:"boolean"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueTypes.js' */
define("jira/inline-issue-create/entities/issue-types",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/issue-type"],function(a,b){return a.extend({model:b,getEntityName:function(){return"issuetype"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/project.js' */
define("jira/inline-issue-create/entities/project",["jira/inline-issue-create/lib/brace"],function(a){return a.Model.extend({namedAttributes:{id:"number",type:"string"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/projects.js' */
define("jira/inline-issue-create/entities/projects",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/project"],function(a,b){return a.extend({model:b,comparator:function(a){return a.getId()},getEntityName:function(){return"project"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineIssue.js' */
define("jira/inline-issue-create/entities/inline-issue",["jquery","wrm/context-path","jira/inline-issue-create/lib/brace"],function(b,c,a){return a.Model.extend({initialize:function(){this._isSaving=!1},save:function(){var a=this,d=b.ajax(c()+"/rest/inline-create/1.0/issue",{data:JSON.stringify(this.toJSON()),contentType:"application/json",type:"POST"});this._isSaving=!0;return d.always(function(){a._isSaving=!1})},isSaving:function(){return this._isSaving}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineBootstrap.js' */
define("jira/inline-issue-create/entities/inline-bootstrap","backbone underscore wrm/context-path jira/util/logger jira/inline-issue-create/lib/brace jira/inline-issue-create/entities/projects jira/inline-issue-create/entities/issue-types".split(" "),function(f,b,g,e,h,k,l){return h.Model.extend({issueTypesCollectionType:l,projectsCollectionType:k,namedAttributes:{hasCreateIssuePermission:"boolean",hasScheduleIssuePermission:"boolean"},initialize:function(){this.issueTypes=new this.issueTypesCollectionType;
this.projects=new this.projectsCollectionType},url:function(){var a=b.map(this.jqls,function(a){return"query\x3d"+encodeURIComponent(a)+"\x26"});return g()+"/rest/inline-create/1.0/context/bootstrap"+"?".concat.apply("?",a)},_initializeState:function(a,b){this.jqls=b&&b.jqls?b.jqls:void 0;this.initialized=this.fetching=!1},setJQLs:function(a){b.isEqual(this.jqls,a)||(this.jqls=a,this.fetch({reset:!0}))},parse:function(a){var d=this,c=b.map(a.issueTypes.values,function(a){return b.pick(a,b.keys(d.issueTypes.model.prototype.namedAttributes))});
this.issueTypes.reset(c);c=b.map(a.projects.values,function(a){return b.pick(a,b.keys(d.projects.model.prototype.namedAttributes))});this.projects.reset(c);return b.pick(a,"hasCreateIssuePermission","hasScheduleIssuePermission")},fetch:function(a){function d(){c.fetching=!1;c.initialized=!0;e.trace("inline.create.bootstrap.fetched")}var c=this;a=a||{};a.success=a.success?b.wrap(a.success,function(a){d();return a.apply(c,Array.prototype.slice.call(arguments,1))}):d;this.fetching=!0;e.trace("inline.create.bootstrap.fetching");
return f.Model.prototype.fetch.call(this,a)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching},fireWhenInitialized:function(a){this.isInitialized()&&!this.isFetching()?a():this.listenToOnce(this,"sync",a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/description.js' */
define("jira/inline-issue-create/views/description",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.description,ui:{selectedIssueTypeName:".iic-widget__description__selected-issue-type-name"},modelEvents:{"change:selectedIssueType":function(){var a=this.model.getSelectedIssueType()&&this.model.getSelectedIssueType().getName()||"";a?(this.$el.removeClass("iic-widget__description_invisible"),this.ui.selectedIssueTypeName.text(a)):
this.$el.addClass("iic-widget__description_invisible")}},serializeData:function(){var a={};this.model.getSelectedIssueType()&&(a=this.model.getSelectedIssueType().toJSON());return{issueTypeName:a.name}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdown.js' */
define("jira/inline-issue-create/views/issue-type-dropdown",["jira/util/formatter","underscore","jquery","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/views/issue-type-dropdown-item"],function(f,g,h,k,l){return k.CompositeView.extend({childView:l,childViewOptions:function(a,b){return{model:a,dropdownModel:this.model}},template:JIRA.Templates.InlineIssueCreate.issueTypeSelector,childViewContainer:".aui-list-truncate",ui:{trigger:".iic-widget__issue-type-selector__trigger",issueTypeIcon:".iic-widget__issue-type-selector__trigger img",
issueTypeDropdown:".iic-widget__issue-type-selector__dropdown"},modelEvents:{"change:selectedIssueType":function(){this.model.getSelectedIssueType()&&(this.ui.issueTypeIcon.attr("src",this.model.getSelectedIssueType().getIconUrl()),this.ui.issueTypeIcon.attr("alt",this.model.getSelectedIssueType().getName()))},"change:lockState":function(a,b){this.render();b===this.model.constants.STATE_LOCK_SENDING?this.ui.trigger.attr("aria-disabled",!0):this.ui.trigger.attr("aria-disabled",!1)}},initialize:function(){this.isDropdownShown=
!1;g.bindAll(this,"onDropdownShow")},serializeData:function(){var a={};this.model.getSelectedIssueType()&&(a=this.model.getSelectedIssueType().toJSON());return{widgetId:this.options.widgetId,isLocked:this.model.getLockState()!==this.model.constants.STATE_LOCK_UNLOCKED,issueTypeIconUrl:a.iconUrl,issueTypeName:a.name||"Locked"}},onRender:function(){this.unwrapTemplate();this.ui.issueTypeDropdown.on("aui-dropdown2-show",this.onDropdownShow)},onDropdownShow:function(){var a=
this.ui.issueTypeDropdown;a.appendTo(this.$el);var b=this.ui.issueTypeIcon.offset(),c=this.ui.issueTypeIcon.position(),d=this.ui.issueTypeIcon.outerHeight(),e=a.height();b=h("body").outerHeight(!0)<b.top+d+e;a.css({left:c.left,top:(b?c.top-e:c.top+d)+"px"})},onChildviewSelected:function(a){this.trigger("issueTypeSelected",a.model)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdownItem.js' */
define("jira/inline-issue-create/views/issue-type-dropdown-item",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem,initialize:function(a){this.dropdownModel=a.dropdownModel},events:{"click a":function(a){a.preventDefault();this.trigger("selected")}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/defaultTrigger.js' */
define("jira/inline-issue-create/views/default-trigger",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.trigger,ui:{trigger:" .iic-trigger"},events:{"click @ui.trigger":function(a){a.preventDefault();this.trigger("selected")}},initialize:function(a){this.widget=a.widget;this.listenTo(this.widget,"activated",this.hide);this.listenTo(this.widget,"deactivated",this.show)},onRender:function(){this.unwrapTemplate();this.widget.model.getState()===
this.widget.model.constants.STATE_ACTIVE&&this.hide()},hide:function(){this.ui.trigger.addClass("iic-trigger_hidden")},show:function(){this.ui.trigger.removeClass("iic-trigger_hidden")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/widget.js' */
define("jira/inline-issue-create/entities/widget-constants",[],function(){var c={STATE_CLOSED:"STATE_CLOSED",STATE_ACTIVE:"STATE_ACTIVE",STATE_LOCK_TEMP_INACTIVE:"STATE_LOCK_TEMP_INACTIVE",STATE_LOCK_SENDING:"STATE_LOCK_SENDING",STATE_LOCK_PERM_INACTIVE:"STATE_LOCK_PERM_INACTIVE",STATE_LOCK_UNLOCKED:"STATE_LOCK_UNLOCKED"};Object.freeze(c);return c});
define("jira/inline-issue-create/entities/widget",["jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/issue-type","jira/inline-issue-create/entities/widget-constants"],function(c,e,f,d){return c.Model.extend({constants:d,defaults:{state:d.STATE_CLOSED,lockState:d.STATE_LOCK_UNLOCKED},namedAttributes:{summary:"",selectedIssueType:f,issueTypes:e,state:"",lastState:"",lockState:""},initialize:function(b){if(!b||!b.selectedIssueType){if(localStorage){var c=
c=JSON.parse(localStorage.getItem("iic.slectedIssueType"))||{};var d=this.getIssueTypes()&&this.getIssueTypes().find(function(a){return a.getId()===c.id})}d?this.setSelectedIssueType(d):this.getIssueTypes()&&this.setSelectedIssueType(this.getIssueTypes().at(0))}this.on("change:selectedIssueType",function(a){(a=this.getSelectedIssueType())&&localStorage.setItem("iic.slectedIssueType",JSON.stringify(a.toJSON()))});this.listenTo(this.getIssueTypes(),"reset",function(){var a=this.getSelectedIssueType()&&
this.getSelectedIssueType().getId();a||(a=c.id);void 0!==a?(a=this.getIssueTypes().get(a))?this.setSelectedIssueType(a):this.setSelectedIssueType(this.getIssueTypes().at(0)):this.setSelectedIssueType(this.getIssueTypes().at(0))})},changeState:function(b){b!==this.getState()&&(this.setLastState(this.getState()),this.setState(b))},setSelectedIssueTypeIfAvailable:function(b){b&&(b=this.getIssueTypes().get(b.getId()))&&this.setSelectedIssueType(b)},toIssueData:function(){return{summary:this.getSummary(),
issueTypeId:this.getSelectedIssueType()&&this.getSelectedIssueType().getId()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/widget.js' */
define("jira/inline-issue-create/views/widget",["jquery","underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util"],function(d,e,f,c){return f.LayoutView.extend({template:JIRA.Templates.InlineIssueCreate.widget,regions:{issueTypeSelector:".iic-widget__issue-type-selector-container",description:".iic-widget__description-container"},ui:{summary:".iic-widget__summary",more:".iic-widget__more",cancel:".iic-widget__cancel",form:".iic-widget__form",withTitle:"[title]"},events:{"input @ui.summary":"onSummaryChange",
"change @ui.summary":"onSummaryChange","keyup @ui.summary":function(a){var b=this.ui.summary.val();255<b.length&&this.ui.summary.val(b.substr(0,255));this.onSummaryChange(a)},"keydown @ui.summary":function(a){var b=this.ui.summary.val();a.keyCode===c.keyCode.ENTER?(a.preventDefault(),""!==b&&255>=b.length?this.model.getLockState()===this.model.constants.STATE_LOCK_UNLOCKED?(this.ui.summary.blur(),this.trigger("createIssue")):c.addClassAndRemoveOnAnimationEnd(this.$(".issue-type-selector"),"iic-error",
500):c.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",500)):a.keyCode===c.keyCode.ESC?this.trigger("deactivate",{reason:"keypress"}):255<b.length&&c.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",500)},"click @ui.cancel":function(a){a.preventDefault();this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&this.trigger("deactivate",{reason:"cancel"})},"click @ui.more":function(a){a.preventDefault();this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&
this.trigger("openFullIssueDialog")}},modelEvents:{"change:summary":function(){this.ui.summary.val(this.model.getSummary());this.adjustSummarySize()},"change:state":function(a,b){b===this.model.constants.STATE_ACTIVE?this.activate():b===this.model.constants.STATE_CLOSED&&this.deactivate()},"change:lockState":function(a,b){this.ui.summary.prop&&(b===this.model.constants.STATE_LOCK_SENDING?this.ui.summary.prop("disabled",!0):this.ui.summary.prop("disabled",!1))}},initialize:function(a){this.cssClass=
a.cssClass||"";this.listenTo(this.issueTypeSelector,"show",function(){this.listenTo(this.issueTypeSelector.currentView,"issueTypeSelected",function(){this.focusSummary()})});e.bindAll(this,"adjustSummarySize","onBodyClick")},onClose:function(){d(document).off("click.iic",this.onBodyClick)},onBodyClick:function(a){this.$el.is(a.target)||0!==this.$el.has(a.target).length||(""===this.ui.summary.val()?this.trigger("deactivate",{reason:"cancel"}):this.ui.summary.is(":focus")&&this.ui.summary.blur())},
serializeData:function(){return{summary:this.model.getSummary(),cssClass:this.cssClass}},onRender:function(){this.unwrapTemplate();this.ui.withTitle.tooltip({aria:!0});var a=this;this.ui.summary.on("change cut paste drop keydown input",function(){e.defer(a.adjustSummarySize)});e.defer(a.adjustSummarySize);this.model.getState()===this.model.constants.STATE_ACTIVE?this.activate():this.deactivate()},adjustSummarySize:function(){this.ui.summary.css("height","auto");var a=this.ui.summary.outerHeight();
(a=Math.max(a+this.ui.summary.prop("scrollHeight")-this.ui.summary.prop("clientHeight"),a))&&this.ui.summary.height(a+"px")},reset:function(){this.ui.summary.attr("style","")},hide:function(){this.$el.addClass("iic-widget_hidden");d(document).off("click.iic",this.onBodyClick)},show:function(){this.$el.removeClass("iic-widget_hidden");this.adjustSummarySize();var a=this;e.defer(function(){d(document).off("click.iic",a.onBodyClick);d(document).on("click.iic",a.onBodyClick)})},focusSummary:function(){this.ui.summary.focus()},
activate:function(){this.show();this.trigger("activated")},focus:function(){this.focusSummary();this.trigger("focused")},deactivate:function(){this.hide();this.trigger("deactivated")},onSummaryChange:function(a){this.trigger("summaryChanged",this.ui.summary.val())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.js' */
define("jira/inline-issue-create/widget","jira/util/formatter wrm/context-path jira/jquery/deferred jquery underscore jira/util/logger jira/inline-issue-create/lib/marionette jira/inline-issue-create/util jira/inline-issue-create/entities/widget jira/inline-issue-create/entities/issue-types jira/inline-issue-create/entities/projects jira/inline-issue-create/entities/inline-issue jira/inline-issue-create/views/widget jira/inline-issue-create/views/issue-type-dropdown jira/inline-issue-create/views/description jira/inline-issue-create/prefillable-create-issue-dialog jira/inline-issue-create/analytics".split(" "),
function(k,l,f,g,d,h,m,n,p,q,r,t,u,v,w,x,y){function e(a){d.isFunction(a.parameter)?a.context[a.fieldName]=new a.parameter(a.defaultOptions):d.isObject(a.parameter)?a.context[a.fieldName]=a.parameter:void 0===a.parameter&&(a.context[a.fieldName]=new a.defaultConstructor(a.defaultOptions))}return m.Controller.extend({initialize:function(a){this._initializeComponents(a);a.jqls&&this.setCurrentJQLs(a.jqls);a.container&&this.attach(a.container);this._initializeEvents(a)},_initializeComponents:function(a){d.isFunction(a.issueTypes)?
this.issueTypes=new a.issueTypes(void 0,{jqls:a.jqls}):d.isObject(a.issueTypes)?this.issueTypes=a.issueTypes:this.issueTypes=new q(void 0,{jqls:a.jqls});d.isFunction(a.projects)?this.projects=new a.projects(void 0,{jqls:a.jqls}):d.isObject(a.projects)?this.projects=a.projects:this.projects=new r(void 0,{jqls:a.jqls});e({context:this,fieldName:"model",defaultOptions:{issueTypes:this.issueTypes},parameter:a.model,defaultConstructor:p});e({context:this,fieldName:"dropdownView",defaultOptions:{model:this.model,
collection:this.issueTypes,widgetId:this.model.cid},parameter:a.dropdownView,defaultConstructor:v});e({context:this,fieldName:"descriptionView",defaultOptions:{model:this.model,widgetId:this.model.cid},parameter:a.descriptionView,defaultConstructor:w});this.view=new u({model:this.model,cssClass:a.cssClass});this.analytics=new y({widget:this});this._currentInlineIssue=void 0},_initializeEvents:function(a){this.listenTo(this.view,"summaryChanged",function(a){this.model.setSummary(a)});this.listenTo(this.view,
"createIssue",this.createIssue);this.listenTo(this.view,"deactivate",this.deactivate);this.listenTo(this.view,"openFullIssueDialog",function(){this.trigger("openCreateIssueDialog",{reason:"manual"});this.openCreateIssueDialog()});this.listenTo(this.model,"change:state",this.onStateChange);this.listenTo(this.model,"change:lockState",this.onLockStateChange);this.listenTo(this.issueTypes,"reset",this.checkWidgetLocked);this.listenTo(this.projects,"reset",this.checkWidgetLocked);this.on("issueCreated",
function(){this.model.setSummary("")});this.checkWidgetLocked()},render:function(){this.view.issueTypeSelector.attachView(void 0);this.view.description.attachView(void 0);this.view.render();this.view.issueTypeSelector.show(this.dropdownView);this.view.description.show(this.descriptionView);this.listenTo(this.dropdownView,"issueTypeSelected",function(a){this.model.setSelectedIssueType(a)})},onStateChange:function(a,c){c===this.model.constants.STATE_ACTIVE?this.trigger("activated"):c===this.model.constants.STATE_CLOSED&&
this.trigger("deactivated")},onLockStateChange:function(a,c){c===this.model.constants.STATE_LOCK_PERM_INACTIVE&&this.model.getState()===this.model.constants.STATE_ACTIVE&&this.deactivate()},activate:function(){return this.model.getLockState()!==this.model.constants.STATE_LOCK_PERM_INACTIVE?(this.model.changeState(this.model.constants.STATE_ACTIVE),!0):!1},deactivate:function(){this.model.changeState(this.model.constants.STATE_CLOSED)},checkWidgetLocked:function(){if(this.issueTypes.isFetching()||
!this.issueTypes.isInitialized()||this.projects.isFetching()||!this.projects.isInitialized())return this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE);if(this._currentInlineIssue&&this._currentInlineIssue.isSaving())return this.model.setLockState(this.model.constants.STATE_LOCK_SENDING);if(!this.issueTypes.length||1!==this.projects.length)return this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE);this.model.setLockState(this.model.constants.STATE_LOCK_UNLOCKED)},
focus:function(){this.view.focus()},reset:function(){this.model.setSummary("");this.view.reset()},attach:function(a){g(a).append(this.view.el)},setCurrentJQLs:function(a){this.jqls=a},setSummary:function(a){this.model.setSummary(a)},getSummary:function(){return this.model.getSummary()},setSelectedIssueTypeIfAvailable:function(a){this.model.setSelectedIssueTypeIfAvailable(a)},getSelectedIssueType:function(){return this.model.getSelectedIssueType()},setOverrides:function(a){this.overrides=a},createIssue:function(){var a=
this,c={summary:this.model.getSummary(),contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType().getId(),overrides:d.clone(this.overrides)};this.trigger("beforeIssueCreated",a,c);this._currentInlineIssue=new t(c);this._currentInlineIssue.save().done(function(b){a.trigger("issueCreated",b.issue,b.prefilledFields,a,{source:"inline"});h.trace("inline.create.issue.created")}).fail(function(b){var c=new f;a.openCreateIssueDialog(c);try{var d=JSON.parse(b.responseText);c.resolve({errors:d.errors,
errorMessages:d.generalErrors,prefilledFields:d.prefilledFields})}catch(z){n.error(a,"Could not parse response: "+z,b),b="Unfortunately, there is an internal communication error, so you must use the full dialog to create the issue. Please contact your administrator if this error keeps appearing.",c.resolve({errors:{},errorMessages:[b],prefilledFields:{}})}a.trigger("openCreateIssueDialog",{reason:"createFailed"})}).always(function(){a.checkWidgetLocked()});this.checkWidgetLocked()},openCreateIssueDialog:function(a){var c=this,b=this.model.toIssueData();1===this.projects.size()&&(b.project=this.projects.at(0).toJSON());
b={summary:b.summary,contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType()?this.model.getSelectedIssueType().getId():void 0,overrides:d.clone(this.overrides)};this.trigger("beforeIssueCreated",c,b);a||(a=this._resolveInlineContext(b,c));return x.createPrefillableCreateIssueForm(a.promise(),!0).pipe(function(a){function b(a,b){c.trigger("issueCreated",b,b.fields,c,{source:"dialog"});h.trace("inline.create.issue.created")}var d=a.asDialog();a.bind("initialized",function(){this.unconfigurableForm.bind("issueCreated",
b);this.configurableForm.bind("issueCreated",b)});d.show();return d})},_resolveInlineContext:function(a,c){var b=new f;g.ajax(l()+"/rest/inline-create/1.0/context/resolve",{data:JSON.stringify(a),contentType:"application/json",type:"POST"}).done(function(a){b.resolve({prefilledFields:a.createIssueInput})}).fail(function(){b.resolve({prefilledFields:{summary:a.summary?a.summary:"",issuetype:c.model.getSelectedIssueType()?c.model.getSelectedIssueType().getId():void 0}})});return b}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget-group.js' */
define("jira/inline-issue-create/widget-group",["underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/widget","jira/inline-issue-create/entities/inline-bootstrap","jira/util/logger"],function(e,f,g,h,k){return f.Controller.extend({initialize:function(a){this.TriggerView=a.TriggerView;this.Widget=g;this.widgets={};this.currentJQLs=void 0;this.createdCallback=a.createdCallback;this.activeWidget=void 0;this.inlineBootstrap=a.inlineBootstrap||new h;this.widgetOptions=e.defaults(a.widgetOptions||
{},{issueTypes:this.inlineBootstrap.issueTypes,projects:this.inlineBootstrap.projects})},getWidget:function(a){this.widgets[a]||(this.widgets[a]=this._createNewWidget(a));return this.widgets[a]},setCurrentJqls:function(a){this.currentJQLs=a;e.each(this.widgets,function(c){c.widget.setCurrentJQLs(a)});this.inlineBootstrap.setJQLs(a)},activateWidget:function(a){if(this.activeWidget===a)a.focus();else{var c=this.activeWidget;this.activeWidget=void 0;e.each(this.widgets,function(b){b!==a&&b.widget.deactivate()});
var b=a.activate();b&&(a.focus(),this.activeWidget=a,this.trigger("widget:activated",a,c),c&&(a.setSummary(c.getSummary()),a.setSelectedIssueTypeIfAvailable(c.getSelectedIssueType()),c.reset()));return b}},_createNewWidget:function(a){var c=this,b=new this.Widget(this.widgetOptions);b.on("deactivated",function(){c.activeWidget===b&&(c.activeWidget=void 0,b.reset())});this.createdCallback&&this.createdCallback(b,a);this.currentJQLs&&b.setCurrentJQLs(this.currentJQLs);var d=new c.TriggerView({widget:b});
d.on("selected",function(){c.activateWidget(b)});return{widget:b,trigger:d,render:function(a){d.render();a.after(d.$el);b.attach(d.$el);b.render();c.trigger("widget:rendered",b,d,a);k.trace("inline.create.widget.rendered")}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inline-issue-create', location = 'inline-issue-create/InlineIssueCreate.js' */
define("jira/components/inline-issue-create",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/marionette-2.1.0"),e=b("jira/inline-issue-create/widget"),f=b("jira/inline-issue-create/views/default-trigger"),g=b("jira/inline-issue-create/entities/inline-bootstrap");return d.Object.extend({_buildBootstrap:function(){this.bootstrap=new g;this.listenTo(this.bootstrap,{sync:function(){this.widget.setCurrentJQLs(this.bootstrap.jqls)}})},_buildWidget:function(){this.widget=
new e({issueTypes:this.bootstrap.issueTypes,projects:this.bootstrap.projects});this.listenTo(this.widget,{issueCreated:function(a,b){this.trigger("issueCreated",{issue:a,fields:b})},activated:function(){this.trigger("activated")},deactivated:function(){this.trigger("deactivated")}})},_buildTrigger:function(){this.widgetTrigger=new f({widget:this.widget});this.listenTo(this.widgetTrigger,{selected:function(){this.activate();this.trigger("inlineIssueCreateOpened")}})},initialize:function(){this._buildBootstrap();
this._buildWidget();this._buildTrigger();this.render()},setJQL:function(a){this.bootstrap.setJQLs([a])},render:function(){this.widgetTrigger.render();this.widget.render()},show:function(a){this.render();a.append(this.widgetTrigger.$el);this.widget.attach(a)},activate:function(){this.bootstrap.projects.length?this.widget.activate()&&this.widget.focus():this.widget.openCreateIssueDialog()},activateWithJQL:function(a){this.bootstrap.jqls=[a];this.bootstrap.fetch({reset:!0}).done(c.bind(function(){this.bootstrap.projects.length&&
this.widget.activate()&&this.widget.focus()},this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/SimpleIssueList.js' */
define("jira/components/simpleissuelist",["require"],function(b){var d=b("jira/components/simpleissuelist/controllers/list"),e=b("jira/components/simpleissuelist/services/api"),f=b("jira/components/simpleissuelist/services/inline-issue-create"),g=b("jira/components/libs/marionette-2.1.0"),c=b("jira/components/libs/underscore"),h=b("jquery");return g.Object.extend({initialize:function(){this.options.displayInlineIssueCreate&&(this.inlineIssueCreate=new f,this.listenTo(this.inlineIssueCreate,{issueCreated:function(a){this.trigger("issueCreated",
a)},"activated deactivated":function(){c.defer(c.bind(function(){this.list.adjustSize()},this))}}));this.list=new d({baseURL:this.options.baseURL,inlineIssueCreate:this.inlineIssueCreate});this.listenTo(this.list,{goToPreviousPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("prev")},goToNextPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("next")},goToPage:function(a){this.trigger("list:pagination");this.searchResults.jumpToPage(a)},refresh:function(){this.trigger("refresh")},
selectIssue:function(a){this.trigger("list:select",{id:a.id,key:a.key,absolutePosition:this.searchResults.getPositionOfIssueInSearchResults(a.id),relativePosition:this.searchResults.getPositionOfIssueInPage(a.id)});this.searchResults.select(a.id)},sort:function(a){this.trigger("sort",a)},update:function(){this.trigger("update")}});var a=c.extend({},AJS.namespace("JIRA.API.Issues"),e.init(this));AJS.namespace("JIRA.API.Issues",null,a)},load:function(a,b){this.searchResults&&(this.stopListening(this.searchResults),
delete this.searchResults);this.searchResults=a;this.options.displayInlineIssueCreate&&this.inlineIssueCreate.setJQL(this.searchResults.jql);this.listenTo(this.searchResults,{"before:loadpage":function(){this.trigger("before:loadpage")},"error:loadpage":function(a){this.trigger("error:loadpage",a)},reset:function(){this.list.update(this.searchResults)},unselect:function(a){this.list.unselectIssue(a.get("id"))},select:function(a){var b=a.get("id")||null;b&&this.list.selectIssue(a.get("id"));this.trigger("select",
{id:b,key:a.get("key")})},change:function(a){this.list.updateIssue(a)}});b?a.jumpToPageForIssue(b):a.jumpToPage("first")},show:function(a){this.list.render({el:a})},selectNext:function(){if(this.searchResults)return this.searchResults.selectNext()},selectPrevious:function(){if(this.searchResults)return this.searchResults.selectPrev()},selectIssue:function(a){this.searchResults.select(a)},_getIssueById:function(a){if(this.searchResults)return this.searchResults.get(a)},refreshIssue:function(a){(a=
this._getIssueById(a))&&a.fetch()},updateIssue:function(a,b){(a=this._getIssueById(a))&&a.set(b)},adjustSize:function(){this.list.adjustSize()},disableIssue:function(a){(a=this._getIssueById(a))&&a.set("inaccessible",!0)},removeIssue:function(a){return(a=this._getIssueById(a))?this.searchResults.removeAndUpdateSelectionIfNeeded(a):(new h.Deferred).reject().promise()},onDestroy:function(){this.list.destroy()},focus:function(){this.list.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/controllers/List.js' */
define("jira/components/simpleissuelist/controllers/list",["require"],function(b){var e=b("jira/components/simpleissuelist/views/pagination"),f=b("jira/components/simpleissuelist/views/issuelist"),g=b("jira/components/simpleissuelist/views/endstablesearch"),h=b("jira/components/simpleissuelist/views/layout"),k=b("jira/components/simpleissuelist/views/loading"),l=b("jira/components/simpleissuelist/views/refresh"),m=b("jira/components/libs/marionette-2.1.0"),n=b("jira/components/orderby");return m.ViewManager.extend({_buildPagination:function(){return this.buildView("pagination",
function(){var a=new e({baseURL:this.baseURL});this.listenTo(a,{prev:function(){this.trigger("goToPreviousPage")},next:function(){this.trigger("goToNextPage")},"goto":function(a){this.trigger("goToPage",a)}});return a})},_buildList:function(){return this.buildView("list",function(){var a=new f;this.listenTo(a,{"childview:select":function(a){a=a.model;this.trigger("selectIssue",{id:a.get("id"),key:a.get("key")})},update:function(){this.trigger("update")}});return a})},_buildEndStableSearch:function(){return this.buildView("endOfStableSearch",
function(){return new g})},_buildRefresh:function(){return this.buildView("refresh",function(){var a=new l;this.listenTo(a,{refresh:function(){this.trigger("refresh")}});return a})},_buildLayout:function(){return this.buildView("layout",function(){var a=new h;this.listenTo(a,{render:function(){this.getView("layout").getRegion("pagination").show(this.getView("pagination"));this.getView("layout").getRegion("searchResults").show(this.getView("list"));this.getView("layout").getRegion("refresh").show(this.getView("refresh"));
this.getView("layout").getRegion("orderBy")._ensureElement();this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();this.inlineIssueCreate&&(this.getView("layout").inlineIssueCreateContainer._ensureElement(),this.inlineIssueCreate.show(this.getView("layout").inlineIssueCreateContainer.$el))}});return a})},_buildOrderBy:function(){this.orderBy=n.create();this.orderBy.onSort(function(a){this.trigger("sort",a)},this);return this.orderBy},_buildViews:function(){this._buildLayout();
this._buildPagination();this._buildList();this._buildRefresh();this._buildEndStableSearch();this.getView("layout").render()},initialize:function(a){this._buildOrderBy();this.baseURL=a.baseURL;this.inlineIssueCreate=a.inlineIssueCreate;this._buildViews()},render:function(a){a=a||{};a=a.el;a.append(this.getView("layout").$el);this.getView("layout").setElement(a)},onDestroy:function(){this.hideView("layout")},update:function(a){a.isAtTheEndOfStableSearch()?this.getView("layout").getRegion("endOfStableMessageContainer").show(this.getView("endOfStableSearch")):
this.getView("layout").getRegion("endOfStableMessageContainer").empty();this.getView("list").update(a);this.getView("refresh").render();this.getView("pagination").update(a);this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();this.orderBy.setJql(a.jql);this.inlineIssueCreate&&this.inlineIssueCreate.render();this.adjustSize()},hideLoading:function(){this.hideView("loading")},showLoading:function(){this.showView("loading",function(){var a=new k;this.listenTo(a,
{render:function(){this.getView("layout").$el.prepend(a.$el)}});return a})},updateIssue:function(a){this.getView("list").updateIssue(a)},unselectIssue:function(a){this.getView("list").unselectIssue(a)},selectIssue:function(a){this.getView("list").selectIssue(a)},adjustSize:function(){if(this.getView("layout")&&this.getView("list")){var a=this.getView("layout").ui.listPanel,b=this.getView("list").$el,d=this.getView("layout").getRegion("orderBy").$el,c=this.getView("layout").getRegion("pagination").$el;
c&&(c=c.parent());b=b.offset().top+a.scrollTop();c=c?c.outerHeight():0;var e=window.innerHeight;d=d?d.outerHeight():0;var f=this.getView("endOfStableSearch")?this.getView("endOfStableSearch").$el.outerHeight():0,g=this.getView("layout").inlineIssueCreateContainer.$el.outerHeight()||0;a.css("height",e+d-b-f-c-g);this.getView("list").scrollSelectedIssueIntoView()}},focus:function(){this.getView("list")&&this.getView("list").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/API.js' */
define("jira/components/simpleissuelist/services/api",function(){return{init:function(a){return{nextIssue:function(){a.selectNext()},previousIssue:function(){a.selectPrevious()}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/InlineIssueCreate.js' */
define("jira/components/simpleissuelist/services/inline-issue-create",["require"],function(a){return a("jira/components/inline-issue-create")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/endofstablesearch.soy' */
// This file was automatically generated from endofstablesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.endStableSearch = function(opt_data, opt_ignored) {
  return '<div class="end-of-stable-message"><p>' + soy.$$escapeHtml('Too many search results to display. Refine your search criteria and try again.') + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.endStableSearch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.endStableSearch';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issue = function(opt_data, opt_ignored) {
  return '<li title="' + soy.$$escapeHtml(opt_data.summary) + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '"><a class="splitview-issue-link" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '"><div><div><img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.typeName) + '" title="' + soy.$$escapeHtml(opt_data.typeName) + ' - ' + soy.$$escapeHtml(opt_data.typeDescription) + '" src="' + soy.$$escapeHtml(opt_data.typeIcon) + '"/></div><div class="issue-content-container"><span class="issue-link-key">' + soy.$$escapeHtml(opt_data.key) + '</span><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></div></div></a></li>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issue';
}


JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue = function(opt_data, opt_ignored) {
  return '<li class="inaccessible-issue" data-key="' + soy.$$escapeHtml(opt_data.key) + '">' + soy.$$escapeHtml('This issue can no longer be opened') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issuelist.soy' */
// This file was automatically generated from issuelist.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issueList = function(opt_data, opt_ignored) {
  return '<div class="list-content"><ol class="issue-list"></ol></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issueList.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issueList';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/layout.soy' */
// This file was automatically generated from layout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div class="search-results"></div></div><div class="end-of-stable-message-container"></div><div class="inline-issue-create-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item"></div><div class="pagination-container aui-item"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.layout.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.layout';
}


JIRA.Components.SimpleIssueList.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.loading.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.loading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/pagination.soy' */
// This file was automatically generated from pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.pagination = function(opt_data, opt_ignored) {
  var output = '<nav role="navigation" aria-label="' + soy.$$escapeHtml('Search pagination') + '"><div class="pagination" data-displayable-total="' + soy.$$escapeHtml(opt_data.displayableTotal) + '">';
  var MAX_PAGES_DISPLAYED__soy8 = 5;
  var lastPage__soy9 = Math.floor((opt_data.displayableTotal - 1) / opt_data.pageSize);
  var pageNumber__soy10 = Math.floor(opt_data.startIndex / opt_data.pageSize);
  var urlFragment__soy11 = '' + ((opt_data.hasQueryString) ? soy.$$filterNoAutoescape(opt_data.searchQuery) + '&startIndex=' : soy.$$filterNoAutoescape(opt_data.searchQuery) + '?startIndex=');
  var prevStartIndex__soy21 = opt_data.startIndex - opt_data.pageSize;
  output += ((prevStartIndex__soy21 >= 0) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy11) + soy.$$escapeHtml(prevStartIndex__soy21) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy21) + '" class="nav-previous" title="' + soy.$$escapeHtml(AJS.format('Go to page {0} of {1}',pageNumber__soy10,lastPage__soy9 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-left">&lt;&lt; ' + soy.$$escapeHtml('Previous') + '</span></a>' : '') + JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch({startPage: pageNumber__soy10 - Math.floor(MAX_PAGES_DISPLAYED__soy8 / 2), endPage: pageNumber__soy10 + Math.floor(MAX_PAGES_DISPLAYED__soy8 / 2), lastPage: lastPage__soy9, urlFragment: urlFragment__soy11, currentPage: pageNumber__soy10 + 1, maxPagesDisplayed: MAX_PAGES_DISPLAYED__soy8, pageSize: opt_data.pageSize, displayableTotal: opt_data.displayableTotal});
  var nextStartIndex__soy43 = Math.min(opt_data.startIndex + opt_data.pageSize, opt_data.displayableTotal);
  output += ((nextStartIndex__soy43 < opt_data.displayableTotal) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy11) + soy.$$escapeHtml(nextStartIndex__soy43) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy43) + '" class="nav-next" title="' + soy.$$escapeHtml(AJS.format('Go to page {0} of {1}',pageNumber__soy10 + 2,lastPage__soy9 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-right">' + soy.$$escapeHtml('Next') + ' &gt;&gt;</span></a>' : '') + '</div></nav>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.pagination.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.pagination';
}


JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastPage < opt_data.maxPagesDisplayed) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.lastPage})) : (opt_data.startPage < 0) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.endPage - opt_data.startPage})) : (opt_data.endPage > opt_data.lastPage) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: opt_data.startPage - (opt_data.endPage - opt_data.lastPage), endPage: opt_data.lastPage})) : JIRA.Components.SimpleIssueList.Templates.numberLinks(opt_data));
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch';
}


JIRA.Components.SimpleIssueList.Templates.numberLinks = function(opt_data, opt_ignored) {
  var output = '';
  var size__soy78 = opt_data.endPage - opt_data.startPage + 1;
  if (size__soy78 > 1) {
    var iLimit81 = Math.round(size__soy78);
    for (var i81 = 0; i81 < iLimit81; i81++) {
      var pageIndex__soy82 = i81 + opt_data.startPage;
      var pageNumber__soy83 = pageIndex__soy82 + 1;
      var pageStartIndex__soy84 = pageIndex__soy82 * opt_data.pageSize;
      var pageEndIndex__soy85 = Math.min(pageStartIndex__soy84 + opt_data.pageSize, opt_data.displayableTotal);
      var pageBoundaries__soy86 = '' + soy.$$escapeHtml(AJS.format('Issues {0} - {1}',pageStartIndex__soy84 + 1,pageEndIndex__soy85));
      output += ' ' + ((pageNumber__soy83 == opt_data.currentPage) ? '<strong title="' + soy.$$escapeHtml(pageBoundaries__soy86) + '">' + soy.$$escapeHtml(pageNumber__soy83) + '</strong>' : '<a href="' + soy.$$escapeHtml(opt_data.urlFragment) + soy.$$escapeHtml(pageStartIndex__soy84) + '" data-page="' + soy.$$escapeHtml(pageNumber__soy83) + '" data-start-index="' + soy.$$escapeHtml(pageStartIndex__soy84) + '" title="' + soy.$$escapeHtml(pageBoundaries__soy86) + '">' + soy.$$escapeHtml(pageNumber__soy83) + '</a>');
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinks.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinks';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/refresh.soy' */
// This file was automatically generated from refresh.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.refresh = function(opt_data, opt_ignored) {
  return '<a href="#" class="aui-button aui-button-subtle refresh-table" title="' + soy.$$escapeHtml('Refresh results') + '"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">' + soy.$$escapeHtml('Refresh results') + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.refresh.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.refresh';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/amd-wrapper.js' */
define("jira/components/simpleissuelist/templates",function(){return JIRA.Components.SimpleIssueList.Templates});AJS.namespace("JIRA.Components.SimpleIssueList.Templates",null,require("jira/components/simpleissuelist/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/EndStableSearch.js' */
define("jira/components/simpleissuelist/views/endstablesearch",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.endStableSearch})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Issue.js' */
define("jira/components/simpleissuelist/views/issue",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0");b=b("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.issue,ui:{link:"a"},events:{simpleClick:function(a){a.preventDefault();this.trigger("select")}},serializeData:function(){var a=this.model;return{id:a.get("id"),key:a.get("key"),summary:a.get("summary"),typeName:a.get("type").name,typeDescription:a.get("type").description,typeIcon:a.get("type").iconUrl}},
onRender:function(){this.unwrapTemplate()},highlight:function(){this.$el.addClass("focused");this.focus();this.scrollIntoView()},unhighlight:function(){this.$el.removeClass("focused")},scrollIntoView:function(){this.$el.scrollIntoViewForAuto()},focus:function(){this.ui.link.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/InaccessibleIssue.js' */
define("jira/components/simpleissuelist/views/inaccessibleissue",["require"],function(a){var b=a("jira/components/simpleissuelist/views/issue");a=a("jira/components/simpleissuelist/templates");return b.extend({template:a.inaccessibleIssue,triggers:{click:"select"},serializeData:function(){return{key:this.model.get("key")}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/IssueList.js' */
define("jira/components/simpleissuelist/views/issuelist",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/simpleissuelist/views/inaccessibleissue"),e=b("jira/components/simpleissuelist/views/issue");b=b("jira/components/simpleissuelist/templates");return c.CompositeView.extend({template:b.issueList,childViewContainer:"ol",getChildView:function(a){return a.get("inaccessible")?d:e},_initialEvents:function(){},onUpdate:function(){if(this.collection.selected){var a=
this.children.findByModel(this.collection.selected);a&&a.highlight()}},onRender:function(){this.unwrapTemplate()},update:function(a){this.collection=a;this.render();this.triggerMethod("update")},updateIssue:function(a){var b=this.children.findByModel(a);if(b){this.removeChildView(b);b=this.getChildView(a);var c=this.collection.indexOf(a);this.addChild(a,b,c);this.triggerMethod("update")}},unselectIssue:function(a){this.collection&&(a=this.collection.get(a))&&(a=this.children.findByModel(a))&&a.unhighlight()},
selectIssue:function(a){this.collection&&(a=this.collection.get(a))&&(a=this.children.findByModel(a))&&a.highlight()},scrollSelectedIssueIntoView:function(){if(this.collection){var a=this.collection.selected;a&&(a=this.children.findByModel(a))&&a.scrollIntoView()}},focus:function(){!this.children||1>this.children.length||this.children.findByIndex(0).focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Layout.js' */
define("jira/components/simpleissuelist/views/layout",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.LayoutView.extend({template:a.layout,regions:{pagination:".pagination-container",refresh:".refresh-container",searchResults:".search-results",orderBy:".list-ordering",endOfStableMessageContainer:".end-of-stable-message-container",inlineIssueCreateContainer:".inline-issue-create-container"},ui:{listPanel:".list-panel"},
showLoading:function(){this.ui.listPanel.addClass("loading")},hideLoading:function(){this.ui.listPanel.removeClass("loading")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Loading.js' */
define("jira/components/simpleissuelist/views/loading",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.loading,onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Pagination.js' */
define("jira/components/simpleissuelist/views/pagination",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0"),d=a("jira/components/libs/uri");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.pagination,ui:{prev:".nav-previous",next:".nav-next",page:"a[data-page]"},triggers:{"click @ui.prev":"prev","click @ui.next":"next"},onRender:function(){this.unwrapTemplate()},events:{"click @ui.page":function(c){var a=c.target.getAttribute("data-page");
c.preventDefault();this.trigger("goto",parseInt(a,10)-1)}},update:function(a){this.collection=a;this.render()},serializeData:function(){if(this.collection){var a=new d(this.options.baseURL),b=0<a.query().length;return{startIndex:this.collection.state.pageSize*this.collection.state.currentPage,pageSize:this.collection.state.pageSize,searchQuery:a.toString(),hasQueryString:b,displayableTotal:this.collection.state.totalRecords}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Refresh.js' */
define("jira/components/simpleissuelist/views/refresh",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.refresh,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/pager.soy' */
// This file was automatically generated from pager.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Pager.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Pager == 'undefined') { JIRA.Components.Pager = {}; }
if (typeof JIRA.Components.Pager.Templates == 'undefined') { JIRA.Components.Pager.Templates = {}; }


JIRA.Components.Pager.Templates.Pager = function(opt_data, opt_ignored) {
  return '<div class="pager"><div class="showing">' + ((opt_data.position && opt_data.resultCount) ? '<span>' + soy.$$escapeHtml(AJS.format('{0} of {1}',opt_data.position,opt_data.resultCount)) + '</span>' : '') + '</div><div class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<button data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml('Previous Issue') + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('Previous Issue') + '\'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('Not available - this is the first issue') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('Not available - this is the first issue') + '</span></button>' : '') + '</div><div class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<button id="next-issue" data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml('Next Issue') + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('Next Issue') + '\'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? (opt_data.isAtTheEndOfStableSearch) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml(AJS.format('Whoa, you\x27\x27ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.',opt_data.stableSearchCount)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml(AJS.format('Whoa, you\x27\x27ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.',opt_data.stableSearchCount)) + '</span></button>' : '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('Not available - this is the last issue') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('Not available - this is the last issue') + '</span></button>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Pager.Templates.Pager.soyTemplateName = 'JIRA.Components.Pager.Templates.Pager';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/amd-wrapper.js' */
define("jira/components/pager/templates",function(){return JIRA.Components.Pager.Templates});AJS.namespace("JIRA.Components.Pager.Templates",null,require("jira/components/pager/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/views/PagerView.js' */
define("jira/components/pager/views/pager",["require"],function(b){var d=b("jira/components/libs/marionette-2.1.0"),e=b("jira/components/pager/templates"),f=b("jira/components/utils/ajshelper");return d.ItemView.extend({getTemplate:function(){return this.searchResults&&this.searchResults.selected?e.Pager:!1},ui:{next:".next button",previous:".previous button",nextIcon:".next span.aui-icon"},triggers:{"simpleClick @ui.next":"next","simpleClick @ui.previous":"previous"},update:function(a){this.searchResults=
a;this.undelegateEvents();this.render();this.delegateEvents()},onRender:function(){this.searchResults&&this.searchResults.selected&&this.searchResults.getIssueAtGlobalIndex(this.searchResults.allIssues.length-1).id===this.searchResults.selected.id&&this.searchResults.isAtTheEndOfStableSearch()&&this.ui.nextIcon.tooltip({gravity:"ne"});var a=f.activeShortcuts();a&&(a.j&&this.ui.next.length&&a.j._addShortcutTitle(this.ui.next),a.k&&this.ui.previous.length&&a.k._addShortcutTitle(this.ui.previous))},
serializeData:function(){if(this.searchResults.selected){var a=this.searchResults.getPositionOfIssueInSearchResults(this.searchResults.selected.id),c={position:a+1,resultCount:this.searchResults.getTotalIssuesInDb()},b=this.searchResults.getIssueAtGlobalIndex(a+1);b?c.nextIssue={id:b.id,key:b.key}:this.searchResults.isAtTheEndOfStableSearch()&&(c.isAtTheEndOfStableSearch=!0,c.stableSearchCount=this.searchResults.allIssues.length);if(a=this.searchResults.getIssueAtGlobalIndex(a-1))c.previousIssue=
{id:a.id,key:a.key};return c}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/Pager.js' */
define("jira/components/pager",["require"],function(b){var c=b("jira/components/pager/views/pager"),d=b("jira/components/libs/marionette-2.1.0");return d.ViewManager.extend({_buildSearchResults:function(a){this._destroySearchResults();this.searchResults=a;this.listenTo(this.searchResults,{"select reset":function(){this.getView("view").update(this.searchResults)}})},_destroySearchResults:function(){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults)},_buildView:function(){this.buildView("view",
function(){var a=new c({el:this.el});this.listenTo(a,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}});return a})},initialize:function(a){this.el=a.el;this._buildView()},onDestroy:function(){d.ViewManager.prototype.onDestroy.call(this);this._destroySearchResults()},load:function(a){this._buildSearchResults(a)},update:function(a){this.load(a);this.getView("view").update(a)},show:function(a){this.hideView("view");this.showView("view",function(){var b=new c({el:a});
this.listenTo(b,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}});return b})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:login-utils', location = 'content/js/util/LoginUtils.js' */
define("jira/issues/utils/login",["require"],function(b){var d=b("jira/util/data/meta"),c=b("wrm/context-path")();return{isLoggedIn:function(){return!!this.loggedInUserName()},loggedInUserName:function(){return d.get("remote-user")},currentContextRelativePath:function(){var a=this._getWindowLocation(),b=a.protocol+"//"+a.host+(c||"");a=a.href;return 0===a.indexOf(b)?a.substr(b.length):a},redirectUrlToCurrent:function(){var a=this.currentContextRelativePath();return c+"/login.jsp?os_destination\x3d"+
encodeURIComponent(a)},redirectUrl:function(a){return c+"/login.jsp?os_destination\x3d"+encodeURIComponent(a)},_getWindowLocation:function(){return window.location}}});AJS.namespace("JIRA.Issues.LoginUtils",null,require("jira/issues/utils/login"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:empty-results-modifier', location = 'util/EmptyResultsModifier.js' */
define("jira/components/util/empty-results-modifier",["require"],function(b){var d=b("wrm/context-path"),c=b("jira/issues/utils/login");return{modifyLink:function(a){a=a.$(".no-results-hint a");c.isLoggedIn()?a.addClass("create-issue").attr("href",d()+"/secure/CreateIssue!default.jspa"):a.addClass("login-link").attr("href",c.redirectUrlToCurrent())}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--9c8c8c1546', location = 'aui.chunk.c28dc0e05085e91a970c--dfff600b0ad15565b890.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--9c8c8c1546"],{lSwU:function(n,o,i){var p,e,u;e=[i("oDIA"),i("O+lX")],void 0===(u="function"==typeof(p=function(n){return n.ui.plugin={add:function(o,i,p){var e,u=n.ui[o].prototype;for(e in p)u.plugins[e]=u.plugins[e]||[],u.plugins[e].push([i,p[e]])},call:function(n,o,i,p){var e,u=n.plugins[o];if(u&&(p||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(e=0;e<u.length;e++)n.options[u[e][0]]&&u[e][1].apply(n.element,i)}}})?p.apply(o,e):p)||(n.exports=u)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--06bc6ae5d7', location = 'aui.chunk.f2aed5038017c3bbd00b--2ad2944afecc71664086.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--06bc6ae5d7"],{"0Hbr":function(t,e,s){var i,o,n;o=[s("oDIA"),s("O+lX")],void 0===(n="function"==typeof(i=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(s){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})?i.apply(e,o):i)||(t.exports=n)},pTG0:function(t,e,s){var i,o,n;o=[s("oDIA"),s("O+lX")],void 0===(n="function"==typeof(i=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})?i.apply(e,o):i)||(t.exports=n)},"z+ct":function(t,e,s){var i,o,n;
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */o=[s("oDIA"),s("XPYc"),s("5h+3"),s("lSwU"),s("0Hbr"),s("pTG0"),s("0kPy"),s("O+lX"),s("yIBB")],void 0===(n="function"==typeof(i=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==s._trigger("stop",e)&&s._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))}))},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))}))},drag:function(e,s,i){t.each(i.sortables,(function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o}))),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})}))},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort((function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable})?i.apply(e,o):i)||(t.exports=n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--f29b9b9def', location = 'aui.chunk.9bd41270f2d977716fa7--b4ac98bb68776e68d857.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--f29b9b9def"],{zxTg:function(i,n,s){"use strict";s.r(n)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.draggable', location = 'aui.chunk.ba0de3d4b8a5f1b811cf--d2f033938249f96e79b8.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["jquery.ui.draggable"],{duoV:function(u,i,n){"use strict";n.r(i);n("zxTg"),n("z+ct");i.default="jquery"}},[["duoV","runtime","aui.splitchunk.vendors--20a97d6a33","aui.splitchunk.vendors--d18e3cafa7","aui.splitchunk.vendors--db57146687","aui.splitchunk.vendors--51504ebf10","aui.splitchunk.vendors--9c8c8c1546","aui.splitchunk.vendors--351ae504d7","aui.splitchunk.vendors--06bc6ae5d7","aui.splitchunk.vendors--f29b9b9def","aui.splitchunk.0d131bcbf1"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'libs/jquery.ui.sidebar.js' */
/*
 jQuery UI Sidebar
 http://jqueryui.com

 Depends:
   jquery.ui.widget.js
*/
(function(c){c.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(a){return 50},maxWidth:function(a){return window.innerWidth},resize:c.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition");this.options.easeOff&&(this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff));this.options.id||console.error("ui.sidebar: You must specify an id");this._addHandle();this._restore();c(window).resize(_.debounce(this.updatePosition,
30))},_restore:function(){if(window.localStorage){var a=localStorage.getItem("ui.sidebar."+this.options.id);a&&this._setWidth(a)}},_persist:function(){window.localStorage&&localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())},_setContainment:function(){var a=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth(this);this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this));this.handle.draggable({containment:[this._minLeft,
a,this._maxLeft,a]})},_handleDrag:function(a,b){this._setWidth(b.position.left-this._elementLeft,!0)},_setWidth:function(a,b){if(!b){b=this.options.maxWidth(this);var c=this.options.minWidth(this);a>b?a=b:a<c&&(a=c)}a-=this.element.outerWidth()-this.element.width();this.element.width(a);this.options.resize(a)},_addHandle:function(){var a=document.createElement("div");a.setAttribute("class","ui-sidebar");this.handle=c(a).appendTo(this.element);this.handle.draggable({axis:"x",drag:this._handleDrag,
stop:this._persist});this.handle.mousedown(this._setContainment);_.defer(this._setHandlePosition)},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft)this.handle.hide();else{var a=this.element.offset(),b=a.left+this.element.outerWidth();this.handle.css({top:a.top,left:b,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition();this._setWidth(this.handle.offset().left-this._elementLeft-window.pageXOffset);this._persist()}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/detailslayout.soy' */
// This file was automatically generated from detailslayout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.DetailsLayout.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.DetailsLayout == 'undefined') { JIRA.Components.DetailsLayout = {}; }
if (typeof JIRA.Components.DetailsLayout.Templates == 'undefined') { JIRA.Components.DetailsLayout.Templates = {}; }


JIRA.Components.DetailsLayout.Templates.container = function(opt_data, opt_ignored) {
  return '<div class="details-layout"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.container.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.container';
}


JIRA.Components.DetailsLayout.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="aui-group split-view"><div class="aui-item list-results-panel"></div><div class="aui-item detail-panel"><div class="issue-container"></div><div class="tools-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.layout.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.layout';
}


JIRA.Components.DetailsLayout.Templates.empty = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + ((opt_data.loggedIn) ? '<div class="no-results no-results-message"><h2>' + soy.$$escapeHtml('No issues were found to match your search') + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape(AJS.format('Try modifying your search criteria or {0}creating a new issue{1}.','<a class="create-issue" href="' + "" + '/secure/CreateIssue!default.jspa">','</a>')) + '</p></div>' : '<div class="no-results not-logged-in-message"><h2>' + soy.$$escapeHtml('No issues were found to match your search') + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape('Try \x3ca\x3elogging in\x3c/a\x3e to see more results.') + '</p></div>') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.empty.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.empty';
}


JIRA.Components.DetailsLayout.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.loading.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.loading';
}


JIRA.Components.DetailsLayout.Templates.tools = function(opt_data, opt_ignored) {
  return '<div class="issue-tools"><div class="pager-container"></div><div class="expand-container"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.tools.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.tools';
}


JIRA.Components.DetailsLayout.Templates.expand = function(opt_data, opt_ignored) {
  return '<button title="' + soy.$$escapeHtml(AJS.format('Expand issue ( {0} )',opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '" class="aui-button aui-button-subtle expand"><span class="aui-icon aui-icon-small aui-iconfont-focus">' + soy.$$escapeHtml(AJS.format('Expand issue ( {0} )',opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.expand.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.expand';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/amd-wrapper.js' */
define("jira/components/detailslayout/templates",function(){return JIRA.Components.DetailsLayout.Templates});AJS.namespace("JIRA.Components.DetailsLayout.Templates",null,require("jira/components/detailslayout/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/controllers/Tools.js' */
define("jira/components/detailslayout/controllers/tools",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/pager"),e=b("jira/components/detailslayout/views/tools");return c.ViewManager.extend({initialize:function(a){this.showExpand=a.showExpand;this._buildTools();this._buildPager()},show:function(a){this.toolsView.setElement(a);this.toolsView.render()},load:function(a){this.pager.update(a)},onDestroy:function(){this.pager.destroy();c.ViewManager.prototype.onDestroy.call(this)},
_buildTools:function(){this.toolsView=this.buildView("toolsView",function(){var a=new e({showExpand:this.showExpand});this.listenTo(a,{render:function(){a.pager._ensureElement();this.pager.show(a.pager.$el)},expand:function(){this.trigger("expand")}});return a})},_buildPager:function(){this.pager=new d;this.listenTo(this.pager,{next:function(){this.trigger("pager:next")},previous:function(){this.trigger("pager:previous")}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Container.js' */
define("jira/components/detailslayout/views/container",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0");b=b("jira/components/detailslayout/templates");return c.ItemView.extend({template:b.container,onRender:function(){this.unwrapTemplate()},showView:function(a){this.$el.append(a.$el)},showLoading:function(a){this.$el.prepend(a.$el)},hideLoading:function(a){a.$el.detach()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Empty.js' */
define("jira/components/detailslayout/views/empty",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0"),c=a("jira/components/detailslayout/templates"),d=a("jira/issues/utils/login"),e=a("jira/components/util/empty-results-modifier");return b.ItemView.extend({template:c.empty,serializeData:function(){return{loggedIn:d.isLoggedIn()}},onRender:function(){e.modifyLink(this);this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Tools.js' */
define("jira/components/detailslayout/views/tools",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/detailslayout/templates"),a=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),e=c.ItemView.extend({template:d.expand,triggers:{click:"expand"},serializeData:function(){return{expandShortcutKey:a.getKeyboardShortcutKeys("fullscreen.issue")}},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){this.$el.tooltip&&this.$el.tooltip("hide")}});
return c.LayoutView.extend({initialize:function(a){this.showExpand=a.showExpand||!1;this._initSubview()},template:d.tools,regions:{pager:".pager-container",expand:".expand-container"},_initSubview:function(){this._expandSubview=new e;this.listenTo(this._expandSubview,"expand",function(){this.trigger("expand")}.bind(this))},onRender:function(){this.showExpand&&(this.expand.show(this._expandSubview),a.initialised&&"resolved"!==a.initialised.state()&&a.initialised.then(function(){this._expandSubview.render()}.bind(this)))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Layout.js' */
define("jira/components/detailslayout/views/layout",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0"),b=a("jira/components/libs/underscore");a=a("jira/components/detailslayout/templates");return c.LayoutView.extend({template:a.layout,regions:{issuesList:".list-results-panel",issueComponent:".issue-container",tools:".tools-container"},ui:{detailPanel:".detail-panel"},onRender:function(){this.issuesList._ensureElement()},maximizeDetailPanelHeight:function(){var a=this.ui.detailPanel.offset().top;
this.ui.detailPanel.css("height",window.innerHeight-a)},showDraggable:function(){var a=0;this.issuesList.$el.sidebar({id:"layoutview-draggable",minWidth:function(){return 250},maxWidth:b.bind(function(){return this.$el.width()-500},this),resize:b.bind(function(b){b!==a&&(a=b,this.trigger("resize"))},this)})},updateDraggable:function(){this.issuesList.$el.data("ui-sidebar")&&this.issuesList.$el.sidebar("updatePosition")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Loading.js' */
define("jira/components/detailslayout/views/loading",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/detailslayout/templates");return b.ItemView.extend({template:a.loading,onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/DetailsLayout.js' */
define("jira/components/detailslayout",["require"],function(b){function g(a,e,d){var b,c=e;return function(){var h=arguments;clearTimeout(b);b=setTimeout(function(){a.apply(this,h);c=e},c);c=d}}var c=b("jira/components/libs/underscore"),k=b("jira/components/issuecomponentresolver"),f=b("jira/components/libs/marionette-2.1.0"),l=b("jira/components/simpleissuelist"),m=b("jira/components/detailslayout/views/container"),n=b("jira/components/detailslayout/views/empty"),p=b("jira/components/detailslayout/views/layout"),
q=b("jira/components/detailslayout/views/loading"),r=b("jira/components/detailslayout/controllers/tools");return f.ViewManager.extend({_buildIssueComponent:function(){var a=this.issueComponent=new (k.resolve()),b=this.options;this._loadIssueInViewerComponent=g(c.bind(function(d){a.loadIssue({id:d.id,key:d.key,detailView:!b.shouldUpdateCurrentProject}).always(c.bind(function(){this.hideLoading()},this))},this),100,500);this.listenTo(a,{loadError:function(a){this.simpleIssueList.disableIssue(a.issueId);
this.trigger("editorError")},loadComplete:function(a,b){this.adjustSize();this.simpleIssueList.updateIssue(a.id,{key:a.get("entity").key,summary:a.get("entity").summary,status:a.get("entity").status.name});a={issueKey:a.get("entity").key,issueId:a.id,issueEditorOptions:b,projectId:a.get("projectId"),projectKey:a.get("projectKey"),projectType:a.get("projectType")};b&&"issues-cache-refresh"===b.loadReason?this.trigger("editorLoadedFromCache",a):this.trigger("editorLoaded",a)},fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},
saveSuccess:function(a){this.simpleIssueList.refreshIssue(a.issueId);this.trigger("editor:saveSuccess",{event:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration})},editField:function(a){this.trigger("editor:editField",a)},editFieldCancel:function(a){this.trigger("editor:editFieldCancel",a)},linkToIssue:function(a){this.trigger("linkToIssue",a)},refineViewer:function(a){a.preventDefault();this.updateIssueComponent(a.query)},linkInErrorMessage:function(a){a.preventDefault();
this.simpleIssueList.selectIssue(a.issueData.id)},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)}})},_buildSimpleIssueList:function(){this.simpleIssueList=new l({baseURL:this.baseURL,displayInlineIssueCreate:this.options.displayInlineIssueCreate});this.listenTo(this.simpleIssueList,{select:function(a){this.trigger("select",a)},update:function(){this.trigger("list:update")},refresh:function(){this.trigger("list:refresh")},sort:function(a){this.trigger("list:sort",a)},
"list:select":function(a){this.trigger("list:select",{id:a.id,key:a.key,absolutePosition:a.absolutePosition,relativePosition:a.relativePosition})},"list:pagination":function(){this.trigger("list:pagination")},"before:loadpage":function(){this.showLoading()},"error:loadpage":function(a){this.hideLoading();this.trigger("error:loadpage",a)},issueCreated:function(a){this.trigger("issueCreated",a)}})},_buildContainerView:function(){this.containerView=this.buildView("containerView",function(){var a=new m;
this.listenTo(a,{render:function(){this.getView("layoutView").render();this.getView("emptyView").render();this.getView("loadingView").render();a.$el.prepend(this.getView("layoutView").$el)}});return a})},_buildEmptyView:function(){this.emptyView=this.buildView("emptyView",function(){var a="function"===typeof this.options.emptyViewFactory?this.options.emptyViewFactory():new n;this.listenTo(a,{render:function(){this.containerView.$el.append(a.$el);this.adjustSize();this.trigger("empty")}});return a})},
_showEmptyView:function(){this.layoutView.$el.detach();this.containerView.$el.empty();this.containerView.showView(this.emptyView);this.adjustSize();this.trigger("empty")},_buildTools:function(){this.tools=new r({showExpand:this.useExpand});this.listenTo(this.tools,{expand:function(){this.trigger("expand")},"pager:next":function(){var a=this.selectNext();this.trigger("pager:next",a)},"pager:previous":function(){var a=this.selectPrevious();this.trigger("pager:previous",a)}})},_buildLayoutView:function(){this.layoutView=
this.buildView("layoutView",function(){var a=new p;this.listenTo(a,{render:function(){a.issueComponent._ensureElement();this.issueComponent.setContainer(a.issueComponent.$el);a.issuesList._ensureElement();this.simpleIssueList.show(a.issuesList.$el);a.tools._ensureElement();this.tools.show(a.tools.$el)},resize:function(){this.adjustSize()}});return a})},_buildLoadingView:function(){this.loadingView=this.buildView("loadingView",function(){return new q})},_buildComponents:function(){this._buildIssueComponent();
this._buildSimpleIssueList();this._buildTools()},_buildViews:function(){this._buildLayoutView();this._buildEmptyView();this._buildLoadingView();this._buildContainerView();this.containerView.render()},initialize:function(a){this.baseURL=a.baseURL;this.useExpand=a.useExpand||!1;this._buildComponents();this._buildViews()},_showLoadingView:function(){this.containerView.showLoading(this.loadingView)},_hideLoadingView:function(){this.containerView.hideLoading(this.loadingView)},_showLayoutView:function(){this.emptyView.$el.detach();
this.containerView.showView(this.layoutView);this.layoutView.showDraggable();this.adjustSize()},show:function(a){a.replaceWith(this.containerView.$el);return this.containerView.$el},onDestroy:function(){this.tools.destroy();this.issueComponent.close();this.simpleIssueList.destroy();f.ViewManager.prototype.onDestroy.call(this)},showLoading:function(){this._showLoadingView()},hideLoading:function(){this._hideLoadingView()},load:function(a,b){this.searchResults&&(this.stopListening(this.searchResults),
delete this.searchResults);this.searchResults=a;this.listenTo(this.searchResults,{issueDeleted:function(){this.searchResults.length||this._showEmptyView()},"select selectIssueNotInList":function(a){this.showLoading();this._loadIssueInViewerComponent({id:a.id,key:a.get("key")})}});this.searchResults.isEmptySearch()?this._showEmptyView():(this.simpleIssueList.load(this.searchResults,b),this.tools.load(this.searchResults),this._showLayoutView());this.trigger("list:render")},adjustSize:function(){c.defer(c.bind(function(){this.getView("layoutView")&&
(this.simpleIssueList.adjustSize(),this.getView("layoutView").maximizeDetailPanelHeight(),this.issueComponent.applyResponsiveDesign(),this.getView("layoutView").updateDraggable());if(this.getView("emptyView")){var a=this.getView("emptyView").$el,b=a.length&&a.offset().top;a.css("height",window.innerHeight-b)}},this))},refreshIssue:function(a){this.simpleIssueList.refreshIssue(a);return this.issueComponent.refreshIssue()},removeIssue:function(a){this.showLoading();return this.simpleIssueList.removeIssue(a).always(c.bind(function(){this.hideLoading()},
this)).done(c.bind(function(a){0===a&&this._showEmptyView()},this))},getActiveIssueId:function(){return this.issueComponent.getIssueId()},getActiveIssueKey:function(){return this.issueComponent.getIssueKey()},getActiveProjectId:function(){return this.issueComponent.getProjectId()},getActiveProjectKey:function(){return this.issueComponent.getProjectKey()},getActiveProjectType:function(){return this.issueComponent.getProjectType()},selectNext:function(){return this.simpleIssueList.selectNext()},selectPrevious:function(){return this.simpleIssueList.selectPrevious()},
updateIssueComponent:function(a){this.showLoading();this.listenToOnce(this.issueComponent,"loadComplete",function(){this.hideLoading()});this.issueComponent.updateIssueWithQuery(a)},isLoading:function(){return this.issueComponent.isCurrentlyLoading()},hasSavesInProgress:function(){return"hasSavesInProgress"in this.issueComponent?this.issueComponent.hasSavesInProgress():!1},canDismissComment:function(){return this.issueComponent.canDismissComment()},getEditorFields:function(){if("getFields"in this.issueComponent)return this.issueComponent.getFields()},
abortPending:function(){return this.issueComponent.abortPending()},beforeHide:function(){return this.issueComponent.beforeHide()},beforeShow:function(){return this.issueComponent.beforeShow()},removeIssueMetadata:function(){return this.issueComponent.removeIssueMetadata()},editField:function(a){if("editField"in this.issueComponent)return this.issueComponent.editField(a)},focusList:function(){this.simpleIssueList.focus()},focusEditor:function(){this.issueComponent.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:jira-projects-backbone', location = 'lib/backbone.js' */
define("jira-projects-backbone",["jquery","underscore","atlassian/libs/factories/backbone-1.0.0","jira/backbone-queryparams"],function(a,b,c,d){a=c(b,a);d(a);return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.mixins.js' */
define("jira/projects/libs/marionette-mixins",[],function(){return function(e,d){function f(a,b){var c=this;b=e.defaults({},b||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0;c.trigger(a+":prevented",this)}});this.trigger(a,b);return b}function g(a,b){this.triggerPreventable(a,b).isPrevented&&b.preventDefault()}e.extend(d.View.prototype,{unwrapTemplate:function(){if(this.$el.parent().length){var a=this.$el.children();this.$el.replaceWith(a);this.setElement(a)}else this.setElement(this.$el.children())},
triggerPreventable:f,retriggerPreventable:g});e.extend(d.Controller.prototype,{triggerPreventable:f,retriggerPreventable:g});d.ViewManager=d.Controller.extend({constructor:function(){d.Controller.apply(this,arguments);this.views={}},hideView:function(a){var b=this.views[a];b&&(this.stopListening(b),b.isDestroyed||b.destroy(),delete this.views[a])},showView:function(a,b){this.buildView(a,b).render()},buildView:function(a,b){var c=this.views[a];c||(c=b.call(this),this.listenTo(c,"destroy",function(){this.hideView(a)}),
this.views[a]=c);return c},getView:function(a){return this.views[a]}});return d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.adapter.js' */
define("jira/projects/libs/marionette",["jira-projects-backbone","underscore","atlassian/libs/factories/marionette-2.1.0","jira/projects/libs/marionette-mixins"],function(a,b,c,d){a=c(b,a);return a=d(b,a)});AJS.namespace("JIRA.Projects.Libs.Marionette",null,require("jira/projects/libs/marionette"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Projects.Subnavigator.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Projects == 'undefined') { JIRA.Projects = {}; }
if (typeof JIRA.Projects.Subnavigator == 'undefined') { JIRA.Projects.Subnavigator = {}; }
if (typeof JIRA.Projects.Subnavigator.Templates == 'undefined') { JIRA.Projects.Subnavigator.Templates = {}; }


JIRA.Projects.Subnavigator.Templates.content = function(opt_data, opt_ignored) {
  var output = '<div id="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-opts subnavigator-content aui-dropdown2 aui-style-default">';
  var itemGroupList9 = opt_data.itemGroups;
  var itemGroupListLen9 = itemGroupList9.length;
  for (var itemGroupIndex9 = 0; itemGroupIndex9 < itemGroupListLen9; itemGroupIndex9++) {
    var itemGroupData9 = itemGroupList9[itemGroupIndex9];
    output += JIRA.Projects.Subnavigator.Templates.itemSection({items: itemGroupData9, hideSelectedItem: opt_data.hideSelectedItem});
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.content.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.content';
}


JIRA.Projects.Subnavigator.Templates.itemSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.items.length > 0) {
    output += '<div class="aui-dropdown2-section"><ul class="aui-list-truncate">';
    var itemList19 = opt_data.items;
    var itemListLen19 = itemList19.length;
    for (var itemIndex19 = 0; itemIndex19 < itemListLen19; itemIndex19++) {
      var itemData19 = itemList19[itemIndex19];
      output += JIRA.Projects.Subnavigator.Templates.item({item: itemData19, hideSelectedItem: opt_data.hideSelectedItem});
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.itemSection.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.itemSection';
}


JIRA.Projects.Subnavigator.Templates.item = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.item.description) ? ' title="' + soy.$$escapeHtml(opt_data.item.description) + '"' : '') + '>' + ((opt_data.item.link) ? '<a data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '" href="' + soy.$$escapeHtml(opt_data.item.link) + '">' + soy.$$escapeHtml(opt_data.item.label) + '</a>' : '<a ' + ((! opt_data.hideSelectedItem) ? 'class="aui-dropdown2-radio' + ((opt_data.item.selected) ? ' checked' : '') + '"' : '') + ' data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '">' + soy.$$escapeHtml(opt_data.item.label) + '</a>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.item.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.item';
}


JIRA.Projects.Subnavigator.Templates.trigger = function(opt_data, opt_ignored) {
  return '' + ((opt_data.renderAsButton) ? '<button id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger aui-button aui-button-link aui-dropdown2-trigger" aria-owns="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" role="button" aria-label="' + soy.$$escapeHtml(opt_data.label) + '" aria-haspopup="true">' + soy.$$escapeHtml(opt_data.label) + '</button>' : '<span id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger">' + soy.$$escapeHtml(opt_data.label) + '</button>');
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.trigger.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.trigger';
}


JIRA.Projects.Subnavigator.Templates.title = function(opt_data, opt_ignored) {
  return '<span class="subnavigator-title" title="' + soy.$$escapeHtml(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.title.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.title';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.js' */
(function(){var a=JIRA.Projects.Subnavigator.Templates;define("jira/projects/components/subnavigator/templates",[],function(){return a})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Content.js' */
define("jira/projects/components/subnavigator/views/content",["jira/projects/components/subnavigator/templates","underscore","jira/projects/libs/marionette","jquery"],function(e,c,f,a){return f.ItemView.extend({template:e.content,tooltipTimer:null,ui:{item:"li"},initialize:function(){this.tooltipTimeout=this.options.tooltipTimeout||600;this.hideSelectedItem=c.has(this.options,"hideSelectedItem")?this.options.hideSelectedItem:!0},_hideTooltips:function(){clearTimeout(this.tooltipTimer);a(".tipsy").remove()},
events:{"click @ui.item":function(b){this._hideTooltips();b=a(b.target).attr("data-item-id");this.trigger("click",b)},"mouseenter @ui.item":function(b){this._hideTooltips();this.tooltipTimer=setTimeout(function(){a(b.currentTarget).tipsy("show")},this.tooltipTimeout)},"mouseleave @ui.item":"_hideTooltips","aui-dropdown2-hide":"_hideTooltips"},serializeData:function(){var b=this.model.get("selectedItem"),a=this.model.get("itemGroups"),d=this.hideSelectedItem;b&&(a=c.map(a,function(a){return d?c.reject(a,
function(a){return a.id===b.id}):c.map(a,function(a){a=c.clone(a);a.id===b.id&&(a.selected=!0);return a})}));return{itemGroups:a,hideSelectedItem:d,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();this._hideTooltips();a(this.ui.item).tooltip({gravity:"w",trigger:"manual"})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Trigger.js' */
define("jira/projects/components/subnavigator/views/trigger",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette"],function(a,b){return b.ItemView.extend({template:a.trigger,serializeData:function(){return{label:this.model.get("selectedItem").label,renderAsButton:1<this.model.getAllItems().length,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/StaticTrigger.js' */
define("jira/projects/components/subnavigator/views/static-trigger",["jira/projects/components/subnavigator/views/trigger"],function(a){return a.extend({serializeData:function(){return{label:this.options.label,renderAsButton:!0,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();this.$el.removeClass("subnav-trigger")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Title.js' */
define("jira/projects/components/subnavigator/views/title",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette"],function(a,b){return b.ItemView.extend({template:a.title,serializeData:function(){return{title:this.model.get("selectedItem").label}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/entities/Items.js' */
define("jira/projects/components/subnavigator/entities/items",["underscore","jira-projects-backbone"],function(a,b){return b.Model.extend({defaults:{itemGroups:[],selectedItem:null},isEmpty:function(){return a.isEmpty(this.getAllItems())},selectItem:function(b){var c=this.getAllItems();this.set("selectedItem",a.find(c,function(a){return a.id===b})||a.first(c))},getAllItems:function(){return a.flatten(this.get("itemGroups"))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator.js' */
define("jira/projects/components/subnavigator/subnavigator","jira/projects/components/subnavigator/views/trigger jira/projects/components/subnavigator/views/title jira/projects/components/subnavigator/views/static-trigger jira/projects/components/subnavigator/views/content jira/projects/components/subnavigator/entities/items jira/projects/libs/marionette jira/util/browser underscore jquery".split(" "),function(c,d,e,f,g,h,k,l,b){return h.Controller.extend({_shouldShow:function(){return!this.model.isEmpty()},
_shouldShowTriggerView:function(){return this.options.changeViewText?1<this.model.getAllItems().length:!0},_sanitizeItems:function(){var a=this.options.itemGroups;return a&&a[0]&&!l.isArray(a[0])?[a]:a},_buildModel:function(){this.model=new g({itemGroups:this._sanitizeItems()});this.model.selectItem(this.options.selectedItem);this.listenTo(this.model,"change:selectedItem",this.show)},_buildTitleView:function(){this.titleView=new d({model:this.model});this.titleView.setElement(b(this.options.titlePlaceholder))},
_buildTriggerView:function(){this.triggerView=this.options.changeViewText?new e({model:this.model,id:this.options.id,label:this.options.changeViewText}):new c({model:this.model,id:this.options.id});this.triggerView.setElement(b(this.options.triggerPlaceholder))},_buildContentView:function(){this.contentView=new f({model:this.model,id:this.options.id,hideSelectedItem:this.options.hideSelectedItem});this.contentView.setElement(b(this.options.contentPlaceholder));this.listenTo(this.contentView,"click",
function(a){this.model.selectItem(a);a=this.model.get("selectedItem");this.triggerPreventable("itemSelected",{item:a}).isPrevented||a.link&&k.reloadViaWindowLocation(a.link)}.bind(this))},initialize:function(){this._buildModel();this._shouldShow()&&(this._buildTriggerView(),this._buildContentView(),this.options.titlePlaceholder&&this._buildTitleView())},show:function(){this._shouldShow()&&(this._shouldShowTriggerView()&&(this.triggerView.render(),this.contentView.render()),this.titleView&&this.titleView.render())},
selectItem:function(a){this._shouldShow()&&this.model.selectItem(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator-namespaces.js' */
AJS.namespace("JIRA.Projects.Subnavigator",null,require("jira/projects/components/subnavigator/subnavigator"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Content",null,require("jira/projects/components/subnavigator/views/content"));AJS.namespace("JIRA.Projects.Subnavigator.Views.StaticTrigger",null,require("jira/projects/components/subnavigator/views/static-trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Title",null,require("jira/projects/components/subnavigator/views/title"));
AJS.namespace("JIRA.Projects.Subnavigator.Views.Trigger",null,require("jira/projects/components/subnavigator/views/trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Entities.Items",null,require("jira/projects/components/subnavigator/entities/items"));AJS.namespace("JIRA.Projects.Subnavigator.Templates",null,require("jira/projects/components/subnavigator/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'page/projects-api.js' */
define("jira/api/projects",["wrm/data"],function(a){var b=a.claim("project-key"),c=a.claim("project-id"),d=a.claim("project-name"),e=a.claim("project-type");return{getCurrentProjectId:function(){return c},getCurrentProjectKey:function(){return b},getCurrentProjectName:function(){return d},getCurrentProjectType:function(){return e}}});AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:apis', location = 'js/apis/projects.js' */
define("jira/projectissuenavigator/apis/projects",["jira/api/projects"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-uri', location = 'js/libs/uri.js' */
define("jira/projectissuenavigator/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-underscore', location = 'js/libs/underscore.js' */
define("jira/projectissuenavigator/libs/underscore",["require"],function(a){return a("jira/components/libs/underscore")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-marionette', location = 'js/libs/marionette.js' */
define("jira/projectissuenavigator/libs/marionette",["require"],function(a){return a("jira/components/libs/marionette-2.1.0")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-ajshelper', location = 'js/libs/ajshelper.js' */
define("jira/projectissuenavigator/libs/ajshelper",[],function(){var a=window.AJS;return{format:a.format.bind(a),trigger:a.trigger.bind(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(e){"use strict";const t=[],n=()=>t;function r(e){n().unshift({addReporter:e})}function i(e){const t=n();for(;t.length;)e(t.splice(0,1)[0]);t.unshift=e,t.push=e}const o=()=>window,a=()=>o().performance;function s({key:e,entityId:t}){const r=a().now();console.debug("[BM]",e,"Probe.end",{timestamp:r}),n().push({end:{key:e,timestamp:r,entityId:t}})}const c=e=>!e||null==e||"null"===e||"undefined"===e,u=()=>o().document,l=(e,t)=>{var n=u().querySelectorAll(e);return n.length&&(c(t)||Array.prototype.every.call(n,(function(e){return!e.querySelector(t)})))};function f(){this._={}}var d=function(e){var t=e[0],n=e[1];n instanceof f?e.length>=3?Object.keys(n._).forEach((function(r){d([t,n._[r],r].concat(e.slice(2)))})):Object.keys(n._).forEach((function(e){d([t,n._[e],e])})):Array.isArray(n)&&t.apply(null,[n].concat(e.slice(2)))};f.prototype.forEach=function(e){d([e,this])},f.prototype.add=function(){for(var e=this,t=null,n=0;n<arguments.length;n++){if(t=arguments[n],n===arguments.length-1&&Array.isArray(e)){e.push(t);break}n<arguments.length-2&&!e._.hasOwnProperty(t)?e._[t]=new f:n!==arguments.length-2||e._.hasOwnProperty(t)||(e._[t]=[]),e=e._[t]}};var h=function(e,t){if(0!==e.length){var n=e.pop(),r=n[0],i=n[1];r===t?h(e,r):i._.hasOwnProperty(t)&&delete i._[t],0===Object.keys(i).length&&h(e,r)}};let y;f.prototype.remove=function(){for(var e,t=!1,n=null,r=this,i=[[n,r]],o=null,a=0;a<arguments.length;a++)if(o=arguments[a],Array.isArray(r))(e=r.indexOf(o))>-1&&(r.splice(e,1),0===r.length&&i.length>1&&h(i,n),t=!0);else{if(!r._.hasOwnProperty(o))break;a===arguments.length-1&&(delete r._[o],0===Object.keys(r).length&&i.length>1&&h(i,n),t=!0),n=o,r=r._[o],i.push([n,r])}return t},f.prototype.get=function(e){return this._.hasOwnProperty(e)?this._[e]:[]};function p(e,t){var n;e.forEach||(e=[e]),!c(t)&&Array.isArray(t)&&(t=t.join(", "));var r=new Promise((function(r,i){var a=[],s=[];e.forEach((function(e){var n;l(e,t)||(n=new Promise((function(n){const r=(()=>{if(y)return y;var e,t,n=o().MutationObserver,r=!1;return t=new f,e=new n((function(){t.forEach((function(e,n,r){l(r,n)&&(e.forEach((function(e){e()})),t.remove(r,n))}))})),y={addTarget:function(n,i,o){return r||(e.observe(u(),{attributes:!0,childList:!0,subtree:!0}),r=!0),t.add(n,i,o),()=>{t.remove(n,i,o)}}},y})().addTarget(e,t,n);s.push(r)})),a.push(n))}));var c=function(){s.forEach((function(e){e()}))};Promise.all(a).then(c).then(r,i),n=function(){c(),i()}}));return r.dismiss=n,r}var m,b="visibilitychange",v="animationend",w="browser-metrics-visibility-test",g="browser-metrics-visibility-animation",k=function(){var e=u().createElement("style"),t=["."+w+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+g+";","animation-name: "+g+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+g+" {}","@-webkit-keyframes "+g+" {","from {}","to {}","}"].join("\n");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(u().createTextNode(t)),u().head.appendChild(e),k=function(){}};function P(){if(m)return m;var e,t,n=!1;function r(){u().body.classList.remove(w),u().removeEventListener(b,t),u().removeEventListener(v,e),m=null}return(m=new Promise((function(r,i){"visible"!==u().visibilityState?i():(t=function(){n=!0},e=function(e){e.animationName===g&&(n?i():r())},u().addEventListener(b,t),u().addEventListener(v,e),k(),u().body.classList.add(w))}))).then(r,r),m}function _(e){var t,n;return t=e,(Array.isArray(t)||"string"==typeof t)&&(e={rules:e}),e.rules=(n=e.rules,Array.isArray(n)||(n=[n]),n.map((function(e){return"string"==typeof e?{selector:e,hasNone:null}:e}))),e.requirePaint=void 0!==e.requirePaint&&e.requirePaint,e}const A=u();let E=!1;switch(A.readyState){case"interactive":case"complete":E=!0;break;default:A.addEventListener("DOMContentLoaded",(()=>{o().setTimeout((()=>E=!0))}),{once:!0})}let O;function M(){O=null}function L(e){var t;const r="isInitial"in e?e.isInitial:!1===E,i="threshold"in e?e.threshold:1e3,o="reporters"in e?e.reporters:[],c=r?0:a().now(),u=null!==(t=e.timeout)&&void 0!==t?t:6e4;console.debug("[BM]",e.key,"Probe.start",{timestamp:c}),n().push({start:{key:e.key,isInitial:r,threshold:i,timestamp:c,reporters:Array.isArray(o)?o:[o],entityId:e.entityId,waitForMarks:e.waitForMarks,timeout:u}}),O&&(O.cancel(),M()),e.ready&&(O=function(e,t){e=_(e);var n=function(){},r=new Promise((function(t,r){var i=[],o=e.rules.map((function(e){var t=new p(e.selector,e.hasNone);return i.push((function(){t.dismiss()})),t}));n=function(){i.forEach((function(e){e()})),r()},Promise.all(o).then((function(e){})).then(t,r)}));return r.cancel=n,e.requirePaint&&(r=r.then(P)),"function"==typeof t&&r.then(t),r}(e.ready),O.then((function(){console.debug("[BM]",e.key,"Probe.end invoked by ready"),s({key:e.key})})).then(M,M))}function j(e){console.debug("[BM]","Probe.subscribe",e.name),n().push({subscribe:e})}window.define&&window.define("internal/browser-metrics",(function(){return{start:L,end:s,addReporter:r,delegateTo:i,subscribe:j}})),console.debug("[BM]","Probe loaded"),e.addReporter=r,e.delegateTo=i,e.end=s,e.start=L,e.subscribe=j,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics"]=this["browser-metrics"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-aa-beacon/browser-metrics-aa-beacon.js' */
!function(e){"use strict";const n=[],t=[];let r;const s=e=>{t.push(e)},a=e=>t.reduce(((n,t)=>{const r=t(e);return r.length>n.length?r:n}),""),o=e=>{n.push(e)},c=e=>{r=e},i=e=>{const t={};n.forEach((n=>{const r=n(e);"object"==typeof r&&Object.assign(t,r)}));const s={name:"browser.metrics.navigation",properties:t};(r||AJS.EventQueue).push(s),console.debug("[BM-AA] ","AJS Event pushed",s)};window.define&&window.define("internal/browser-metrics-aa-beacon",(function(){return{beacon:i,setEventQueue:c,addReportMarshaller:o,cleanUrl:a,addUrlCleaner:s}})),e.addReportMarshaller=o,e.addUrlCleaner=s,e.beacon=i,e.cleanUrl=a,e.setEventQueue=c,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics-aa-beacon"]=this["browser-metrics-aa-beacon"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){"use strict";let r=window;const n=r.WRM;let i=0,l=0,t=null;function e(){i===l&&t&&(t(),t=null)}const c={install(r){i+=1,r((()=>{l+=1,e()}))}};r["browser-metrics-plugin"]=c,n.require(["wrc!browser-metrics-plugin.contrib"],(()=>{r.require(["internal/browser-metrics-plugin/collector"],(r=>{t=()=>{r.install()},e()}))}))}();

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:metrics', location = 'content/js/util/metrics.js' */
define("jira/issues/navigator/metrics",["internal/browser-metrics"],function(b){function d(a,b){a=document.querySelectorAll(a);for(var c=0;c<a.length;c++)a[c].classList.add(b)}return{notifyIssueView:function(a){(a=!!a)||d(".issue-body-content:not(.browser-metrics-stale)","browser-metrics-stale");b.start({isInitial:a,key:"jira.issue.view",ready:[{selector:"#key-val",requireUpdate:!1},{selector:".issue-body-content:not(.browser-metrics-stale)",requireUpdate:!1}],waitForMarks:["activityTabFullyLoaded"]})},
notifyIssueNavList:function(){d("#issuetable:not(.browser-metrics-stale), .error:not(.browser-metrics-stale), .no-results-hint:not(.browser-metrics-stale), #errorPageContainer:not(.browser-metrics-stale)","browser-metrics-stale");b.start({key:"jira.issue.nav-list",ready:[{selector:".navigator-content",requireUpdate:!1},{selector:"#issuetable:not(.browser-metrics-stale), .error:not(.browser-metrics-stale), .no-results-hint:not(.browser-metrics-stale), #errorPageContainer:not(.browser-metrics-stale)",
requireUpdate:!1}],waitForMarks:["activityTabFullyLoaded"]})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issuesearch.soy' */
// This file was automatically generated from issuesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueSearch.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch == 'undefined') { JIRA.Issues.Projects.IssueSearch = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch.Templates == 'undefined') { JIRA.Issues.Projects.IssueSearch.Templates = {}; }


JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState = function(opt_data, opt_ignored) {
  return '<div class="no-results no-results-message"><h2>' + soy.$$escapeHtml('No issues were found to match your search') + '</h2><p class="no-results-hint">' + soy.$$escapeHtml('Try modifying your filter or creating a new issue below.') + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.emptyState = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + soy.$$filterNoAutoescape(opt_data.content) + '<div class="inline-issue-create-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.emptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.emptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag = function(opt_data, opt_ignored) {
  var output = '';
  var link__soy14 = '<a class="issue-created-key issue-link" data-issue-key="' + opt_data.issueKey + '" href="' + "" + '/projects/' + opt_data.projectKey + '/issues/' + opt_data.issueKey + '">' + opt_data.issueKey + ' - ' + opt_data.summary + '</a>';
  output += AJS.format('{0} {1} has been successfully created.','Issue',link__soy14);
  return output;
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueSearch = function(opt_data, opt_ignored) {
  return '<div class="issue-search"><header class="aui-page-header issue-search-header"><div class="aui-page-header-inner"><div class="aui-group aui-group-split"><div class="aui-item subnavigation"><h1><span id="issues-subnavigation-title" class="subnavigator-title"></span><span id="issues-subnavigation-trigger"></span></h1><span id="issues-subnavigation-content"></span></div><div class="aui-item"><div id="full-issue-navigator"><a href="' + soy.$$escapeHtml("") + '/issues/">' + soy.$$escapeHtml('View all issues and filters') + '</a></div></div></div></div></header><div class="details-layout"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueSearch.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueSearch';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issueview.soy' */
// This file was automatically generated from issueview.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueView.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueView == 'undefined') { JIRA.Issues.Projects.IssueView = {}; }
if (typeof JIRA.Issues.Projects.IssueView.Templates == 'undefined') { JIRA.Issues.Projects.IssueView.Templates = {}; }


JIRA.Issues.Projects.IssueView.Templates.issueView = function(opt_data, opt_ignored) {
  return '<div class="issue-view"><div class="navigation-tools"><div class="pager-container"></div><div class="collapse-container"></div></div><div class="issue-container">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.layout(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueView.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueView';
}


JIRA.Issues.Projects.IssueView.Templates.issueCollapse = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<button title="' + soy.$$escapeHtml(AJS.format('Collapse issue ( {0} )',opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '" class="aui-button aui-button-subtle collapse"><span class="aui-icon aui-icon-small aui-iconfont-unfocus">' + soy.$$escapeHtml(AJS.format('Collapse issue ( {0} )',opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueCollapse.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueCollapse';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/ProjectIssueNavigator.js' */
define("jira/projectissuenavigator",["require"],function(c){var f=c("jira/projectissuenavigator/libs/underscore"),d=c("jira/projectissuenavigator/services/analytics"),h=c("jira/projectissuenavigator/services/api"),k=c("jira/projectissuenavigator/services/filters"),n=c("jira/projectissuenavigator/services/dialogscleaner"),q=c("jira/projectissuenavigator/pages/issuesearch"),r=c("jira/projectissuenavigator/pages/issueview"),l=c("jquery"),t=c("jira/projectissuenavigator/libs/marionette"),e=c("jira/projectissuenavigator/services/metrics"),
u=c("jira/projectissuenavigator/services/router"),p=c("jira/projectissuenavigator/entities/navigatorstate"),g=c("jira/projectissuenavigator/services/traces"),v=c("jira/projectissuenavigator/services/jiraevents"),m=c("wrm/data"),w=c("jira/components/search"),x=c("jira/projectissuenavigator/services/keyboardshortcuts"),y=c("jira/projectissuenavigator/services/urlhelper"),z=c("jira/projectissuenavigator/services/browser");return t.Object.extend({_initializedFromPageLoad:!0,initialize:function(a){a=f.defaults({},
a,{el:l("\x3cdiv\x3e\x3c/div\x3e"),canCreateIssues:!1,emptyViewContent:""});this.el=a.el;this.canCreateIssues=a.canCreateIssues;this.emptyViewContent=a.emptyViewContent},_buildSearch:function(){this.searchService=new w;var a=m.claim("com.atlassian.jira.jira-issue-navigator-components:search-data");if(a){a=this.searchService.setPreloadedData(a);var b=m.claim("com.atlassian.jira.jira-issue-navigator-components:search-results");b&&a.setPreloadedData(b);this.state.set("searchResults",a)}},_buildIssueView:function(){this.issueView=
new r({state:this.state,search:this.searchService,showCollapse:this.state.has("filter")});this.listenTo(this.issueView,{collapse:function(a){e.startIssueSearch();d.collapseIssue({source:a});this._showIssueSearch()},linkToIssue:function(){e.startIssueView()},"issueDelete issueArchive":function(a){e.startIssueSearch();var b=this.state.get("searchResults");b?(a=b.get(a.issueId),b.removeAndUpdateSelectionIfNeeded(a).done(function(){b.selected&&this.state.set("issue",b.selected.get("key"));this._destroyIssueView();
this._showIssueSearch()}.bind(this))):(this._destroyIssueView(),this._showIssueSearch())},updateUrl:function(a){this.router.updateURL({project:this.state.get("project"),issue:a.issueKey,filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad,keepParameters:this._initializedFromPageLoad,isIssueView:!0});this._initializedFromPageLoad=!1},editorFieldsLoaded:this._notifyIssueViewEditorFieldsLoaded.bind(this),loadError:function(a){a=a||[];this.jiraEvents.triggerRefreshIssuePage(a.issueId)},
individualPanelRendered:function(a){this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(a)},viewRendered:function(a,b){this.jiraEvents.triggerNewContentAddedFromPageLoad(a);this.jiraEvents.triggerRefreshToggleBlocks(b)},panelRendered:function(a,b,c){this.jiraEvents.triggerPanelRefreshed(a,b,c)}})},_buildKeyboardShortuts:function(){var a=new x;this.listenTo(a,{focusIssueList:function(){this.issueSearch&&this.issueSearch.focusIssueList()},focusIssueEditor:function(){this.issueSearch?this.issueSearch.focusIssueEditor():
this.issueView&&this.issueView.focusIssueEditor()}})},_notifyIssueViewEditorLoadedAndInThePage:function(a){a=a||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueView.el);a.existingMarkup||this.jiraEvents.triggerRefreshIssuePage(this.issueView.getIssueId());g.traceEditorLoaded();d.triggerProjectNavViewIssue({issueId:this.issueView.getIssueId(),issueKey:this.issueView.getIssueKey(),projectId:this.issueView.getProjectId(),projectKey:this.issueView.getProjectKey(),projectType:this.issueView.getProjectType()});
e.endIssueView(this.issueView.getIssueId())},_notifyIssueViewEditorFieldsLoaded:function(){g.traceEditorFieldsLoaded()},_notifyIssueSearchEditorLoadedAndInThePage:function(a){a=a||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueSearch.el);a.issueRefreshedEvent||this.jiraEvents.triggerRefreshIssuePage(this.issueSearch.getIssueId());d.triggerProjectNavViewIssue({issueId:this.issueSearch.getIssueId(),issueKey:this.issueSearch.getIssueKey(),projectId:this.issueSearch.getProjectId(),
projectKey:this.issueSearch.getProjectKey(),projectType:this.issueSearch.getProjectType()});g.traceEditorLoaded()},_showIssueView:function(a){function b(a){this.listenTo(this.issueView,{editorLoaded:this._notifyIssueViewEditorLoadedAndInThePage.bind(this)});a=f.defaults({},a,{existingMarkup:!1});this._notifyIssueViewEditorLoadedAndInThePage(a);this.issueView.adjustSize();this.issueView.focusIssueEditor()}this._buildIssueView();h.useImplementation(this._getAPIImplementation(this.issueView));!0===a.existingMarkup?
(this.issueView.attach(this.el.find(".issue-view")),this.issueView.loadFromPage(a.issueKey).always(function(){b.call(this,{existingMarkup:!0})}.bind(this))):(this.issueView.render(),this.issueView.load(a.issueKey).always(function(){this._activateIssueViewPage();b.call(this,{existingMarkup:!1})}.bind(this)))},_destroyIssueView:function(){this.issueView&&(this.issueView.destroy(),this.stopListening(this.issueView),delete this.issueView)},_buildIssueSearch:function(){this.issueSearch=new q({canCreateIssues:this.canCreateIssues,
emptyViewContent:this.emptyViewContent,state:this.state,search:this.searchService});this.listenTo(this.issueSearch,{linkToIssue:function(a){e.startIssueView();this.state.unset("searchResults");this.state.unset("filter");this._showIssueView({issueKey:a.issueKey})},expand:function(a){e.startIssueView();d.expandIssue({source:a});this._stateBeforeExpand=new p({filter:this.state.get("filter"),searchResults:this.state.get("searchResults"),issue:this.state.get("issue")});this._showIssueView({issueKey:this.issueSearch.getIssueKey()})},
filterSelected:function(a){d.filterSelect(a)},goToFullIssueNavigator:function(){d.goToFullIssueNavigator()},issueSelectedInList:function(a){d.issueSelectedInList(a)},manageFilters:function(){d.manageFilters()},"list:update":function(){g.traceListLoaded()},editorLoaded:function(a){this._notifyIssueSearchEditorLoadedAndInThePage(a)},editorFieldsLoaded:function(){this._notifyIssueViewEditorFieldsLoaded()},editorError:function(){g.traceEditorError()},"pager:next":function(a){d.pager("next",a)},"pager:previous":function(a){d.pager("previous",
a)},"issue:select issue:empty":function(){this.router.updateURL({project:this.state.get("project"),issue:this.state.get("issue"),filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad});this._initializedFromPageLoad=!1},"editor:saveSuccess":function(a){d.editorFieldSaved(a)},"editor:editField":function(a){d.editFieldStarted(a)},"editor:editFieldCancel":function(a){d.editFieldCancelled(a)}})},_activateIssueSearchPage:function(){this._destroyIssueView();
this._activatePage(this.issueSearch)},_activateIssueViewPage:function(){this._destroyIssueSearch();this._activatePage(this.issueView)},_showIssueSearch:function(a){a=a||{};this.issueSearch||(this._buildIssueSearch(),this._activateIssueSearchPage(),h.useImplementation(this._getAPIImplementation(this.issueSearch)),this.issueSearch.show());this.state.has("searchResults")?this.issueSearch.load():this._stateBeforeExpand?(this.state.set({searchResults:this._stateBeforeExpand.get("searchResults"),issue:this._stateBeforeExpand.get("issue"),
filter:this._stateBeforeExpand.get("filter")}),delete this._stateBeforeExpand,this.issueSearch.load()):this.issueSearch.search({filter:a.filter||k.getDefaultFilterId(),issue:a.issue||null,orderby:a.orderby||null,startIndex:a.startIndex||null})},_destroyIssueSearch:function(){this.issueSearch&&(this.issueSearch.destroy(),this.stopListening(this.issueSearch),delete this.issueSearch)},_activatePage:function(a){this.el.find(".content").empty().append(a.el)},_scrollToAnchor:function(){var a=y.getAnchor();
z.scrollIntoView(a)},_buildRouter:function(){this.router=new u;this.listenTo(this.router,{"route:browse:initial":function(a){e.startIssueViewFromPageLoad();this.state.update(a);this._showIssueView({existingMarkup:m.claim("com.atlassian.jira.jira-projects-issue-navigator:server-rendered"),issueKey:a.issue});this._scrollToAnchor()},"route:browse":function(a){e.startIssueView();a.filter||this.state.unset("searchResults");this.state.update(a);this._showIssueView({existingMarkup:!1,issueKey:a.issue});
n.clean();this._scrollToAnchor()},"route:issues:initial":function(a){e.startIssueSearchFromPageLoad();a.filter=k.sanitiseFilter(a.filter);this.state.update(a);this._showIssueSearch(a);d.filterSelect({filterId:a.filter,source:"url"})},"route:issues":function(a){e.startIssueSearch();this.state.unset("searchResults");a.filter=k.sanitiseFilter(a.filter);this.state.update(a);this._showIssueSearch(a);d.filterSelect({filterId:a.filter,source:"url"});n.clean()}})},_getAPIImplementation:function(a){var b=
this;return f.extend({},h.getDefaultImplementation(),a.getAPIImplementation(),{viewSelectedIssue:function(){b.issueView||(e.startIssueView(),b.state.unset("searchResults"),b.state.unset("filter"),b._showIssueView({issueKey:b.issueSearch.getIssueKey()}))},returnToSearch:function(){b.issueSearch||(e.startIssueSearch(),b._showIssueSearch({issue:b.state.get("issue")}))},isFullScreenIssueVisible:function(){return!!b.issueView},isQueryValid:function(){return!0}})},start:function(){l(document.body).addClass("page-type-split page-issue-navigator page-type-navigator");
this._buildRouter();this.state=new p;this.jiraEvents=new v;this._buildSearch();this._buildKeyboardShortuts();k.initialize();h.init();this.router.start();var a;l(window).on("scroll resize",f.bind(function(){a||(a=requestAnimationFrame(f.bind(function(){this.adjustSize();a=null},this)))},this));this.adjustSize()},adjustSize:function(){this.issueView&&this.issueView.adjustSize();this.issueSearch&&this.issueSearch.adjustSize()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Analytics.js' */
define("jira/projectissuenavigator/services/analytics",function(){var b=require("jira/projectissuenavigator/libs/ajshelper");return{filterSelect:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.select",data:{filterId:a.filterId,source:a.source}})},goToFullIssueNavigator:function(){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.load.full.issue.nav"})},expandIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.expand",data:{source:a.source}})},
collapseIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.collapse",data:{source:a.source}})},issueSelectedInList:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.select.issue",data:{issueKey:a.key,source:"list",sameProject:!0}})},triggerProjectNavViewIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.view.issue",data:{issueId:a.issueId,projectId:a.projectId,projectType:a.projectType,issueMatchesProjectContext:null==
a.issueKey?!1:0===a.issueKey.indexOf(a.projectKey+"-")}})},manageFilters:function(){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.manage"})},pager:function(a,c){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.pager",data:{current:c.current,total:c.total,direction:a}})},editorFieldSaved:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit",data:{issueId:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,source:"jira.projectissuenav.global"}})},
editFieldStarted:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit.start",data:{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.projectissuenav.global"}})},editFieldCancelled:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit.cancel",data:{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.projectissuenav.global"}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/API.js' */
define("jira/projectissuenavigator/services/api",["require"],function(a){function e(b){var a={};b.forEach(function(b){a[b]=function(){return c[b].apply(c,arguments)}});return a}function f(b){AJS.namespace("JIRA.Issues.Api",null,{viewSelectedIssue:function(){b.viewSelectedIssue()},nextIssue:function(){b.nextIssue()},returnToSearch:function(){b.returnToSearch()},focusSearch:function(){b.focusSearch()},toggleFilterPanel:function(){b.toggleFilterPanel()},isQueryValid:function(){return b.isQueryValid()},
isFullScreenIssueVisible:function(){return b.isFullScreenIssueVisible()},switchLayouts:function(){b.switchLayouts()},openFocusShifter:function(){b.openFocusShifter()},waitForSavesToComplete:function(){b.waitForSavesToComplete()},prevIssue:function(){b.previousIssue()},getSelectedIssueId:function(){return b.getActiveIssueId()},getSelectedIssueKey:function(){return b.getActiveIssueKey()},refreshSelectedIssue:function(){return b.refreshActiveIssue()},editFieldOnSelectedIssue:function(a){return b.editField(a)},
getFieldsOnSelectedIssue:function(){return b.getFields()},hasSavesInProgress:function(){return b.isSaving()},isCurrentlyLoadingIssue:function(){return b.isLoading()},isSelectedIssueAccessible:function(){return b.hasAccessibleIssue()},issueIsVisible:function(){return b.hasAccessibleIssue()},showInlineIssueLoadError:function(){return b.showLoadError()},updateIssue:function(a){a=a||{};return b.refreshIssue(a.id)},toggleFullscreenIssue:function(){b.toggleFullscreenIssue()}})}var g=a("jira/projectissuenavigator/libs/underscore");
a=function(){};var d={nextIssue:a,previousIssue:a,getActiveIssueId:a,getActiveIssueKey:a,refreshActiveIssue:a,refreshIssue:a,editField:a,getFields:a,isSaving:a,isLoading:a,hasAccessibleIssue:a,showLoadError:a,waitForSavesToComplete:a,viewSelectedIssue:a,returnToSearch:a,focusSearch:a,toggleFilterPanel:a,isQueryValid:a,isFullScreenIssueVisible:a,switchLayouts:a,openFocusShifter:a,toggleFullscreenIssue:a},c=d;return{getDefaultImplementation:function(){return g.clone(d)},init:function(){var a=e("nextIssue previousIssue getActiveIssueId getActiveIssueKey refreshActiveIssue refreshIssue editField getFields isSaving isLoading hasAccessibleIssue showLoadError waitForSavesToComplete viewSelectedIssue returnToSearch focusSearch toggleFilterPanel isQueryValid isFullScreenIssueVisible switchLayouts openFocusShifter toggleFullscreenIssue".split(" "),
c);f(a);AJS.namespace("JIRA.API.IssueSearch",null,a)},useImplementation:function(a){c=a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Browser.js' */
define("jira/projectissuenavigator/services/browser",function(){return{getCurrentUrl:function(){return document.location.href},hasPushState:function(){return!(!window.history||!window.history.pushState)},locationReplace:function(a){return window.location.replace(a)},locationAssign:function(a){return window.location.assign(a)},getDocument:function(){return document},scrollIntoView:function(a){(a=document.getElementById(a))&&a.scrollIntoView()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Filters.js' */
define("jira/projectissuenavigator/services/filters",["require"],function(c){var l=c("wrm/context-path")(),a=c("jira/projectissuenavigator/libs/underscore"),d=c("wrm/data"),m=c("jira/projectissuenavigator/libs/ajshelper"),n=c("jira/projectissuenavigator/apis/projects"),e,f,g,h,k;return{initialize:function(){e=d.claim("com.atlassian.jira.jira-projects-issue-navigator:generic-filters")||[];f=d.claim("com.atlassian.jira.jira-projects-issue-navigator:project-filters")||[];g=d.claim("com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters");
k=d.claim("com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority")||[this.getAllIssuesFilterId()];h=n.getCurrentProjectId()},getExtraLinks:function(){return[{id:"manage",label:"Manage Filters",link:l+"/secure/ManageFilters.jspa?searchShareType\x3dproject\x26projectShare\x3d"+h+"\x26Search\x3dSearch\x26filterView\x3dsearch"}]},getAvailableFilters:function(b){var a=[];e&&e.length&&a.push(e);f&&f.length&&(a.push(f),b&&g&&a.push(this.getExtraLinks()));
return a},getDefaultFilterId:function(){return a.find(k,a.bind(function(b){return!!a.findWhere(a.flatten(this.getAvailableFilters()),{id:b})},this))},getJQL:function(b,c,d){if(b=a.findWhere(a.flatten(this.getAvailableFilters()),{id:b}))return m.format(b.jql,c,d||b.defaultOrderby)},getAllIssuesFilterId:function(){return"allissues"},sanitiseFilter:function(b){return a.some(a.flatten(this.getAvailableFilters()),function(a){return a.id===b})?b:this.getDefaultFilterId()},filterSupportsInlineIssueCreate:function(b){b=
a.indexBy(a.flatten(this.getAvailableFilters(!1)),"id")[b];return!(!b||!b.supportsInlineIssueCreate)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsOverrider.js' */
define("jira/projectissuenavigator/services/dialogsoverrider",["require"],function(e){function k(b){return function(){var d=g.current;b.trigger("quickEdit",{issueId:d.issueId,issueKey:d.issueKey,message:d.options.issueMsg||"thanks_issue_updated"})}}function l(b){return function(){var d=g.current;b.trigger("quickCreateSubtask",{issueId:d.issueId,issueKey:d.issueKey,message:d.options.issueMsg||"thanks_issue_updated"})}}function m(b){return"boolean"===typeof b.isIssueDialog&&b.isIssueDialog||h.isFunction(b.isIssueDialog)&&
b.isIssueDialog()}function n(b,d,c){return function(e,f,a){a&&(a.issueId=d(a),a.issueKey=c(a),m(a)&&"clone-issue-dialog"!==a.options.id&&(a._performRedirect=function(){this.redirected=!1},a.options.onDialogFinished=function(){a.hide();b.trigger("delete-issue-dialog"===a.options.id?"issueDelete":"archive-issue-dialog"===a.options.id?"issueArchive":"restore-issue-dialog"===a.options.id?"issueRestore":"issueUpdate",{issueId:a.issueId,issueKey:a.issueKey,message:a.options.issueMsg||"thanks_issue_updated"})}))}}
function p(){return function(){h("body").css("overflow","")}}var g=e("jira/dialog/dialog-stack"),c=e("jira/util/events"),q=e("jira/dialog/form-dialog"),h=e("jquery"),f=e("jira/dialog/labels-dialog");return e("jira/projectissuenavigator/libs/marionette").Object.extend({_overrideLabelsDialogSubmitResponse:function(){this.oldLabelsDialogSubmitReponse=f.prototype._handleSubmitResponse;f.prototype._handleSubmitResponse=function(){return q.prototype._handleSubmitResponse.apply(this,arguments)};this.currentLabelsDialogSubmitResponse=
f.prototype._handleSubmitResponse},_restoreLabelsDialogSubmitResponse:function(){f.prototype._handleSubmitResponse===this.currentLabelsDialogSubmitResponse&&(f.prototype._handleSubmitResponse=this.oldLabelsDialogSubmitReponse)},initialize:function(b){this._overrideLabelsDialogSubmitResponse();this.handlerDialogShow=n(this,b.getIssueId,b.getIssueKey);this.handlerDialogHide=p(this,b.getIssueId,b.getIssueKey);c.bind("Dialog.show",this.handlerDialogShow);c.bind("Dialog.hide",this.handlerDialogHide);this.handlerQuickEditSuccess=
k(this);c.bind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);this.handlerQuickCreateSubtaskSuccess=l(this);c.bind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)},destroy:function(){this._restoreLabelsDialogSubmitResponse();c.unbind("Dialog.show",this.handlerDialogShow);c.unbind("Dialog.hide",this.handlerDialogHide);c.unbind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);c.unbind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsCleaner.js' */
define("jira/projectissuenavigator/services/dialogscleaner",["require"],function(b){var a=b("jira/dialog/dialog-stack");return{clean:function(){a.current&&a.current.hide()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/FocusShifter.js' */
define("jira/projectissuenavigator/services/focusshifter",["require"],function(b){function d(a){return e.chain(a.models).filter(function(a){return"comment"!==a.id&&a.isEditable()}).map(function(a){return{label:a.getLabel(),value:a.id}}).value()}function f(a){return function(){var b=a.getFields(),c=b?d(b):[];return{id:"edit-fields",name:"Edit Fields",context:a.getIssueKey(),weight:100,getSuggestions:function(){return(new g.Deferred).resolve(c)},onSelection:function(b){b=
a.getFields().get(b);a.editField(b)}}}}var h=b("jira/projectissuenavigator/libs/marionette"),g=b("jquery"),e=b("jira/projectissuenavigator/libs/underscore"),c=b("jira/shifter");return h.Object.extend({initialize:function(a){this.provider=f(a);c.register(this.provider)},onDestroy:function(){c.unregister(this.provider)},show:function(){c.show()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/InlineIssueCreate.js' */
define("jira/projectissuenavigator/services/inline-issue-create",["require"],function(a){return a("jira/components/inline-issue-create")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/JiraEvents.js' */
define("jira/projectissuenavigator/services/jiraevents",["require"],function(b){var g=b("jira/util/events"),c=b("jira/util/events/types"),e=b("jira/components/issueviewer/eventtypes"),f=b("jira/util/events/reasons"),d=b("jquery");return b("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(){this.deferredEvents=[];this.isDeferring=!0;d(function(){setTimeout(this._drainDeferredEvents.bind(this),0)}.bind(this))},triggerNewContentAddedFromPanelRefreshed:function(a){this.trigger(c.NEW_CONTENT_ADDED,
[d(a),f.panelRefreshed])},triggerRefreshIssuePage:function(a){this.trigger(e.ISSUE_REFRESHED,[a])},triggerNewContentAddedFromPageLoad:function(a){this.trigger(c.NEW_CONTENT_ADDED,[d(a),f.pageLoad])},triggerRefreshToggleBlocks:function(a){this.trigger(c.REFRESH_TOGGLE_BLOCKS,[a])},triggerPanelRefreshed:function(a,b,c){this.trigger(e.PANEL_REFRESHED,[a,b,c])},_drainDeferredEvents:function(){this.isDeferring=!1;this.deferredEvents.forEach(function(a){this.trigger(a[0],a[1])}.bind(this));this.deferredEvents.length=
0},trigger:function(a,b){this.isDeferring?this.deferredEvents.push([a,b]):g.trigger(a,b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/KeyboardShortcuts.js' */
define("jira/projectissuenavigator/services/keyboardshortcuts",["require"],function(a){function d(c){if(!(f.areKeyboardShortcutsDisabled()||0<b(e.getDocument()).find("div.aui-blanket").length||c.which!==b.ui.keyCode.LEFT&&c.which!==b.ui.keyCode.RIGHT)){var a=b(c.target),d=a.is(":not(:input)");if(null==a||d)c.which===b.ui.keyCode.LEFT?this.trigger("focusIssueList"):c.which===b.ui.keyCode.RIGHT&&this.trigger("focusIssueEditor")}}var e=a("jira/projectissuenavigator/services/browser"),b=a("jquery"),f=
a("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle");return a("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(){b(e.getDocument()).on("keydown",d.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/LinksCapturer.js' */
define("jira/projectissuenavigator/services/linkscapturer",["require"],function(a){var b=a("jquery"),c=a("jira/projectissuenavigator/libs/underscore");return a("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(a){a=a||{};this.el=b(a.el);this.linkHandler=c.bind(function(){this.trigger("linkToFullIssueNavigator")},this);this.linkToFullIssueNavigator()},linkToFullIssueNavigator:function(){this.el.on("click","#full-issue-navigator",this.linkHandler)},destroy:function(){this.el.off("click",
"#full-issue-navigator",this.linkHandler)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Metrics.js' */
define("jira/projectissuenavigator/services/metrics",["require"],function(c){var a=c("internal/browser-metrics");return{startIssueView:function(){a.start({key:"jira.project.issue.view-issue",waitForMarks:["activityTabFullyLoaded"]})},startIssueSearch:function(){a.start({key:"jira.project.issue.nav-detail",waitForMarks:["activityTabFullyLoaded"]})},startIssueViewFromPageLoad:function(){a.start({key:"jira.project.issue.view-issue",isInitial:!0,ready:[{selector:"#key-val",requireUpdate:!1},".issue-body-content"],
waitForMarks:["activityTabFullyLoaded"]})},startIssueSearchFromPageLoad:function(){a.start({key:"jira.project.issue.nav-detail",isInitial:!0,waitForMarks:["activityTabFullyLoaded"]})},endIssueView:function(b){a.end({key:"jira.project.issue.view-issue",entityId:b})},endIssueSearch:function(b){a.end({key:"jira.project.issue.nav-detail",entityId:b})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Notifications.js' */
define("jira/projectissuenavigator/services/notifications",["require"],function(a){var d=a("jira/message"),e=a("jira/projectissuenavigator/libs/ajshelper"),f={thanks_issue_updated:"{0} has been updated.",thanks_issue_transitioned:"{0} has been updated.",thanks_issue_assigned:"{0} has been assigned.",thanks_issue_commented:"{0} has been updated with your comment.",thanks_issue_worklogged:"Work has been logged on {0}.",
thanks_issue_voted:"Your vote on {0} has been updated.",thanks_issue_watched:"Your watcher status on {0} has been updated.",thanks_issue_moved:"{0} has been moved.",thanks_issue_linked:"The links on {0} have been updated.",thanks_issue_cloned:"{0} has been cloned.",thanks_issue_labelled:"The labels on {0} have been updated.",thanks_issue_deleted:"{0} has been deleted.",
thanks_issue_restored:"Issue successfully restored.",thanks_issue_archived:"Issue successfully archived.",thanks_issue_attached:"The file(s) have been attached to {0}."};return{show:function(a,c){var b=f[a||"thanks_issue_updated"];b&&c&&(b=e.format(b,c));d.showSuccessMsg(b||a,{closeable:!0})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Router.js' */
define("jira/projectissuenavigator/services/router",["require"],function(f){var l=f("jira/components/libs/backbone"),d=f("jira/projectissuenavigator/services/urlhelper"),h=f("jira/projectissuenavigator/services/browser"),m=f("jira/util/data/meta"),n=f("wrm/context-path")(),g=f("jira/projectissuenavigator/libs/uri"),k=f("jira/projectissuenavigator/libs/underscore");return l.Router.extend({initialize:function(){this._isFirstLoad=!0;this.route(/.*/,function(){var a=d.extractStateFromCurrentUrl(),b={issue:a.issue,
filter:a.filter,orderby:a.orderby,startIndex:a.startIndex,project:a.project};a=function(a,c){this._isFirstLoad?(this._isFirstLoad=!1,this.trigger(c,b)):this.trigger(a,b)}.bind(this);d.isBrowseUrl()?a("route:browse","route:browse:initial"):a("route:issues","route:issues:initial")})},updateURL:function(a){a=a||{};this._updatePermalinkState(a);var b={issue:a.issue,project:a.project,filter:a.filter,orderby:a.orderby};b=a.isIssueView?d.generateBrowseUrl(b):d.generateUrl(b);var e=new g(b),c=new g(h.getCurrentUrl());
c=new g({path:c.path(),query:c.query(),fragment:c.fragment()});e.equals(c)||(a.keepParameters&&(e.search(k.extend(c.search(!0),e.search(!0))),e.hash(c.hash()),b=e.toString()),this.navigate(b,{trigger:!1,replace:!!a.replaceHistory}))},goTo:function(a){a=a||{};h.locationAssign(d.generateUrl({project:a.project,issue:a.issue,filter:a.filter,orderby:a.orderby}))},_getBaseurl:function(){return g.build(k.extend(k.pick(g.parse(h.getCurrentUrl()),"protocol","hostname","port","username","password"),{path:n}))},
_getServerBaseurl:function(){var a=m.get("jira-base-url");return a?a:this._getBaseurl()},_updatePermalinkState:function(a){a.issue&&m.set("viewissue-permlink",(new g(this._getServerBaseurl()+"/browse/"+a.issue)).normalize().toString())},start:function(){var a=d.generateRootUrl(),b=h.hasPushState(),e=d.getApplicationUrl(),c=e&&!d.isHashUrl();!b&&c?h.locationReplace(a+e.replace(/^\//,"#")):l.history.start({root:"",pushState:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Traces.js' */
define("jira/projectissuenavigator/services/traces",function(){return{traceListLoaded:function(){JIRA.trace("sidebarissuenavigator.list.loaded");JIRA.trace("jira.search.finished")},traceEditorLoaded:function(){JIRA.trace("sidebarissuenavigator.editor.loaded")},traceEditorFieldsLoaded:function(){JIRA.trace("sidebarissuenavigator.editorfields.loaded")},traceEditorError:function(){JIRA.trace("sidebarissuenavigator.editor.error")},traceIssueViewRender:function(){JIRA.trace("jira.project.issueview.render")},
traceIssueUpdated:function(){JIRA.trace("jira.issue.update")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/URLHelper.js' */
define("jira/projectissuenavigator/services/urlhelper",["require"],function(f){function g(a){var b=new d("");a.issue&&b.filename(a.issue);a.filter?b.setSearch("filter",a.filter):b.removeSearch("filter");a.orderby?b.setSearch("orderby",a.orderby):b.removeSearch("orderby");return b.toString()}function h(a){var b=new d("");a&&b.path(k+"/projects/"+a+"/issues");return b.toString()}var k=f("wrm/context-path")(),e=f("jira/projectissuenavigator/services/browser"),d=f("jira/projectissuenavigator/libs/uri");
return{extractProjectKeyFromCurrentUrl:function(){var a=(new d(e.getCurrentUrl())).pathname();return(a=this.isBrowseUrl(a)?a.match(/\/([A-Z0-9]+)\-[0-9]+$/):a.match(/\/projects\/([^\/]+?)\/issues/))?a[1]:null},extractIssueKeyFromCurrentUrl:function(){var a=(new d(e.getCurrentUrl())).pathname().match(/\/([A-Z0-9]+\-[0-9]+)$/);return a?a[1]:null},generateUrl:function(a){var b=h(a.project);a=g(a);var c=e.hasPushState()?"/":"#";return b+c+a},generateBrowseUrl:function(a){var b=new d("");b.path(k+"/browse/");
a=g(a);return b.toString()+a},extractStateFromCurrentUrl:function(){var a=new d(this.getApplicationUrl());this.isHashUrl()&&(a=new d(a.fragment()));var b={},c=a.search(!0).filter;b.filter=c?c:null;c=a.search(!0).orderby;b.orderby=c?c:null;if(c=a.filename())b.issue=c;a=a.search(!0).startIndex;b.startIndex=a?a:null;b.project=this.extractProjectKeyFromCurrentUrl();return b},generateRootUrl:function(a){a=a||this.extractProjectKeyFromCurrentUrl();return h(a)},getApplicationUrl:function(){var a=e.getCurrentUrl(),
b=new RegExp(this.isBrowseUrl(a)?"^.*/browse/":"^.*"+this.generateRootUrl());return a.replace(b,"")},isBrowseUrl:function(a){a=a||e.getCurrentUrl();return-1<a.indexOf("/browse/")},isHashUrl:function(){return!!this.getApplicationUrl().match(/^#/)},getAnchor:function(){return(new d(e.getCurrentUrl())).fragment()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/views/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview/views/issue",["require"],function(b){var c=b("jira/projectissuenavigator/libs/marionette"),d=b("jira/projectissuenavigator/pages/issueview/templates"),a=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),e=c.ItemView.extend({template:d.issueCollapse,rendered:!1,triggers:{click:"collapse"},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){this.$el.tooltip&&this.$el.tooltip("hide")},serializeData:function(){return{collapseShortcutKey:a.getKeyboardShortcutKeys("fullscreen.issue")}}});
return c.LayoutView.extend({template:d.issueView,className:"wrapper",rendered:!1,regions:{issueContainer:".issue-container",pager:".pager-container",collapse:".collapse-container"},initialize:function(a){this.showCollapse=a.showCollapse||!1;this._initSubview()},_initSubview:function(){this._collapseSubview=new e;this.listenTo(this._collapseSubview,"collapse",function(){this.trigger("collapse")}.bind(this))},maximizeHeight:function(){this.$el.css("height",window.innerHeight-this.$el.offset().top)},
onRender:function(){this.showCollapse&&(this.collapse.show(this._collapseSubview),a.initialised&&"resolved"!==a.initialised.state()&&a.initialised.then(function(){this._collapseSubview.render()}.bind(this)));this.unwrapTemplate(this.className);this.rendered=!0},attach:function(a){this.setElement(a);this.bindUIElements();this.triggerMethod("render")},templateHelpers:function(){return this.options}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview",["require"],function(b){var e=b("jira/projectissuenavigator/libs/underscore"),l=b("jira/components/issueviewer/services/darkfeatures"),m=b("jira/projectissuenavigator/services/dialogsoverrider"),n=b("jira/projectissuenavigator/services/focusshifter"),p=b("jira/components/issuecomponentresolver"),q=b("jira/projectissuenavigator/pages/issueview/views/issue"),r=b("jira/components/issueviewer/templates"),t=b("jira/flag"),h=b("jquery"),u=b("jira/projectissuenavigator/libs/marionette"),
d=b("jira/projectissuenavigator/services/metrics"),f=b("jira/projectissuenavigator/services/notifications"),v=b("jira/components/pager"),k=b("jira/projectissuenavigator/services/traces"),g=b("wrm/data");return u.Object.extend({initialize:function(a){this.showCollapse=a.showCollapse||!1;this.state=a.state;this._buildIssueView();this._buildIssueComponent();this._buildDialogsOverrider();this._buildFocusShifter();this._buildPager()},onDestroy:function(){this.issueComponent.close();this.issueView.destroy();
this.dialogsOverrider.destroy();this.focusShifter.destroy();this._destroyPager();this.el&&this.el.remove()},_destroyPager:function(){this.pager&&(this.pager.destroy(),this.stopListening(this.pager),delete this.pager)},render:function(){this.issueView.render();this.el=this.issueView.$el},attach:function(a){this.issueView.attach(a);this.el=this.issueView.$el},loadFromPage:function(a){this._updateState(a);this._updateURL(a);this._updatePager();return this.issueComponent.loadIssueRenderedByTheServer({key:a,
project:{id:g.claim("projectId"),key:g.claim("projectKey"),projectType:g.claim("projectType")},detailView:!1})},load:function(a){this._updateState(a);this._updateURL(a);this._updatePager();return this.issueComponent.loadIssue({key:a,detailView:!1})},_updateURL:function(a){l.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()&&this.trigger("updateUrl",{issueKey:a})},_updatePager:function(){var a=this.state.get("searchResults"),c=this.state.get("issue");a&&a.hasIssueInSearch(c)?(a.selected&&a.selected.get("key")===
c||a.select(c),this.pager.update(a)):this._destroyPager()},_updateState:function(a){this.state.set("issue",a)},adjustSize:function(){this.issueView.maximizeHeight();this.issueComponent.applyResponsiveDesign()},_buildIssueView:function(){this.issueView=new q({showCollapse:this.showCollapse});this.listenTo(this.issueView,{render:function(){this.issueView.issueContainer._ensureElement();this.issueComponent.setContainer(this.issueView.issueContainer.$el);this.pager&&(this.issueView.pager._ensureElement(),
this.pager.show(this.issueView.pager.$el))},collapse:function(){this.trigger("collapse","ui-button")}})},_buildIssueComponent:function(){this.issueComponent=new (p.resolve())({useJIRAEvents:!1});this.listenTo(this.issueComponent,{fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},loadError:function(a){this.trigger("loadError",a)},loadComplete:function(a,c){this.trigger("editorLoaded",c)},linkToIssue:function(a){this.trigger("linkToIssue",a);this.state.unset("searchResults");this.state.unset("filter");
this.load(a.issueKey)},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)},renderMainView:function(a,c){this.trigger("viewRendered",a,c)},panelRendered:function(a,c,b){this.trigger("panelRendered",a,c,b)},refineViewer:function(a){a.preventDefault();this.issueComponent.updateIssueWithQuery(a.query)}})},_buildDialogsOverrider:function(){function a(a,b,d){return d&&d.$activeTrigger&&d.$activeTrigger.data(a)||"function"===typeof b&&b()}this.dialogsOverrider=new m({getIssueId:e.partial(a,
"issueid",this.issueComponent.getIssueId.bind(this.issueComponent)),getIssueKey:e.partial(a,"issuekey",this.issueComponent.getIssueKey.bind(this.issueComponent))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(a){this.issueComponent.refreshIssue().done(function(){f.show(a.message,a.issueKey);k.traceIssueUpdated()})},"issueRestore issueArchive":function(a){this.issueComponent.refreshIssue({mergeIntoCurrent:!1}).done(function(){f.show(a.message,a.issueKey);
k.traceIssueUpdated()})},issueDelete:function(a){f.show(a.message,a.issueKey);a.issueKey===this.state.get("issue")?this.trigger("issueDelete",a):this.issueComponent.refreshIssue()}})},_buildFocusShifter:function(){this.focusShifter=new n(this.issueComponent)},getIssueId:function(){return this.issueComponent.getIssueId()},getIssueKey:function(){return this.issueComponent.getIssueKey()},getProjectId:function(){return this.issueComponent.getProjectId()},getProjectKey:function(){return this.issueComponent.getProjectKey()},
getProjectType:function(){return this.issueComponent.getProjectType()},_buildPager:function(){this.pager=new v;this.listenTo(this.pager,{next:function(){this._loadNextIssue()},previous:function(){this._loadPreviousIssue()}})},_loadNextIssue:function(){var a=this.state.get("searchResults");a&&a.getNextIssue().done(function(a){this._loadIssueFromPager(a,"pager:next")}.bind(this))},_loadPreviousIssue:function(){var a=this.state.get("searchResults");a&&a.getPreviousIssue().done(function(a){this._loadIssueFromPager(a,
"pager:previous")}.bind(this))},_loadIssueFromPager:function(a,c){var b=this.state.get("searchResults");this.trigger(c,{current:b.getPositionOfIssueInSearchResults(a.id),total:b.length});this.load(a.get("key"))},getAPIImplementation:function(){var a=this;return{nextIssue:function(){if(a.state.get("searchResults"))return d.startIssueSearch(),a._loadNextIssue()},previousIssue:function(){if(a.state.get("searchResults"))return d.startIssueSearch(),a._loadPreviousIssue()},getActiveIssueId:function(){return a.issueComponent.getIssueId()},
getActiveIssueKey:function(){return a.issueComponent.getIssueKey()},refreshActiveIssue:function(){d.startIssueSearch();return a.issueComponent.refreshIssue()},refreshIssue:function(){d.startIssueSearch();return a.issueComponent.refreshIssue()},editField:function(b){if(!("getFields"in a.issueComponent))return!1;var c=a.issueComponent.getFields();(c=(b=c&&c.get(b))&&b.isEditable())&&a.issueComponent.editField(b);return c},getFields:function(){if("getFields"in a.issueComponent){var b=a.issueComponent.getFields();
return b.length?b:void 0}},isSaving:function(){return"hasSavesInProgress"in a.issueComponent?a.issueComponent.hasSavesInProgress():!1},isLoading:function(){return a.issueComponent.isCurrentlyLoading()},hasAccessibleIssue:function(){return!a.issueComponent.isShowingError()},showLoadError:function(){return t.showErrorMsg("",r.Body.errorsLoading(),{persistent:!1})},waitForSavesToComplete:function(){if(!("hasSavesInProgress"in a.issueComponent))return(new h.Deferred).resolve().promise();var b=new h.Deferred;
if(a.issueComponent.hasSavesInProgress())a.issueComponent.once("saveSuccess",function(){e.defer(function(){a.issueComponent.hasSavesInProgress()||b.resolve()})});else b.resolve();return b.promise()},openFocusShifter:function(){a.focusShifter.show()},toggleFullscreenIssue:function(){a.showCollapse&&a.trigger("collapse","kb-shortcut")}}},focusIssueEditor:function(){this.issueComponent.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/IssueSearch.js' */
define("jira/projectissuenavigator/pages/issuesearch",["require"],function(c){var e=c("jira/projectissuenavigator/libs/underscore"),n=c("jira/components/detailslayout"),p=c("jira/projectissuenavigator/services/dialogsoverrider"),q=c("jira/projectissuenavigator/pages/issuesearch/views/empty"),f=c("jira/projectissuenavigator/services/filters"),r=c("jira/projectissuenavigator/services/focusshifter"),t=c("jira/projectissuenavigator/services/inline-issue-create"),u=c("jira/util/events"),v=c("jira/flag"),
g=c("jquery"),w=c("jira/projectissuenavigator/services/linkscapturer"),x=c("jira/projectissuenavigator/libs/marionette"),y=c("jira/message"),k=c("jira/util/data/meta"),d=c("jira/projectissuenavigator/services/metrics"),l=c("jira/projectissuenavigator/services/notifications"),h=c("jira/ajs/ajax/smart-ajax"),m=c("jira/projectissuenavigator/pages/issuesearch/templates"),z=c("jira/components/util/events"),A=c("jira/projectissuenavigator/libs/uri"),B=c("jira/projectissuenavigator/services/urlhelper"),
C=JIRA.Projects.Subnavigator;return x.Object.extend({initialize:function(a){this.el=g(m.issueSearch());this._buildState(a.state);this._buildSearch(a.search);this._buildSubnavigation();a.canCreateIssues&&this._buildInlineIssueCreate();this._buildDetailsLayout();this._buildLinksCapturer();this._buildDialogsOverrider();this._buildFocusShifter()},_buildState:function(a){this.state=a},_setTitleText:function(a){var b=f.getAvailableFilters(!0);a=e.chain(b).flatten().findWhere({id:a}).value();this.el.find("#issues-subnavigation-title").text(a&&
a.label||"")},_buildSubnavigation:function(){var a=this.state.get("filter")||f.getDefaultFilterId();this._setTitleText(a);this.subnavigation=new C({triggerPlaceholder:this.el.find("#issues-subnavigation-trigger"),contentPlaceholder:this.el.find("#issues-subnavigation-content"),itemGroups:f.getAvailableFilters(!0),selectedItem:a,hideSelectedItem:!1,changeViewText:"Switch filter"});this.listenTo(this.subnavigation,{itemSelected:function(b){"manage"===b.item.id?this.trigger("manageFilters"):
b.item.jql&&(d.startIssueSearch(),b.preventDefault(),this._setTitleText(b.item.id),this.search({filter:b.item.id,issue:null,orderby:null}),this.trigger("filterSelected",{filterId:b.item.id,source:"subnavigator"}))}})},_buildInlineIssueCreate:function(){this.inlineIssueCreate=new t;this.listenTo(this.inlineIssueCreate,{issueCreated:function(a){d.startIssueSearch();this.search({issue:a.issue.issueKey})}})},_buildDetailsLayout:function(){var a={baseURL:B.generateRootUrl(this.state.get("project")),useExpand:!0};
this.options.canCreateIssues&&(a.displayInlineIssueCreate=!0,a.emptyViewFactory=e.bind(function(){return this.emptyView=new q({emptyViewContent:this.options.emptyViewContent})},this));this.detailsLayout=new n(a);this.listenTo(this.detailsLayout,{select:function(b){this.state.set("issue",b.key);this.trigger("issue:select",{issue:b.key})},empty:function(){this.state.unset("issue");this.options.canCreateIssues&&(this.emptyView.inlineIssueCreateContainer._ensureElement(),this.inlineIssueCreate.show(this.emptyView.inlineIssueCreateContainer.$el),
this.inlineIssueCreate.activateWithJQL(this.state.get("searchResults").jql));this.trigger("issue:empty")},"list:update":function(){this.trigger("list:update")},"list:sort":function(b){d.startIssueSearch();(b=b.match(/ORDER +BY +(.*)$/i))&&this.search({orderby:b[1]})},"list:refresh":function(){d.startIssueSearch();this.search({issue:null})},"list:select":function(b){d.startIssueSearch();this.trigger("issueSelectedInList",b)},render:function(){u.trigger(z.LAYOUT_RENDERED)},"editorLoadedFromCache editorLoaded":function(b){d.endIssueSearch(this.getIssueId());
k.set("viewissue-permlink",this._getFullScreenURL(b.issueKey));this.trigger("editorLoaded",{issueRefreshedEvent:(b.issueEditorOptions||{}).issueRefreshedEvent||!1})},linkToIssue:function(b){this.trigger("linkToIssue",b)},"list:pagination":function(){d.startIssueSearch()},"error:loadpage":function(b){this.showErrorFlagFromResponse(b)},"editor:saveSuccess":function(b){this.trigger("editor:saveSuccess",{issueId:b.event,savedFieldIds:b.savedFieldIds,savedFieldTypes:b.savedFieldTypes,duration:b.duration})},
"editor:editField":function(b){this.trigger("editor:editField",b)},"editor:editFieldCancel":function(b){this.trigger("editor:editFieldCancel",b)},"pager:next":function(b){d.startIssueSearch();this.trigger("pager:next",b)},"pager:previous":function(b){d.startIssueSearch();this.trigger("pager:previous",b)},expand:function(){this.trigger("expand","ui-button")},editorError:function(){this.trigger("editorError")},editorFieldsLoaded:function(){this.trigger("editorFieldsLoaded")},individualPanelRendered:function(b){this.trigger("individualPanelRendered",
b)}});this.options.canCreateIssues&&this.listenTo(this.detailsLayout,{issueCreated:function(b){f.filterSupportsInlineIssueCreate(this.state.get("filter"))?(d.startIssueSearch(),this.search({issue:b.issue.issueKey})):y.showSuccessMsg(m.issueCreatedFlag({issueKey:b.issue.issueKey,projectKey:this.state.get("project"),summary:b.fields.summary}),{closeable:!0})}})},_buildSearch:function(a){this.searchService=a},_buildLinksCapturer:function(){this.linksCapturer=new w({el:this.el});this.listenTo(this.linksCapturer,
{linkToFullIssueNavigator:function(){this.trigger("goToFullIssueNavigator")}})},_buildDialogsOverrider:function(){function a(b,a,c){return c&&c.$activeTrigger&&c.$activeTrigger.data(b)||"function"===typeof a&&a()}this.dialogsOverrider=new p({getIssueId:e.partial(a,"issueid",e.bind(this.detailsLayout.getActiveIssueId,this.detailsLayout)),getIssueKey:e.partial(a,"issuekey",e.bind(this.detailsLayout.getActiveIssueKey,this.detailsLayout))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(a){this.detailsLayout.refreshIssue(a.issueId).done(e.bind(function(){l.show(a.message,
a.issueKey)},this))},"issueDelete issueArchive":function(a){this.removeIssue(a.issueId).done(e.bind(function(){l.show(a.message,a.issueKey)},this))}})},_buildFocusShifter:function(){this.focusShifter=new r(this.detailsLayout.issueComponent)},_getFullScreenURL:function(a){var b=k.get("jira-base-url");return(new A(b+"/browse/"+a)).normalize().toString()},load:function(){var a=this.state.get("searchResults"),b=this.state.get("filter"),c=f.getAllIssuesFilterId()===b,d=this.state.get("issue"),e=a.hasIssueInSearch(d);
this._setTitleText(b);this.subnavigation.selectItem(b);d?e?this.detailsLayout.load(a,d):c?this.detailsLayout.load(a):(this.search({filter:f.getAllIssuesFilterId()}),this.trigger("filterSelected",{filterId:f.getAllIssuesFilterId(),source:"issueFilterMismatch"})):this.detailsLayout.load(a)},search:function(a){a=a||{};this.state.update({issue:a.issue,filter:a.filter,orderby:a.orderby});this.detailsLayout.showLoading();var b=f.getJQL(this.state.get("filter"),this.state.get("project"),this.state.get("orderby"));
this.searchService.search(b).done(e.bind(function(b){this.state.update({searchResults:b});!this.state.has("issue")&&a.startIndex&&this.state.update({issue:b.getIssueKeyForIndex(a.startIndex)});this.load()},this)).fail(e.bind(function(a){this.detailsLayout.hideLoading();this.showErrorFlagFromResponse(a)},this))},show:function(){this.subnavigation.show();this.detailsLayout.show(g(this.el).find(".details-layout"))},onDestroy:function(){this.subnavigation.destroy();this.inlineIssueCreate&&this.inlineIssueCreate.destroy();
this.detailsLayout.destroy();this.linksCapturer.destroy();this.dialogsOverrider.destroy();this.focusShifter.destroy()},adjustSize:function(){this.detailsLayout.adjustSize()},showErrorFlagFromResponse:function(a){if("undefined"===typeof a||a.statusText===h.SmartAjaxResult.TIMEOUT||401===a.status||a.hasData)return this.showErrorFlag(h.buildSimpleErrorContent(a));var b=JSON.parse(a.responseText);return 400===a.status&&0<b.errorMessages.length?this.showErrorFlag(b.errorMessages[0]):this.showErrorFlag(h.buildSimpleErrorContent(a))},
showErrorFlag:function(a){a=AJS.escapeHtml(a);return v.showErrorMsg("",a,{persistent:!1})},removeIssue:function(a){return this.detailsLayout.removeIssue(a)},getIssueId:function(){return this.detailsLayout.getActiveIssueId()},getIssueKey:function(){return this.detailsLayout.getActiveIssueKey()},getProjectId:function(){return this.detailsLayout.getActiveProjectId()},getProjectKey:function(){return this.detailsLayout.getActiveProjectKey()},getProjectType:function(){return this.detailsLayout.getActiveProjectType()},
getAPIImplementation:function(){var a=this;return{nextIssue:function(){d.startIssueSearch();return a.detailsLayout.selectNext()},previousIssue:function(){d.startIssueSearch();return a.detailsLayout.selectPrevious()},getActiveIssueId:function(){return a.getIssueId()},getActiveIssueKey:function(){return a.getIssueKey()},refreshActiveIssue:function(){d.startIssueSearch();var b=a.detailsLayout.getActiveIssueId();return a.detailsLayout.refreshIssue(b)},refreshIssue:function(b){d.startIssueSearch();return a.detailsLayout.refreshIssue(b)},
editField:function(b){var c=a.detailsLayout.issueComponent.getFields();(c=(b=c&&c.get(b))&&b.isEditable())&&a.detailsLayout.issueComponent.editField(b);return c},getFields:function(){var b=a.detailsLayout.issueComponent.getFields();return b.length?b:void 0},isSaving:function(){return a.detailsLayout.issueComponent.hasSavesInProgress()},isLoading:function(){return a.detailsLayout.isLoading()},hasAccessibleIssue:function(){return!(!(a.detailsLayout.searchResults&&a.detailsLayout.searchResults.length&&
a.detailsLayout.searchResults.selected)||a.detailsLayout.searchResults.selected.get("inaccessible"))},showLoadError:function(){return a.showErrorFlag(JIRA.Components.IssueViewer.Templates.Body.errorsLoading())},waitForSavesToComplete:function(){var b=new g.Deferred;if(a.detailsLayout.issueComponent.hasSavesInProgress())a.once("editor:saveSuccess",function(){e.defer(function(){a.detailsLayout.issueComponent.hasSavesInProgress()||b.resolve()})});else b.resolve();return b.promise()},openFocusShifter:function(){a.focusShifter.show()},
toggleFullscreenIssue:function(){a.trigger("expand","kb-shortcut")}}},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/views/Empty.js' */
define("jira/projectissuenavigator/pages/issuesearch/views/empty",["require"],function(a){var c=a("jira/projectissuenavigator/libs/marionette"),b=a("jira/projectissuenavigator/pages/issuesearch/templates");return c.LayoutView.extend({initialize:function(){this.content=this.options.emptyViewContent||b.defaultEmptyState()},template:b.emptyState,regions:{inlineIssueCreateContainer:".inline-issue-create-container"},serializeData:function(){return{content:this.content}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/entities/NavigatorState.js' */
define("jira/projectissuenavigator/entities/navigatorstate",["require"],function(a){var c=a("jira/projectissuenavigator/libs/underscore");return a("jira/components/libs/backbone").Model.extend({defaults:{project:void 0,issue:void 0,filter:void 0,orderby:void 0,searchResults:void 0,startIndex:void 0},update:function(a){c.each(a,function(a,b){null===a?this.unset(b):void 0!==a&&this.set(b,a)}.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/templates/amd-wrapper.js' */
define("jira/projectissuenavigator/templates",function(){return JIRA.Issues.Projects.Templates});define("jira/projectissuenavigator/pages/issuesearch/templates",function(){return JIRA.Issues.Projects.IssueSearch.Templates});define("jira/projectissuenavigator/pages/issueview/templates",function(){return JIRA.Issues.Projects.IssueView.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:commons_runtime', location = 'dist/runtime.9995922c9ff8e7e24e64.js' */
(function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c=window.jiraDevelopmentIntegrationPluginJsonp;window.jiraDevelopmentIntegrationPluginJsonp=function(d,f,g){for(var h,j,k,l=0,i=[];l<d.length;l++)j=d[l],e[j]&&i.push(e[j][0]),e[j]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h]);for(c&&c(d,f,g);i.length;)i.shift()();if(g)for(l=0;l<g.length;l++)k=b(b.s=g[l]);return k};var d={},e={runtime:0};b.e=function(a){function c(){h.onerror=h.onload=null,clearTimeout(i);var b=e[a];0!==b&&(b&&b[1](new Error("Loading chunk "+a+" failed.")),e[a]=void 0)}var d=e[a];if(0===d)return new Promise(function(a){a()});if(d)return d[2];var f=new Promise(function(b,c){d=e[a]=[b,c]});d[2]=f;var g=document.getElementsByTagName("head")[0];if({0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0}[a])return WRM.require("wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:"+a),f;var h=document.createElement("script");h.type="text/javascript",h.charset="utf-8",h.async=!0,h.timeout=12e4,b.nc&&h.setAttribute("nonce",b.nc),h.src=b.p+""+({"card-module":"card-module","column-module":"column-module","devstatus-admin":"devstatus-admin","devstatus-admin-summary":"devstatus-admin-summary","devstatus-triggers":"devstatus-triggers","devstatus-view-issue":"devstatus-view-issue",releasereport:"releasereport","smart-commits":"smart-commits"}[a]||a)+"."+{0:"075180f0a8e207fec1f8",1:"fec0007dbcd89e6f3143",2:"195e7c6904d140d50b77",3:"0d345f285ffd2a7d8916",4:"05687710bd8a39ec358a",5:"abe8ed1052b516f3194d",6:"5ca3fd6a714624a67e6b",7:"1177d165aa98a228b4db",8:"4edca695b89465692a9a",9:"7fa01b8b3cd68c910671",10:"5e66066b698ab99da844",11:"4dbe74eebbcb499003a0",12:"0bcf0dde506c503eb999",13:"81f895f757db3e200dae",14:"2f8c736245a73b12a7d7",15:"9f9adc450b44a69ca456","card-module":"90d17a033f0bf73f48ff","column-module":"8ef50e6cb5d90eb66cd2","devstatus-admin":"762acd76e8a530cfb7c5","devstatus-admin-summary":"f0721f96e26c1970a60d","devstatus-triggers":"68cb1b64ec4835e567b8","devstatus-view-issue":"db31d611e52e0febdb0b",releasereport:"6e5d460bc7d74266f2c3","smart-commits":"c6e3879f47ab75ffa3ca"}[a]+".js";var i=setTimeout(c,12e4);return h.onerror=h.onload=c,g.appendChild(h),f},b.m=a,b.c=d,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.oe=function(a){throw console.error(a),a},"undefined"!=typeof AJS&&(b.p=AJS.contextPath()+"/download/resources/com.atlassian.jira.plugins.jira-development-integration-plugin:assets-DEV_PSEUDO_HASH/")})([]);
//# sourceMappingURL=runtime.9995922c9ff8e7e24e64.js.map
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:entrypoint-devstatus-view-issue', location = 'dist/devstatus-view-issue.db31d611e52e0febdb0b.js' */
jiraDevelopmentIntegrationPluginJsonp(["devstatus-view-issue"],{"./js/util/DevStatusNavigation.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:wrm-context-path/require('wrm/context-path')"),c("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],e=function(a,b){return{getUrl:function(){return window.location.href},reload:function(){b.defer(function(){window.location.reload()})},navigate:function(a){b.defer(function(){window.location=a})},redirectToLogin:function(){this.navigate(a()+"/login.jsp?permissionViolation=true&os_destination="+encodeURIComponent(window.location.href))}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./js/util/DevStatusURLUtils.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:jquery/require('jquery')"),c("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),c,c("jira.webresources:parse-uri/require('jira/libs/parse-uri')")],e=function(a,b,d,e){var f=c("./js/util/DevStatusNavigation.js");return{getDetailDialogParam:function(){var a=this._removeKickAssIHashFromUrl(f.getUrl()),b=e(a);return b&&b.queryKey&&b.queryKey.devStatusDetailDialog},getUrlWithDetailDialogParam:function(a){var b=this._removeKickAssIHashFromUrl(f.getUrl()),c=e(b);return c.queryKey.devStatusDetailDialog=encodeURIComponent(a),this.createUrlFromParsedUri(c)},getCreateReviewDetailUrl:function(a){return this.getUrlWithDetailDialogParam("create-review-"+a)},isCreateReviewDetailDialogLink:function(a){return a&&a.lastIndexOf&&0===a.lastIndexOf("create-review-",0)},getCreateReviewDetailDialogApplicationType:function(a){return a.substring(14)},_removeKickAssIHashFromUrl:function(a){return a.replace("i#","")},createUrlFromParsedUri:function(c){var d=[];a.each(c.queryKey,function(c,e){b.isObject(e)?a.each(e,function(a,b){d.push(c+"="+b)}):d.push(c+"="+e)});var e="";return c.protocol&&(e+=c.protocol+"://"),c.authority&&(e+=c.authority),c.path&&(e+=c.path),0<d.length&&(e+="?"+d.join("&")),c.anchor&&(e+="#"+c.anchor),e}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./js/viewissue/DevStatusInit.js":function(a,b,c){"use strict";var d=c("./js/viewissue/DevStatusStatePersist.js"),e=c("jira.webresources:jquery/require('jquery')");d.setDetailDialogParam(),e(function(){return c.e(0).then(function(){var a=[c("./js/viewissue/DevStatusApp.js")];(function(a){return a.documentReadyInit(e(document))}).apply(null,a)}).catch(c.oe)})},"./js/viewissue/DevStatusStatePersist.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:jira-metadata/require('jira/util/data/meta')"),c("./js/util/DevStatusURLUtils.js")],e=function(a,b){return{setDetailDialogParam:function(){a.set("fusion-open-detail-dialog",b.getDetailDialogParam())}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"jira.webresources:ajs-underscorejs-amd-shim/require('underscore')":function(a){a.exports=require("underscore")},"jira.webresources:jira-metadata/require('jira/util/data/meta')":function(a){a.exports=require("jira/util/data/meta")},"jira.webresources:jquery/require('jquery')":function(a){a.exports=require("jquery")},"jira.webresources:parse-uri/require('jira/libs/parse-uri')":function(a){a.exports=require("jira/libs/parse-uri")},"jira.webresources:wrm-context-path/require('wrm/context-path')":function(a){a.exports=require("wrm/context-path")}},["./js/viewissue/DevStatusInit.js"]);
//# sourceMappingURL=devstatus-view-issue.db31d611e52e0febdb0b.js.map
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/util/IssuesApi.js' */
define("jira-project-config/issues/api",function(){"use strict";return window.JIRA&&window.JIRA.Issues&&window.JIRA.Issues.Api});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/main.js' */
require(["wrm/require","jquery"],function(i,e){"use strict";function c(e){i(["wrc!com.atlassian.jira.jira-project-config-plugin.custom-fields-impl"],function(){require(["jira-project-config/custom-fields/api","jira-project-config/issues/api"],e)})}e(document).on("click",".issueaction-fields-add",function(i){i.preventDefault(),c(function(i,e){var c=e.getSelectedIssueId();i.addCustomFieldToIssue(c)})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'templates/share-dialog.soy' */
// This file was automatically generated from share-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.Share.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.Share == 'undefined') { JIRA.Templates.Dialogs.Share = {}; }


JIRA.Templates.Dialogs.Share.contentPopup = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui recipients-form share-content-popup ' + ((opt_data.shareData.issue) ? ' viewissue ' : (opt_data.shareData.filter) ? ' issuenav ' : '') + '">' + JIRA.Templates.Dialogs.Share.shareLink(opt_data) + '<fieldset class="padding">' + ((opt_data.showForm) ? JIRA.Templates.Dialogs.Share.shareForm(opt_data) : JIRA.Templates.Dialogs.Share.disabledMailMessage(soy.$$augmentMap(opt_data.isAdmin, {isAdmin: opt_data.isAdmin}))) + '</fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.contentPopup.soyTemplateName = 'JIRA.Templates.Dialogs.Share.contentPopup';
}


JIRA.Templates.Dialogs.Share.shareForm = function(opt_data, opt_ignored) {
  return '<label for="sharenames-multi-select">' + soy.$$escapeHtml('User name or email') + '</label><div class="autocomplete-user-target"><select id="sharenames" name="sharenames" class="share-user-picker hidden" multiple="multiple"></select></div><ol class="recipients"></ol><div><label for="note">' + soy.$$escapeHtml('Note') + '</label></div><textarea class="textarea long-field" id="note" placeholder="' + soy.$$escapeHtml('Add an optional note') + '"></textarea><div class="button-panel"><div class="status"><div class="icon"></div><div class="progress-messages"></div></div><div class="buttons"><input accesskey="' + soy.$$escapeHtml('s') + '" id="submitShare" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.modifierKey)) + '" class="button submit" type="submit" value="' + soy.$$escapeHtml('Share') + '" disabled/> <a accesskey="' + soy.$$escapeHtml('`') + '" id="cancelShare" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.modifierKey)) + '" class="close-dialog" href="javascript:">' + soy.$$escapeHtml('Cancel') + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareForm.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareForm';
}


JIRA.Templates.Dialogs.Share.disabledMailMessage = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isAdmin) ? aui.message.generic({content: '<p>' + soy.$$escapeHtml('Outgoing mail is not configured. Please contact your Jira administrator to enable sharing.') + '</p>', extraClasses: 'disabled-mail-message'}) : aui.message.generic({content: '<p>' + soy.$$escapeHtml('Outgoing mail is not configured. You can configure it here') + '<a class="aui-list-item-link" id="configure_mail_server" href="' + soy.$$escapeHtml("") + '/secure/admin/OutgoingMailServers.jspa"><em> ' + soy.$$escapeHtml('Outgoing mail') + '</em></a>.</p>', extraClasses: 'disabled-mail-message'}));
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.disabledMailMessage.soyTemplateName = 'JIRA.Templates.Dialogs.Share.disabledMailMessage';
}


JIRA.Templates.Dialogs.Share.shareLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.shareData.permlink) ? '<div class="issuenav-permalink padding"><label>' + ((opt_data.shareData.issue) ? soy.$$escapeHtml('Link to issue') : (opt_data.shareData.filter) ? soy.$$escapeHtml('Link to filter') : '') + '</label><input class="permalink text long-field" value="' + soy.$$escapeHtml(opt_data.shareData.permlink) + '" readonly></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareLink.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-user-multi-select.js' */
define("jira/share-plugin/share-user-picker",["jira/skate","jira/field/multi-user-list-picker","jquery"],function(e,r,t){"use strict";var i=t(document);return e("share-user-picker",{type:e.type.CLASSNAME,attached:function(e){var a=t(e),u=new r({layerId:a.attr("id")+"-layer",element:a,freeEmailInput:!0});i.trigger("ready.multi-select.share-user",u)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-dialog.js' */
define("jira/share-plugin/share-plugin-dialog",["jira/util/key-code","jira/util/logger","jira/util/formatter","wrm/context-path","underscore","jira/ajs/layer/inline-layer","jira/ajs/ajax/smart-ajax","jira/util/events","jira/util/events/types","jira/util/data/meta","jira/util/events/reasons","aui/inline-dialog","jquery"],function(e,i,n,t,a,s,r,o,l,d,u,h,c){"use strict";return function(){function g(){return c(this).attr("data-username")}function f(){return c(this).attr("data-email")}var m,p,b,v=!0;this.resetAndHide=function(){return c(document).one("hideLayer",function(e,i,n){"inlineDialog"===i&&n.popup===m&&(c(document).unbind(".share-dialog"),b.empty(),b=void 0,p=void 0)}),this.hideDialog()},this.hideDialog=function(){return m.hide(),!1},this._buildSendShareUrl=function(e,i){var n=t()+"/rest/share/1.0";return e.issue?n+="/issue/"+e.issueKey:e.filter&&(e.filterId?n+="/filter/"+e.filterId:(i.jql=e.jql,n+="/search")),n},this._successShareHandler=function(){b.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-tick"),b.find(".progress-messages").removeClass("sending").addClass("success").text("Sent"),setTimeout(a.bind(this.resetAndHide,this),1e3)},this._errorShareHandler=function(){b.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-cross"),b.find(".progress-messages").removeClass("sending").addClass("error").text("Error while sending")},this._sendShare=function(e,t){c("button,input,textarea",this).attr("disabled","disabled"),b.find(".button-panel .icon").addClass("throbber loading");var s=b.find(".progress-messages");s.text("Sending"),s.addClass("sending");var o=this._buildSendShareUrl(t,e);i.trace("jira.plugins.share.send",a.defaults({url:o},e));var l={type:"POST",contentType:"application/json",dataType:"json",url:o,data:JSON.stringify(e),success:a.bind(this._successShareHandler,this),error:a.bind(this._errorShareHandler,this)};r.makeRequest(l)},this._collectMailData=function(){var e=b.find(".recipients"),i=e.find("li[data-username]").map(g).toArray(),n=e.find("li[data-email]").map(f).toArray();return!(!i.length&&!n.length)&&{usernames:i,emails:n,message:b.find("#note").val()}},this.submit=function(e){var i=this._collectMailData();return i&&this._sendShare(i,e),!1},this._enableSubmit=function(e){b.find(".submit").prop("disabled",!e)},this.enableAccessKeys=function(e){c(e).handleAccessKeys({selective:!1})},this._getShareData=function(e){var i,n,t=c(e);t.hasClass("viewissue-share")?(i="issue",n=d.get("viewissue-permlink")):t.hasClass("issuenav-share")&&(i="filter",n=d.get("issuenav-permlink"));var a={issueKey:d.get("issue-key"),filterId:d.get("filter-id"),jql:d.get("filter-jql"),permlink:n};return a[i]=!0,a},this._enableSubmitWhenIsRecipient=function(){var e=b.find("#sharenames").val(),i=null!=e&&e.length>0;this._enableSubmit(i)},this._addInteractionHandlersToDialog=function(i){b.find("#sharenames").bind("change unselect",a.bind(this._enableSubmitWhenIsRecipient,this)),b.find(".close-dialog").click(a.bind(this.resetAndHide,this)),b.find("form").submit(a.bind(this.submit,this,i)),b.find(".issuenav-permalink .text").click(function(e){return e.target.select(),!1}),c(document).bind("keyup.share-dialog",a.bind(function(i){return i.keyCode!==e.ESCAPE||this.hideDialog()},this)),c(document).bind("showLayer.share-dialog",function(e,i,n){"inlineDialog"===i&&n.popup===m&&b.find("#sharenames-textarea").focus()})},this._renderDialogContent=function(e){b.html(JIRA.Templates.Dialogs.Share.contentPopup({shareData:e,modifierKey:d.get("keyboard-accesskey-modifier"),showForm:d.get("outgoing-mail-enabled"),isAdmin:d.get("is-admin")}))},this._generatePopup=function(e,i,n){var t=this._getShareData(i);if(b&&p===t.permlink)return b=e,void n();p=t.permlink,b=e,this._renderDialogContent(t),this._enableSubmit(!1),this._addInteractionHandlersToDialog.call(this,t),this.enableAccessKeys(c("form",b)),n(),o.trigger(l.NEW_CONTENT_ADDED,[b,u.shareDialogOpened])},this._scrollIntoViewForAuto=function(){var e=this;c(this.context).scrollIntoViewForAuto({complete:function(){var i=c(this).add(window);a.delay(function(){i.one("scroll",function(){c(document.activeElement).blur(),e.hideDialog()})},20)}})},this._createDialogOptions=function(e){var i=-1!==e.indexOf("issuenav")?-110:-170;return{preHideCallback:function(){return v},hideCallback:function(){c(".dashboard-actions .explanation").hide()},offsetY:17,offsetX:i,hideDelay:36e5,useLiveEvents:!0,initCallback:a.bind(this._scrollIntoViewForAuto,this)}},this._addAJSInlineLayerEventHandlers=function(){o.bind(s.EVENTS.beforeShow,function(e,i,n){"sharenames-layer"===n&&(v=!1)}),o.bind(s.EVENTS.hide,function(e,i,n,t){"sharenames-layer"===t&&setTimeout(function(){v=!0},0)})},this._initShareDialog=function(i,n){var t=this;this.context=n,this._addAJSInlineLayerEventHandlers();var s=this._createDialogOptions(i);m=h(c(n),i,a.bind(t._generatePopup,t),s),m[0].popup._validateClickToClose=function(e){return 0===m.has(e.target).length},c(n).live("click",function(){m.find(".contents:visible").length&&m.find("a.close-dialog").click()}),c(document).bind("keydown",function(i){i.keyCode===e.ESCAPE&&h.current!==m&&m.is(":visible")&&(h.current&&h.current.hide(),m.hide())})},this._overrideContents=function(e){b=e},this._getCurrentDialogContent=function(){return b},this._getAllowDialogHide=function(){return v}}}),AJS.namespace("JIRA.JiraSharePlugin.SharePluginDialog",null,require("jira/share-plugin/share-plugin-dialog"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources-init', location = 'js/share-dialog-init.js' */
define("jira/share-plugin/initialiser",["underscore","jquery","jira/share-plugin/share-plugin-dialog","jira/share-plugin/share-user-picker"],function(i,e,a){"use strict";return{init:i.once(function(){var s={};return s.viewIssueDialog=new a(e),s.issueNavDialog=new a(e),e(i.bind(s.viewIssueDialog._initShareDialog,s.viewIssueDialog,"share-entity-popup-viewissue","#jira-share-trigger.viewissue-share")),e(i.bind(s.issueNavDialog._initShareDialog,s.issueNavDialog,"share-entity-popup-issuenav","#jira-share-trigger.issuenav-share")),s})}}),function(i){"use strict";var e=i.init();AJS.namespace("JIRA.JiraSharePlugin.viewIssueDialog",null,e.viewIssueDialog),AJS.namespace("JIRA.JiraSharePlugin.issueNavDialog",null,e.issueNavDialog)}(require("jira/share-plugin/initialiser"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:marionette', location = 'lib/backbone/marionette/backbone.marionette-amd.js' */
define("jira/view-issue-plugin/lib/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(e,i,n){return n(i,e)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-contents-view.js' */
define("jira/view-issue-plugin/attachment/attachment-contents-view",["jira/view-issue-plugin/lib/marionette"],function(t){"use strict";return t.ItemView.extend({template:JIRA.Templates.ViewIssue.attachmentContents,initialize:function(t){this.attachment=t.attachment,this.issueId=t.issueId,this.baseUrl=t.baseUrl},serializeData:function(){return{attachment:this.attachment,issueId:this.issueId,baseUrl:this.baseUrl}}})}),define("jira/attachment/attachment-contents-view",["jira/view-issue-plugin/attachment/attachment-contents-view"],function(t){"use strict";return t});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-element.js' */
define("jira/view-issue-plugin/attachment/attachment-element",["jira/util/logger","wrm/context-path","jquery","jira/skate","jira/view-issue-plugin/lib/marionette","jira/attachment/attachment-contents-view"],function(t,e,n,i,a,r){"use strict";function o(i){var o=n(i),c=o.data("attachment-id"),s=o.data("issue-id"),u=e()+"/rest/api/2/attachment/"+c+"/expand/human",l=n.get(u);l.done(function(t){var n=new a.Region({el:o.find(".zip-contents").first()}),i=new r({attachment:t,issueId:s,baseUrl:window.location.protocol+"//"+window.location.host+e()});n.show(i)}),l.error(function(e){t.error(e)})}return i("js-file-attachment",{type:i.type.CLASSNAME,attached:function(e){n(e).find(".expander").one("expandBlock",function(){o(e)}),t.trace("jira.plugins.viewissue.expansion.wired")},events:{"click .attachment-title":function(t,e){if(1===e.which){var n=t.getThumbnailImage();n.length&&(n.click(),e.preventDefault())}}},prototype:{getThumbnailImage:function(){return n(".gallery",this)}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment.soy' */
// This file was automatically generated from attachment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.attachmentContents = function(opt_data, opt_ignored) {
  var output = '<ol class="archive-expanded">';
  var entries__soy4 = opt_data.attachment.entries;
  var entryList5 = entries__soy4;
  var entryListLen5 = entryList5.length;
  for (var entryIndex5 = 0; entryIndex5 < entryListLen5; entryIndex5++) {
    var entryData5 = entryList5[entryIndex5];
    output += JIRA.Templates.ViewIssue.attachmentArchiveEntry(soy.$$augmentMap(opt_data, {entry: entryData5}));
  }
  output += ((opt_data.attachment.totalEntryCount == 0) ? '<li><div class="aui-message aui-message-warning" style="display: inline-block"><p>' + soy.$$escapeHtml('This archive is either corrupt, empty or not an archive at all') + '.</p></div></li>' : '') + '</ol><span class="zip-contents-trailer">' + ((entries__soy4.length < opt_data.attachment.totalEntryCount) ? '<span class="limit-info">' + soy.$$escapeHtml(AJS.format('Showing {0} of {1} items',entries__soy4.length,opt_data.attachment.totalEntryCount)) + ' </span>' : '');
  var attachmentUrl__soy20 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachment/' + soy.$$escapeHtml(opt_data.attachment.id) + '/';
  output += '<a href="' + soy.$$escapeHtml(attachmentUrl__soy20) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mediaType) + ':' + soy.$$escapeHtml(opt_data.attachment.name) + ':' + soy.$$escapeHtml(attachmentUrl__soy20) + '">' + soy.$$escapeHtml('Download Zip') + '</a></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentContents.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentContents';
}


JIRA.Templates.ViewIssue.attachmentArchiveEntry = function(opt_data, opt_ignored) {
  var output = '';
  var entryUrl__soy37 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachmentzip/unzip/' + soy.$$escapeHtml(opt_data.issueId) + '/' + soy.$$escapeHtml(opt_data.attachment.id) + '%5B' + soy.$$escapeHtml(opt_data.entry.index) + '%5D/';
  var entryDownloadUrl__soy49 = soy.$$filterNoAutoescape(opt_data.entry.mediaType) + ':' + soy.$$filterNoAutoescape(opt_data.entry.path) + ':' + soy.$$filterNoAutoescape(entryUrl__soy37);
  output += '<li class="archive-entry" data-entry-index="' + soy.$$escapeHtml(opt_data.entry.index) + '"><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(entryUrl__soy37) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype: opt_data.entry.mediaType, baseurl: opt_data.baseUrl}) + '</a></div><a class="file-path" href="' + soy.$$escapeHtml(entryUrl__soy37) + '" title="' + soy.$$escapeHtml(opt_data.entry.path) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + soy.$$escapeHtml(opt_data.entry.label) + '</a><span class="attachment-size">' + soy.$$escapeHtml(opt_data.entry.size) + '</span></li>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentArchiveEntry.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentArchiveEntry';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:draggableattachment', location = 'viewissue/initDraggableAttachment.js' */
define("jira/view-issue-plugin/init-draggable-attachment",["jquery"],function(e){"use strict";e.event.props.push("dataTransfer"),e("[draggable=true]").live("dragstart",function(a){var t=e(this),i=a.dataTransfer;i.effectAllowed="copy",i.dropEffect="copy",i.setData("DownloadURL",t.data("downloadurl")),t.find("img").length||i.setDragImage(t.closest("li").find("img:visible")[0],8,8)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:analytics', location = 'viewissue/analytics.js' */
define("jira/view-issue-plugin/analytics",["jira/analytics","jquery"],function(i,s){"use strict";var n=s(document);n.on("click","#subtasks-bulk-operation",function(){i.send({name:"jira.bulk.move.click.subtasks-bulk-operation"})}),n.on("click","#subtasks-open-issue-navigator",function(){i.send({name:"jira.bulk.move.click.subtasks-open-issue-navigator"})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:controller-subtasks', location = 'viewissue/subtasks/subtasks.js' */
require(["jquery","wrm/data","wrm/context-path","jira/analytics","jira/issuetable"],function(n,i,t,e,r){"use strict";var o=function(n){return n.position.original!==n.position.current},s=function(n){return n.position.current<n.position.original},a=function(i){return n(i.row).parent().find("tr .stsequence div")},u=function(n){var i=a(n),t=n.position;return s(n)?i.slice(t.current+1,t.original+1):i.slice(t.original,t.current)};i.claim("com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters",function(i){r.then(function(r){r&&r.onTable(function(r){var c=t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId());n.get(c).success(function(c){c&&(r.on(r.Events.ROW_DRAG_COMPLETED,function(c){o(c)&&(n.ajax({url:t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId()),type:"POST",method:"POST",accept:"application/json",contentType:"application/json",data:JSON.stringify({original:c.position.original,current:c.position.current}),dataType:"json"}).success(function(){[].slice.call(a(c)).forEach(function(i,t){n(i).html(t+1+".")})}).fail(function(){console.error("Unable to store updated issues position"),r.dragging.cancel()}),e.send({name:"com.atlassian.jira.view-issue-plugin.subtasks.drag.and.drop",data:{direction:s(c)?"up":"down",rowsCount:a(c).length,rowsUpdated:u(c).length}}))}),r.dragging.enable())})})})},function(){console.warn("Unable to read data from WRM")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:linkingmodule-js', location = 'viewissue/links/links-container.js' */
define("jira/view-issue-plugin/links/links-container",["jira/util/formatter","wrm/context-path","jira/ajs/ajax/smart-ajax","jira/skate","jquery"],function(n,e,i,t,a){"use strict";function l(n){var e=n.data("remote-link-id");e&&n.data("requires-async-loading")&&s(e,n.attr("id"))}function s(t,l){i.makeRequest({error:function(){var e=a(document.getElementById(l)),i=e.parents("*[data-default-link-icon]").data("default-link-icon");e.find(".link-loading").removeClass("link-loading").addClass("link-loading-failed").html("Failed to load"),e.find(".link-throbber").append(a("<img width='16' height='16' title='' alt='' />").attr("src",i))},success:function(n){a(document.getElementById(l)).find(".link-content").html(n)},url:e()+"/rest/viewIssue/1/remoteIssueLink/render/"+t})}return t("links-container",{type:t.type.CLASSNAME,attached:function(n){a(n).find("dd:not(.collapsed-link)").each(function(n,e){l(a(e))})},events:{"click #show-more-links-link":function(n,e,i){e.preventDefault();var t=a(n);t.find(i).parent().hide(),t.find(".collapsed-links-list").removeClass("collapsed-links-list"),t.find("dd.collapsed-link").each(function(n,e){var i=a(e);l(i),i.removeClass("collapsed-link")})}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:initialiser', location = 'viewissue/initViewIssue.js' */
require(["jira/view-issue-plugin/attachment/attachment-element","jira/view-issue-plugin/init-draggable-attachment","jira/view-issue-plugin/links/links-container","jira/view-issue-plugin/analytics"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:constants', location = 'js/editor-constants.js' */
define("jira/editor/constants",[],function(){return{EventSources:{SHORTCUT:"shortcut",BUTTON:"button",UNKNOWN:"unknown"},EventTypes:{ADD:"add",UNDO:"undo",REDO:"redo",CLEAR:"clear"},Context:{DIALOG:"dialog",COMMENT:"comment",UNKNOWN:"unknown"},Modes:{TEXT:"source",VISUAL:"wysiwyg"},SupportedImagesRegexp:/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i,LEFT_WHITESPACE_MATCHER:/^\s+/,RIGHT_WHITESPACE_MATCHER:/\s+$/,CLASS_COVER:"richeditor-cover",CLASS_LOADING:"richeditor-loading",EVENT_CHANGE:"richeditor:change",
EVENT_OPERATION:"toolbar-operation",EVENT_OPERATION_COLOR:"toolbar-operation-color",EVENT_OPERATION_ATTACHMENT:"toolbar-operation-attachment"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails', location = '/js/Thumbnails.js' */
define("wiki-edit/thumbnails",["wrm/data"],function(f){var b=f.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails.thumbnails-allowed");return{isThumbnailable:function(c,d){var e=!0;null!=b&&(e=!!b);if(!e)return!1;var a;d&&(a=d.data("attachment-thumbnail"));return null==a?!!c.match(/\.(jpg|jpeg|pjpeg|png)$/i):a?!c.match(/\.gif$/i):!1}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/templates/wiki-editor.soy' */
// This file was automatically generated from wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.WikiEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.WikiEditor == 'undefined') { JIRA.Templates.Plugins.WikiEditor = {}; }


JIRA.Templates.Plugins.WikiEditor.renderEditor = function(opt_data, opt_ignored) {
  var output = '';
  var auiAlignmentContainer__soy3 = opt_data.containerSelector ? 'data-aui-alignment-container=' + opt_data.containerSelector : '';
  output += '<div id="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="' + soy.$$escapeHtml('Paragraph') + '">' + soy.$$escapeHtml('Paragraph') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="' + soy.$$escapeHtml('Heading 1') + '">' + soy.$$escapeHtml('Heading 1') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="' + soy.$$escapeHtml('Heading 2') + '">' + soy.$$escapeHtml('Heading 2') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="' + soy.$$escapeHtml('Heading 3') + '">' + soy.$$escapeHtml('Heading 3') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="' + soy.$$escapeHtml('Heading 4') + '">' + soy.$$escapeHtml('Heading 4') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="' + soy.$$escapeHtml('Heading 5') + '">' + soy.$$escapeHtml('Heading 5') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="' + soy.$$escapeHtml('Heading 6') + '">' + soy.$$escapeHtml('Heading 6') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="' + soy.$$escapeHtml('Preformatted') + '">' + soy.$$escapeHtml('Preformatted') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="' + soy.$$escapeHtml('Paragraph quote') + '">' + soy.$$escapeHtml('Paragraph quote') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="' + soy.$$escapeHtml('Block quote') + '">' + soy.$$escapeHtml('Block quote') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="' + soy.$$escapeHtml('Strikethrough') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+S)">' + soy.$$escapeHtml('Strikethrough') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">' + soy.$$escapeHtml('Subscript') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">' + soy.$$escapeHtml('Superscript') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">' + soy.$$escapeHtml('Citation') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="monospace-inline">' + soy.$$escapeHtml('Monospace') + '</a></li></ul></div><div class="aui-dropdown2-section" hidden><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="clear-format">' + soy.$$escapeHtml('Clear formatting') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="' + soy.$$escapeHtml('External link') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)">' + soy.$$escapeHtml('External link') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">' + soy.$$escapeHtml('Mail link') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">' + soy.$$escapeHtml('Anchor link') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;' + soy.$$escapeHtml('Browse') + '</a></li></ul></div></div><div id="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">';
  var colors__soy83 = [{hex: '172B4D', name: 'Black'}, {hex: '505F79', name: 'Dark grey'}, {hex: 'C1C7D0', name: 'Light grey'}, {hex: '0747A6', name: 'Blue'}, {hex: '4C9AFF', name: 'Light blue'}, {hex: '00875A', name: 'Green'}, {hex: '57D9A3', name: 'Pale green'}, {hex: 'DE350B', name: 'Red'}, {hex: 'FF8B00', name: 'Dark orange'}, {hex: 'FFAB00', name: 'Light orange'}, {hex: '403294', name: 'Purple'}, {hex: 'FFBDAD', name: 'Peach'}];
  output += '<div class="aui-dropdown2-section"><ul>';
  var colorList85 = colors__soy83;
  var colorListLen85 = colorList85.length;
  for (var colorIndex85 = 0; colorIndex85 < colorListLen85; colorIndex85++) {
    var colorData85 = colorList85[colorIndex85];
    output += '<li><a href="#" class="wiki-edit-tooltip" aria-label="' + soy.$$escapeHtml(colorData85.name) + '" title="' + soy.$$escapeHtml(colorData85.name) + '" style="background-color: #' + soy.$$escapeHtml(colorData85.hex) + '" data-operation="color" data-color="#' + soy.$$escapeHtml(colorData85.hex) + '">&nbsp;</a></li>';
  }
  output += '</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/smile.png" alt="' + soy.$$escapeHtml('smile') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/sad.png" alt="' + soy.$$escapeHtml('sad') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/tongue.png" alt="' + soy.$$escapeHtml('tongue') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/biggrin.png" alt="' + soy.$$escapeHtml('biggrin') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/wink.png" alt="' + soy.$$escapeHtml('wink') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_up.png" alt="' + soy.$$escapeHtml('thumbs up') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_down.png" alt="' + soy.$$escapeHtml('thumbs down') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/information.png" alt="' + soy.$$escapeHtml('information') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/check.png" alt="' + soy.$$escapeHtml('check') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/error.png" alt="' + soy.$$escapeHtml('error') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/warning.png" alt="' + soy.$$escapeHtml('warning') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/add.png" alt="' + soy.$$escapeHtml('add') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/forbidden.png" alt="' + soy.$$escapeHtml('forbidden') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/help_16.png" alt="' + soy.$$escapeHtml('help') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb_on.png" alt="' + soy.$$escapeHtml('lightbulb on') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb.png" alt="' + soy.$$escapeHtml('lightbulb') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.png" alt="' + soy.$$escapeHtml('star yellow') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_red.png" alt="' + soy.$$escapeHtml('star red') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_green.png" alt="' + soy.$$escapeHtml('star green') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_blue.png" alt="' + soy.$$escapeHtml('star blue') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.png" alt="' + soy.$$escapeHtml('star yellow') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag.png" alt="' + soy.$$escapeHtml('flag') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag_grey.png" alt="' + soy.$$escapeHtml('flag off') + '" loading="lazy" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="mention">' + soy.$$escapeHtml('User mention') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">' + soy.$$escapeHtml('Table') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">' + soy.$$escapeHtml('Code') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">' + soy.$$escapeHtml('Preformatted') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">' + soy.$$escapeHtml('Panel') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">' + soy.$$escapeHtml('Horizontal ruler') + '</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">' + soy.$$escapeHtml('Speech recognition') + '</a></li></ul></div>' + ((opt_data.helpData.showHelp) ? '<div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="' + soy.$$escapeHtml("") + '/secure/WikiRendererHelpAction.jspa?section=texteffects" target="_blank" title="' + soy.$$escapeHtml('Show me wiki markup syntax') + '">' + soy.$$escapeHtml('Text help') + '</a></li><li><a href="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationUrl) + '" target="_blank" title="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationTitle) + '">' + soy.$$escapeHtml('Visual help') + '</a></li></ul></div>' : '') + '</div><div class="wiki-edit-toolbar" id="wiki-edit-' + soy.$$escapeHtml(opt_data.editorId) + '" role="toolbar"><button type="button" class="aui-button aui-button-subtle aui-button-compact wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml('Show toolbar') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-down">' + soy.$$escapeHtml('Show toolbar') + '</span></button><div class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '>' + soy.$$escapeHtml('Style') + '</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="' + soy.$$escapeHtml('Bold') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">' + soy.$$escapeHtml('Bold') + '</span></a><a href="#" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="' + soy.$$escapeHtml('Italic') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">' + soy.$$escapeHtml('Italic') + '</span></a><a href="#" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="' + soy.$$escapeHtml('Underline') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">' + soy.$$escapeHtml('Underline') + '</span></a><a href="#" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="' + soy.$$escapeHtml('Text color') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">' + soy.$$escapeHtml('Text color') + '</span><span class="wiki-edit-color-indicator"></span></a><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" title="' + soy.$$escapeHtml('More colors') + '"><span class="visually-hidden">' + soy.$$escapeHtml('More colors') + '</span></a><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('More formatting options') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">' + soy.$$escapeHtml('More formatting options') + '</span></a></div><div class="aui-buttons"><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Link') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml('Link') + '</span></a><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Attachment') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-file-generic">' + soy.$$escapeHtml('Attachment') + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="' + soy.$$escapeHtml('Bullet list') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">' + soy.$$escapeHtml('Bullet list') + '</span></a><a href="#" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="' + soy.$$escapeHtml('Numbered list') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">' + soy.$$escapeHtml('Numbered list') + '</span></a></div><div class="aui-buttons"><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Icons') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">' + soy.$$escapeHtml('Icons') + '</span></a><a href="#" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('Other') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml('Other') + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-last"><button type="button" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml('Hide toolbar') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-up">' + soy.$$escapeHtml('Hide toolbar') + '</span></button></div></div></div><!-- .aui-toolbar-inner --></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderEditor.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderEditor';
}


JIRA.Templates.Plugins.WikiEditor.renderListItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" ' + soy.$$escapeHtml(opt_data.attachmentType ? 'data-attachment-type=' + opt_data.attachmentType : '') + ' ' + soy.$$escapeHtml(opt_data.attachmentHref ? 'data-attachment-href=' + opt_data.attachmentHref : '') + ' data-attachment-thumbnail=' + soy.$$escapeHtml(opt_data.attachmentThumbnailable ? true : false) + '><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small ' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) : 'aui-iconfont-file-txt') + '" title="' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) : 'File') + '"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderListItem.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderListItem';
}


JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("") + '/secure/temporaryattachment/' + soy.$$escapeHtml(opt_data.formToken) + '/' + soy.$$escapeHtml(opt_data.temporaryAttachmentId) + '_' + soy.$$escapeHtml(opt_data.filename);
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster.js' */
(function(g){function q(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function z(a){var b,c;var f=a.keyCode;-1==q(n,f)&&n.push(f);if(93==f||224==f)f=91;if(f in d)for(b in d[f]=!0,m)m[b]==f&&(p[b]=!0);else{for(e in d)d[e]=a[A[e]];if(p.filter.call(this,a)&&f in h){var g=t();for(c=0;c<h[f].length;c++){var l=h[f][c];if(l.scope==g||"all"==l.scope){var v=0<l.mods.length;for(b in d)if(!d[b]&&-1<q(l.mods,+b)||d[b]&&-1==q(l.mods,+b))v=!1;(0!=l.mods.length||d[16]||d[18]||d[17]||d[91])&&!v||!1!==
l.method(a,l)||(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}}}function p(a,b,c){var f=w(a);void 0===c&&(c=b,b="all");for(var d=0;d<f.length;d++){var g=[];a=f[d].split("+");1<a.length&&(g=x(a),a=[a[a.length-1]]);a=a[0];a=r[a]||a.toUpperCase().charCodeAt(0);a in h||(h[a]=[]);h[a].push({shortcut:f[d],scope:b,method:c,key:f[d],mods:g})}}function t(){return y||"all"}function w(a){a=a.replace(/\s/g,"");a=a.split(",");
""==a[a.length-1]&&(a[a.length-2]+=",");return a}function x(a){a=a.slice(0,a.length-1);for(var b=0;b<a.length;b++)a[b]=m[a[b]];return a}function u(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}var e,h={},d={16:!1,18:!1,17:!1,91:!1},y="all",m={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},r={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,
up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"\x3d":187,";":186,"'":222,"[":219,"]":221,"\\":220},n=[];for(e=1;20>e;e++)r["f"+e]=111+e;var A={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(e in m)p[e]=!1;u(document,"keydown",function(a){z(a)});u(document,"keyup",function(a){a=a.keyCode;var b,c=q(n,a);0<=c&&n.splice(c,1);if(93==a||224==a)a=91;if(a in d)for(b in d[a]=!1,m)m[b]==a&&(p[b]=!1)});u(window,"focus",function(){for(e in d)d[e]=
!1;for(e in m)p[e]=!1});var B=g.key;g.key=p;g.key.setScope=function(a){y=a||"all"};g.key.getScope=t;g.key.deleteScope=function(a){var b,c;for(b in h){var f=h[b];for(c=0;c<f.length;)f[c].scope===a?f.splice(c,1):c++}};g.key.filter=function(a){a=(a.target||a.srcElement).tagName;return!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a)};g.key.isPressed=function(a){"string"==typeof a&&(a=r[a]||a.toUpperCase().charCodeAt(0));return-1!=q(n,a)};g.key.getPressedKeyCodes=function(){return n.slice(0)};g.key.noConflict=
function(){var a=g.key;g.key=B;return a};g.key.unbind=function(a,b){var c=[],f,d;var g=w(a);for(d=0;d<g.length;d++){var e=g[d].split("+");1<e.length&&(c=x(e),a=e[e.length-1]);a=r[a]||a.toUpperCase().charCodeAt(0);void 0===b&&(b=t());if(!h[a])break;for(f in h[a]){e=h[a][f];var k;if(k=e.scope===b)a:if(e=e.mods,e.length!=c.length)k=!1;else{for(k=0;k<e.length;k++)if(e[k]!==c[k]){k=!1;break a}k=!0}k&&(h[a][f]={})}}};"undefined"!==typeof module&&(module.exports=key)})(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/amd-wrappers.js' */
(function(){var a=window.key.noConflict();define("wiki-edit/keymaster",["jira/util/data/meta"],function(b){return!1===b.get("keyboard-shortcuts-enabled")?function(){}:a})})();define("wiki-edit/editor/templates",[],function(){return window.JIRA.Templates.Plugins.WikiEditor});define("wiki-edit/viewissue/templates",[],function(){return window.JIRA.Templates.ViewIssue});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/AttachmentListUtil.js' */
define("wiki-edit/attachment-list-util","wiki-edit/WikiEnabledTextarea jquery underscore wiki-edit/keymaster wiki-edit/analytics wiki-edit/WikiEditorUtil wiki-edit/editor/templates wiki-edit/thumbnails".split(" "),function(y,d,z,A,B,g,p,x){return{buildAttachmentLinks:function(h,k,q,r,t){var e=[],f=[];q&&d(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function(a,b){e.push(b)});var u=function(){d("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").each(function(a,
b){e.push(b)})};!r&&t&&u();var v=function(a,b){if(!a)return null;var d=g.getFileExtension(a);return{name:a,type:b,icon:g.translateFileExtensionToAttachmentTypeIcon(d)}},m=d("#ghx-tab-attachments .ghx-container"),w=0<m.length;w?(m.find("#file_attachments li.attachment-content \x3e dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function(a,b){(a=v(b.textContent,"file"))&&f.push(a)}),m.find("#attachment_thumbnails a.attachment-title").each(function(a,b){(a=v(b.textContent,
"image"))&&f.push(a)})):0<d("#ghx-detail-issue").length&&u();h.empty();k.addClass("hidden");(q||t||!w)&&e.length?(k.removeClass("hidden"),d(e).each(function(){var a=d(this),b=a.is("span.upload-progress-bar__file-name")?a.text():a.find("a.attachment-title, .attachment-title a").first().text(),l=a.attr("data-attachment-type");void 0===l&&(l=b.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file");var n=g.defaultAttachmentTypeIcon,c=a.attr("data-downloadurl");void 0===c&&(c=a.find("[data-downloadurl]").attr("data-downloadurl"));
void 0!==c&&"string"===typeof c&&g.canTranslateMimeTypeToAttachmentTypeIcon()?(c=c.split(":"),0<c.length&&(n=g.translateMimeTypeToAttachmentTypeIcon(c[0]))):void 0!==b&&"string"===typeof b&&(c=b.match(/\.(\w{1,5})$/i))&&1<c.length&&(n=g.translateFileExtensionToAttachmentTypeIcon(c[1]));c=a.find("a.attachment-title, .attachment-title\x3ea").attr("href");if(!c&&a.is("span.upload-progress-bar__file-name")){var e=a.parents("[data-file-id]").attr("data-file-id"),f=a.parents("form").find('input[name\x3d"formToken"]').attr("value")||
"undefined";e&&f&&(c=JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl({formToken:f,temporaryAttachmentId:e,filename:encodeURIComponent(b)}))}a=x.isThumbnailable(b,a);h.append(d(p.renderListItem({text:b,attachmentType:l,attachmentTypeIcon:n,attachmentThumbnailable:a,attachmentHref:c})))})):!r&&0<f.length&&(k.removeClass("hidden"),f.forEach(function(a){if(null!=a&&null!=a.name){var b=a.name,e=a.type?a.type:"file";a=a.icon?a.icon:{cssClass:"aui-iconfont-devtools-file",title:""};var f=_isThumbnailable(b);
h.append(d(p.renderListItem({text:b,attachmentType:e,attachmentThumbnailable:f,attachmentTypeIcon:a})))}}))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/Analytics.js' */
define("wiki-edit/analytics",["jira/analytics"],function(c){return{trigger:function(b,a){c.send({name:"jira.wikieditor."+b,data:a||{}})},hashCode:function(b){var a=0;if(!b)return"";for(var d=0;d<b.length;d+=1){var c=b.charCodeAt(d);a=32*a-a+c;a|=0}return a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/KeyTester.js' */
define("wiki-edit/KeyTester",function(){return{getActionType:function(a){if(this.isNavigation(a))return"navigating";if(this.isDeleting(a))return"deleting";if(this.isReturn(a))return"newline";if(this.isEscape(a))return"escape";if(this.isTyping(a))return"typing"},isNavigation:function(a){return 33<=a&&40>=a||63232<=a&&63235>=a},isDeleting:function(a){return 8==a||46==a||127==a},isReturn:function(a){return 13==a},isEscape:function(a){return 27==a},isTyping:function(a){return 47<a&&58>a||95<a&&112>a||
64<a&&91>a||185<a&&193>a||218<a&&223>a||32==a||13==a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoManager.js' */
define("wiki-edit/UndoManager",["backbone","underscore"],function(d,b){var a=function(){this._undoStack=[];this._redoStack=[];this._current=void 0;b.extend(this,d.Events)};a.EventTypes=a.prototype.EventTypes={UNDO:"UndoManager:undo",REDO:"UndoManager:redo",CLEAR:"UndoManager:clear",PUSH:"UndoManager:push",UPDATE_CURRENT:"UndoManager:updateCurrent"};a.prototype.MAX_STACK=1E3;a.prototype.updateCurrent=function(c,a){c!=this._current&&(this._current=c,a||(this._redoStack.length=0),this.trigger(this.EventTypes.UPDATE_CURRENT))};
a.prototype.push=function(a){this._redoStack.length=0;this._undoStack.length&&b.isEqual(a,this._undoStack[this._undoStack.length-1])||(this._undoStack.push(a),this._current=a);this._undoStack.length>this.MAX_STACK&&this._undoStack.splice(0,this._undoStack.length-this.MAX_STACK);this.trigger(this.EventTypes.PUSH)};a.prototype.undo=function(){if(this.canUndo()){do var a=this._undoStack.pop();while(b.isEqual(a,this._current)&&this.canUndo());this._redoStack.push(this._current);this._current=a;this.trigger(this.EventTypes.UNDO);
return a}};a.prototype.redo=function(){if(this.canRedo()){var a=this._redoStack.pop();this._undoStack.push(this._current);this._current=a;this.trigger(this.EventTypes.REDO);return a}};a.prototype.canUndo=function(){return!!this._undoStack.length};a.prototype.canRedo=function(){return!!this._redoStack.length};a.prototype.clear=function(){this._undoStack=[];this._redoStack=[];this.trigger(this.EventTypes.CLEAR)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoableTextarea.js' */
define("wiki-edit/UndoableTextarea",["wiki-edit/UndoManager","wiki-edit/KeyTester","jquery"],function(g,h,k){function d(b,a){if("cut-paste"===a||e!=a)"newline"!=e&&b.recordHistoryItem(),e=a}function f(b,a){b.undoManager["can"+a[0].toUpperCase()+a.substring(1)]()&&(a=b.undoManager[a](),b.element.value=a.value,b.element.selectionStart=a.selectionStart,b.element.selectionEnd=a.selectionEnd)}var e="",c=function(b){this.element=b;this.$el=k(b);this.undoManager=new g;this.undoManager.updateCurrent(this.getValue());
this.undoManager.push(this.getValue());b=function(a){var b=a.keyCode,c=String.fromCharCode(b);if(b)if(!a.ctrlKey&&!a.metaKey)this.undoManager.updateCurrent(this.getValue()),d(this,h.getActionType(b));else{if((a.ctrlKey||a.metaKey)&&!a.altKey)switch(c.toLowerCase()){case "y":this.undoManager.updateCurrent(this.getValue(),!0);this.redo();a.preventDefault();break;case "z":this.undoManager.updateCurrent(this.getValue(),!0),a.shiftKey?this.redo():this.undo(),a.preventDefault()}}else this.undoManager.updateCurrent(this.getValue()),
d(this,"other")}.bind(this);this.$el.on("keydown",b);this.$el.on("paste cut",function(){this.undoManager.updateCurrent(this.getValue());d(this,"cut-paste")}.bind(this))};c.prototype.getValue=function(){return{value:this.element.value,selectionStart:this.element.selectionStart,selectionEnd:this.element.selectionEnd}};c.prototype.updateCurrent=function(){this.undoManager.updateCurrent(this.getValue())};c.prototype.recordHistoryItem=function(){this.undoManager.push(this.getValue())};c.prototype.undo=
function(){d(this,"undo");f(this,"undo");this.element.scrollTop=this.element.scrollHeight};c.prototype.redo=function(){f(this,"redo");this.element.scrollTop=this.element.scrollHeight};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/TextareaManipulator.js' */
define("wiki-edit/TextareaManipulator",function(){var e=function(a){this.el=a};e.prototype.NEW_LINE_TOKEN="\n";e.prototype.getSelection=function(){return{start:this.el.selectionStart,end:this.el.selectionEnd,length:this.el.selectionEnd-this.el.selectionStart,text:this.el.value.substring(this.el.selectionStart,this.el.selectionEnd)}};e.prototype.setSelection=function(a,d){1===arguments.length&&(d=a);this.el.selectionStart=a;this.el.selectionEnd=d};e.prototype.replaceSelectionWith=function(a,d){var c=
this.el.selectionStart,b=this.el.value;this.el.value=b.substring(0,this.el.selectionStart)+a+b.substring(this.el.selectionEnd,b.length);this.el.selectionEnd=c+a.length;this.el.selectionStart=d?c:this.el.selectionEnd};e.prototype.wrapSelectionWith=function(a,d,c){3>arguments.length&&(c="");1===arguments.length&&(d=a);var b=this.getSelection(),e=this.el.value;if(e.substring(b.start-a.length,b.start)!==a||e.substring(b.end,b.end+d.length)!==d){var f=e.substring(b.start,b.end);0==f.length&&(f=c);this.el.value=
e.substring(0,b.start)+a+f+d+e.substring(b.end,e.length);b=b.start+a.length;this.setSelection(b,b+f.length)}};e.prototype._getSelectedLines=function(){var a=this.el.value,d=this.getSelection(),c=a.substring(0,d.start).split(this.NEW_LINE_TOKEN).length-1;d=c+a.substring(d.start,d.end).split(this.NEW_LINE_TOKEN).length-1;return{lines:a.split(this.NEW_LINE_TOKEN),start:c,end:d}};e.prototype.getLineAtCursor=function(){var a=this._getSelectedLines();return a.lines[a.end]};e.prototype.getFirstLineMatch=
function(a){var d=this._getSelectedLines();if(a=d.lines[d.start].match(a))return a[0]};e.prototype.areSelectedLinesPrefixed=function(a){var d=this._getSelectedLines(),c;for(c=d.start;c<=d.end;c++)if(0==d.lines[c].indexOf(a))return!0;return!1};e.prototype.prefixSelectedLines=function(a){var d=this.getSelection(),c=this._getSelectedLines(),b,e=0,f=!0;for(b=c.start;b<=c.end;b++)0==c.lines[b].indexOf(a)?b==c.start&&(f=!1):(e+=1,c.lines[b]=a+c.lines[b]);this.el.value=c.lines.join(this.NEW_LINE_TOKEN);
this.setSelection(d.start+(f?a.length:0),d.end+a.length*e)};e.prototype.unprefixSelectedLines=function(a){var d=this.getSelection(),c=this._getSelectedLines(),b,e=!1,f=0;for(b=c.start;b<=c.end;b++)0==c.lines[b].indexOf(a)&&(f+=1,c.lines[b]=c.lines[b].substring(a.length),b==c.start&&(e=!0));this.el.value=c.lines.join(this.NEW_LINE_TOKEN);this.setSelection(d.start-(e?a.length:0),d.end-a.length*f)};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster-setup.js' */
define("wiki-edit/keymaster-setup",["jquery","wiki-edit/keymaster"],function(c,b){return{init:function(){b.filter=function(a){return(a=a.target||a.srcElement||!1)&&-1<(" "+a.className+" ").indexOf(" wiki-textfield ")&&(a=c(a).data("wikiEditor"))?(b.setScope(a.id),!0):!1}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEnabledTextarea.js' */
define("wiki-edit/WikiEnabledTextarea","jira/util/formatter underscore wiki-edit/TextareaManipulator wiki-edit/UndoableTextarea wiki-edit/keymaster wiki-edit/keymaster-setup wiki-edit/SpeechRecognition jquery".split(" "),function(a,m,n,p,q,h,r,t){h.init();var l=0,u=/^[#\*]+ /;h=function(a){this.el=a;this.$el=t(a);if(this.$el.data("wikiEditor"))return this.$el.data("wikiEditor");this.id="wikiEdit"+l;l+=1;this.manipulationEngine=new n(this.el);this.undoRedoEl=new p(a);var d=this;q("enter",d.id,function(a){var b=
d.manipulationEngine.getSelection(),e=d.manipulationEngine.getFirstLineMatch(u);e&&(0==b.length&&d.manipulationEngine.getLineAtCursor()===e?d.manipulationEngine.unprefixSelectedLines(e):d.manipulationEngine.replaceSelectionWith("\n"+e),a.preventDefault())});this.$el.data("wikiEditor",this);this.$el.addClass("wiki-editor-initialised")};a={bold:["*","*","strong text"],italic:["_","_","emphasized text"],underline:["+",
"+","underlined text"],"delete":["-","-","deleted text"],superscript:["^","^","superscript text"],subscript:["~","~","subscript text"],monospace:["{{","}}","monospaced text"],cite:["??","??","citation"],
"block-quote":["{quote}","{quote}","quoted text"],color:["{color:$1}","{color}","colored text","red"],link:["[","|http://example.com]","link title"],"link-anchor":["[#","]","anchor"],"link-mail":["[mailto:","]","mail@example.com"],image:["!","!","http://example.com/image.png"],mention:["@",
"","Mention someone by typing their name..."],code:["\n{code:java}\n","\n{code}\n","// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],noformat:["\n{noformat}\n","\n{noformat}\n","*no* further _formatting_ is done here"],panel:["\n{panel:title\x3d"+"My title"+"}\n","\n{panel}\n","Some text with a title"],table:["\n||"+"Heading"+
" 1||"+"Heading"+" 2||\n|","|"+"Col"+" A2|\n","Col"+" A1"]};a["monospace-inline"]=a.monospace;for(var f in a)h.prototype[f]=function(a,f){var d=0;3<a.length&&(d=a.length-3);return function(){var b=a[0],e=a[1],f=a[2],c;for(c=1;c<=d;c++)b=b.replace("$"+c,arguments[c-1]||a[2+c]),e=e.replace("$"+c,arguments[c-1]||a[2+
c]);c=this.el.value;var g=this.manipulationEngine.getSelection();this.undoRedoEl.recordHistoryItem();c.substring(g.start-b.length,g.start)===b&&c.substring(g.end,g.end+e.length)===e?(this.el.value=c.substring(0,g.start-b.length)+c.substring(g.start,g.end)+c.substring(g.end+e.length,c.length),this.manipulationEngine.setSelection(g.start-b.length,g.end-b.length)):this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine,b,e,f);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(a[f],
f);var k={paragraph:"","bullet-list":"* ","numbered-list":"# ",h1:"h1. ",h2:"h2. ",h3:"h3. ",h4:"h4. ",h5:"h5. ",h6:"h6. ","paragraph-quote":"bq. "};for(f in k)h.prototype[f]=function(a){return function(){this.undoRedoEl.recordHistoryItem();for(var d in k)this.manipulationEngine.areSelectedLinesPrefixed(k[d])&&this.manipulationEngine.unprefixSelectedLines(k[d]);this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine,a);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(k[f]);
a={hr:"\n----\n",":)":":)",":(":":(",":P":":P",":D":":D",";)":";)","(y)":"(y)","(n)":"(n)","(i)":"(i)","(/)":"(/)","(x)":"(x)","(!)":"(!)","(+)":"(+)","(-)":"(-)","(?)":"(?)","(on)":"(on)","(off)":"(off)","(*)":"(*)","(*r)":"(*r)","(*g)":"(*g)","(*b)":"(*b)","(*y)":"(*y)","(flag)":"(flag)","(flagoff)":"(flagoff)","image-attachment":[" !$1|thumbnail! ","attachment-name.jpg"],"image-attachment-full":[" !$1! ","attachment-name.gif"],"link-attachment":[" [^$1] ","attachment-name.zip"]};for(f in a)h.prototype[f]=
function(a){var d=0;if(m.isArray(a)){d=a.length-1;var f=a.slice(1);a=a[0]}return function(){var b,e=a;for(b=1;b<=d;b++)e=a.replace("$"+b,arguments[b-1]||f[b-1]);this.undoRedoEl.recordHistoryItem();this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine,e,!1);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(a[f]);h.prototype.speech=function(){r.start(this)};return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditor.js' */
define("wiki-edit/WikiEditor","wiki-edit/WikiEnabledTextarea jquery underscore wiki-edit/keymaster wiki-edit/analytics wiki-edit/WikiEditorUtil wiki-edit/editor/templates jira/util/navigator jira/util/events jira/util/events/types jira/editor/constants wrm/data wiki-edit/thumbnails wiki-edit/attachment-list-util jira/util/formatter".split(" "),function(J,d,K,A,g,L,M,N,v,B,q,O,w,P,Q){function t(f){f=d(f).closest(".aui-dropdown2");f.length&&f[0].hide()}var R=O.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"),
C="Ctrl";N.isMac()&&(C="\u2318");var u=function(d){return d.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file"},D=function(d,k,c,e,a){if(!d.$el.triggerHandler(q.EVENT_OPERATION_ATTACHMENT,{name:k,type:c,thumbnailable:e,href:a}))if("image"==c){if(e)d["image-attachment"](k);else d["image-attachment-full"](k);g.trigger("operation.attachment.image")}else d["link-attachment"](k),g.trigger("operation.attachment.link")};return{_isThumbnailable:w.isThumbnailable,create:function(f){function k(b){b.preventDefault();
b.stopPropagation();r=!r;h.toggleClass("wiki-edit-toolbar-compact",r);u.filter(":visible").focus();localStorage.setItem("jira.wikieditor.visibility"+f.name+"."+f.id,r?"true":"false");g.trigger(r?"hide":"show")}var c=d(f);if(!c.data("wikiEditor")){g.trigger("initialized");var e=new J(f);this.wikiEditor=e;var a=c.parents().toArray().find(function(b){return b.id});a=d(M.renderEditor({editorId:e.id,controlKey:C,helpData:R,containerSelector:a&&"#"+a.getAttribute("id")}));var h=a.filter(".wiki-edit-toolbar");
"webkitSpeechRecognition"in window&&a.find(".wiki-edit-speech-item").removeClass("hidden");c.parent().before(a);var n=0<c.closest(".jira-dialog-core").length||0<c.closest("form#issue-create").length,m=0<c.closest("#create-issue-dialog").length,p=0<d("#issue-content").length,y=0<c.closest("#addcomment").length,E=a.find(".wiki-edit-operation[title], .aui-dropdown2-trigger, .wiki-edit-tooltip");var l=n?"Dialog.beforeHide":B.BEFORE_INLINE_EDIT_CANCEL;E.each(function(){var b=d(this),F={aria:!0,hideOnClick:!0,
hoverable:!1};b.parent().is("li")&&(F.gravity="w");b.tooltip(F)});var G=function(){E.each(function(){d(this).tooltip("hide")})};v.bind(l,G);var z=!1;a.filter(".aui-dropdown2").on({"aui-dropdown2-show":function(){z=!0;c.hasClass(q.CLASS_COVER)||c.focus()},"aui-dropdown2-hide":function(){z=!1;G()}});c.on("keydown",function(b){if(z&&b.keyCode===AJS.keyCode.ESCAPE)if(n)v.one("Dialog.beforeHide",function(b){b.preventDefault()});else if(p&&!y)v.one(B.BEFORE_INLINE_EDIT_CANCEL,function(b){b.preventDefault()})});
l=a.filter(".wiki-edit-dropdown-image, .wiki-edit-dropdown-attachment");var S=l.find(".wiki-edit-insert-image, .wiki-edit-insert-attachment"),H=l.find(".wiki-edit-insert-image ul, .wiki-edit-insert-attachment ul");H.on("click","a",function(b){b.preventDefault();t(b.target);b=d(this).attr("data-attachment-type");"undefined"===typeof b&&(b="file");var a=d(this).find(".wiki-edit-attachment-name").text(),c=w.isThumbnailable(a,d(this));D(e,a,b,c,d(this).attr("data-attachment-href"))});l.on("aui-dropdown2-show",
function(){P.buildAttachmentLinks(H,S,n,m,p)});if(0>L.compareVersion(AJS.version,"5.8.0"))l.on("aui-dropdown2-item-selected",function(){var b=d(this).find(".aui-dropdown2-active");if("object"===typeof b){var a=b.closest("div");if("object"===typeof a){var c=a.offset().top,e=c+a.height(),f=b.offset().top;b=f+b.height();f<c&&a.scrollTop(a.scrollTop()-(c-f));b>e&&a.scrollTop(a.scrollTop()+(b-e))}}});a.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown",function(b){b.preventDefault()});a.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function(){var b=
d(this),a=function(a){a&&(a.preventDefault&&a.preventDefault(),t(a.target),e.$el.triggerHandler(q.EVENT_OPERATION,b.data("operation"))||(c.focus(),e[b.data("operation")](),g.trigger("operation",{name:b.data("operation"),nameHash:g.hashCode(b.data("operation")),trigger:a.type}),g.trigger("operation."+b.data("operation"),{trigger:a.type})))};b.click(a);b.data("shortcut")&&A(b.data("shortcut"),e.id,a)});a.find(".wiki-edit-operation-color").each(function(){var b=d(this),a=function(a){a&&(a.preventDefault&&
a.preventDefault(),t(a.target),e.$el.triggerHandler(q.EVENT_OPERATION_COLOR,b.data("color"))||(c.focus(),e[b.data("operation")](b.data("color")),g.trigger("operation",{name:b.data("operation"),nameHash:g.hashCode(b.data("operation")),trigger:a.type}),g.trigger("operation."+b.data("operation"),{trigger:a.type})))};b.click(a);b.data("shortcut")&&A(b.data("shortcut"),e.id,a)});l=window.localStorage.getItem("jira.wikieditor.last.color")?window.localStorage.getItem("jira.wikieditor.last.color"):"red";
var x=a.find(".wiki-edit-operation-color");x.data("color",l);var I=h.find(".wiki-edit-color-indicator");I.css("background-color",l);l=a.filter(".wiki-edit-color-picker");l.on("click","a",function(b){b.preventDefault();t(b.target);b=d(this).data("color");x.data("color",b);I.css("background-color",b);window.localStorage.setItem("jira.wikieditor.last.color",b);e.$el.triggerHandler(q.EVENT_OPERATION_COLOR,b)||(c.focus(),e.color(b),g.trigger("operation",{name:"color"}),g.trigger("operation.color.picked",
{color:b}))});l.on("aui-dropdown2-show",function(){x.addClass("active")});l.on("aui-dropdown2-hide",function(){x.removeClass("active")});var u=a.find(".wiki-edit-visible-toggle"),r="true"===localStorage.getItem("jira.wikieditor.visibility"+f.name+"."+f.id);r&&h.addClass("wiki-edit-toolbar-compact");u.on("click",k);h.parent().on("click",".wiki-edit-toolbar-compact",k);d(document).on("showWikiPreview",function(b,a){d(a).find(f).length&&h.addClass("hidden")});d(document).on("showWikiInput",function(b,
a){d(a).find(f).length&&h.removeClass("hidden")})}},initBrowseLink:function(f){var k=this.wikiEditor,c=this,e=k.$el.parent().parent();d(".wiki-edit-attachment-picker-trigger",e).one("click",function(){c.initBrowseLinkImpl(f,k,e)})},initBrowseLinkImpl:function(f,k,c){var e=k.$el,a=c.find(".wiki-attachment-browse"),h=d("#dnd-metadata-webpanel").data("can-attach"),n=0<e.closest(".jira-dialog-core").length||0<e.closest("form#issue-create").length;if(n){var m=d("#create-issue-dialog:visible,#create-subtask-dialog:visible,#edit-issue-dialog:visible,#create-linked-issue-dialog:visible"),
p=0<m.length;h=0<d(`.jira-dialog-core fieldset span:contains('${"Attachment"}')`).length;p||(m=e.closest(".dialog-can-receive-files:visible"),p=0<m.length,h=m.data("can-attach"));var y=m.data("insert-markup-on-browse")}c=c.find(".wiki-edit-attachment-picker-trigger");h&&(n?p:1)?(a.closest("div").removeClass("hidden"),c.removeClass("hidden"),a.data("initialised")||(a.on("click",function(a){a.preventDefault();const c=d("#description-wiki-edit iframe");c&&c.focus();
t(a.target);var e=function(){d("#wikiEditorUpload").remove()};e();var h=d("\x3cinput tabindex\x3d'-1' id\x3d'wikiEditorUpload' type\x3d'file' style\x3d'position: fixed; top: -1px; left: -1px; width: 1px; height: 1px; opacity: 0;' multiple /\x3e");h.appendTo(d("body"));h.change(function(a){e();a=h[0].files;if(n){var c=d.Event("drop");c.dataTransfer={files:a};m.find(".issue-drop-zone__target").trigger(c)}else v.trigger("attachmentForPageReceived",{files:a,isWikiTextfieldFocused:!1,wikiTextfield:f});
if(!k.$el.triggerHandler(q.EVENT_OPERATION_ATTACHMENT,K.map(a,function(a){return{name:a.name,type:u(a.name),thumbnailable:w.isThumbnailable(a.name),href:window.URL.createObjectURL(a)}}))&&(n?y:1))for(c=0;c<a.length;c++){var g=a[c].name;D(k,g,u(g),w.isThumbnailable(g),window.URL.createObjectURL(a[c]))}});h.click();g.trigger("attachment.dropdown.button.clicked.browse")}),a.data("initialised",!0))):(a.closest("div").addClass("hidden"),a=0<d("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").length,
p=n&&p&&("create-issue-dialog"===m.attr("id")||"create-subtask-dialog"===m.attr("id")),a&&!p||c.addClass("hidden"))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditorUtil.js' */
define("wiki-edit/WikiEditorUtil",["wiki-edit/viewissue/templates","jira/util/formatter","jquery","underscore"],function(c,a,g,h){var e={cssClass:"aui-iconfont-devtools-file",title:"File"},k={pdf:"aui-iconfont-file-pdf",gif:"aui-iconfont-image",png:"aui-iconfont-image",jpeg:"aui-iconfont-image",jpg:"aui-iconfont-image",xml:"aui-iconfont-file-code",html:"aui-iconfont-file-code",htm:"aui-iconfont-file-code",txt:"aui-iconfont-file-txt",zip:"aui-iconfont-file-zip",
gz:"aui-iconfont-file-zip",tar:"aui-iconfont-file-zip",rar:"aui-iconfont-file-zip","7z":"aui-iconfont-file-zip",doc:"aui-iconfont-file-doc",docx:"aui-iconfont-file-doc",xls:"aui-iconfont-file-xls",xlsx:"aui-iconfont-file-xls",xlsm:"aui-iconfont-file-xls",ppt:"aui-iconfont-file-ppt",pptx:"aui-iconfont-file-ppt",java:"aui-iconfont-file-code",c:"aui-iconfont-file-code",h:"aui-iconfont-file-code",cpp:"aui-iconfont-file-code",hpp:"aui-iconfont-file-code",scala:"aui-iconfont-file-code",php:"aui-iconfont-file-code",
css:"aui-iconfont-file-code",less:"aui-iconfont-file-code",soy:"aui-iconfont-file-code",js:"aui-iconfont-file-code",jar:"aui-iconfont-file-zip",war:"aui-iconfont-file-zip",obr:"aui-iconfont-file-zip"},l={pdf:"PDF File",gif:"GIF File",png:"PNG File",jpeg:"JPEG File",jpg:"JPEG File",xml:"XML File",html:"HTML File",htm:"HTML File",
txt:"Text File",zip:"Zip Archive",gz:"GZip Archive",doc:"Microsoft Word",docx:"Microsoft Word",xls:"Microsoft Excel",xlsx:"Microsoft Excel",xlsm:"Microsoft Excel",ppt:"Microsoft PowerPoint",pptx:"Microsoft PowerPoint",java:"Java Source File",jar:"Java Archive File",
war:"Java Archive File"};return{defaultAttachmentTypeIcon:e,canTranslateMimeTypeToAttachmentTypeIcon:function(){return!!c},translateMimeTypeToAttachmentTypeIcon:function(b){return{cssClass:c.matchFileClass({mimetype:b}),title:c.matchFileIconAlt({mimetype:b})}},translateFileExtensionToAttachmentTypeIcon:function(b){var a=h.clone(e);if("string"!==typeof b)return a;b=b.toLowerCase();b=b.replace(/^\.+/,"");var f=k[b];"string"===typeof f&&(a.cssClass=f);b=l[b];"string"===typeof b&&
(a.title=b);return a},compareVersion:function(a,c){a=a.split(".");var b=c.split("."),d=NaN;g(a).each(function(a,c){if(a>=b.length)return!1;c=Number(c);a=Number(b[a]);if(isNaN(c)||isNaN(a))return d=NaN,!1;if(c<a)return d=-1,!1;if(c>a)return d=1,!1;d=0});return 0==d&&a.length!=b.length?a.length>b.length?1:-1:d},getFileExtension:function(a){return"string"!==typeof a?"":(a=a.match(/\.(\w{1,5})$/i))&&1<a.length?a[1]:""}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/SpeechRecognition.js' */
define("wiki-edit/SpeechRecognition",["jira/util/formatter","jira/util/data/meta","aui/flag"],function(c,h,k){return{start:function(d,g){var e=this,f=new webkitSpeechRecognition;f.continuous=!1;f.interimResults=!0;f.lang=h.get("user-locale").replace("_","-");f.stop();f.start();f.onstart=function(){e.showTimedMessage({title:"You can start speaking now :)"},"info",10);d?e.selectionStart=d.manipulationEngine.getSelection().start:g&&(e.selectionStart=g.getSelectionStart(),e.startOffset=
e.selectionStart.startOffset)};f.onresult=function(a){e.dismissCurrentMessage();var b=(b=a.results)&&b[0]&&b[0].isFinal;a=(a=a.results)&&a[0]&&a[0][0]&&a[0][0].transcript||"";a=a.charAt(0).toUpperCase()+a.slice(1);if(d){b&&d.undoRedoEl.recordHistoryItem();d.manipulationEngine.replaceSelectionWith.call(d.manipulationEngine,a,!1);var c=e.selectionStart+a.length;b?(d.manipulationEngine.setSelection(c),d.undoRedoEl.recordHistoryItem(),d.$el.trigger("input")):d.manipulationEngine.setSelection(e.selectionStart,
c)}g&&(g.replaceSelection(a),b||g.setSelectionStartWithOffset(e.selectionStart,e.startOffset));b&&f.stop()};f.onerror=function(a){f.stop();var b={title:"Sorry, I can\'t hear you :(",body:""};switch(a.error){case "not-allowed":b.title="Speech recognition is currently disabled";b.body="Click the camera icon in the browser\'s address bar to enable it.";break;case "network":b.title="No internet connection";
b.body="You need a working internet connection to use speech recognition.";break;case "no-speech":b.title="Sorry, I couldn\'t hear anything :(";b.body="Is your microphone working and unmuted?";break;case "aborted":return}e.showTimedMessage(b,"warning",5)};f.onend=function(){f.stop()}},showTimedMessage:function(d,c,e){this.dismissCurrentMessage();this.speakFlag=k({type:c,title:d.title,body:d.body,persistent:!0});clearTimeout(this.flagTimer);
this.flagTimer=setTimeout(this.dismissCurrentMessage.bind(this),1E3*e)},dismissCurrentMessage:function(){this.speakFlag&&this.speakFlag.close&&(this.speakFlag.close(),this.speakFlag=null)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = '/js/lib/skate.js' */
define("wiki-edit/skate",["jira/skate"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = '/js/wiki-editor-init.js' */
require("jira/dialog/dialog-register wiki-edit/WikiEditor wiki-edit/skate jquery underscore backbone".split(" "),function(b,f,d,c,e,h){function k(a){e.extend(a,h.Events);a=this instanceof Element?this:a;var b=function(a){f.create(a);f.initBrowseLink(a);a.wikiEnabled=!0;c(a).trigger("wiki-editor-initialized")};!1===a.wikiEnabled&&(c(a).is(":hidden")?e.defer(b,a):b(a))}function l(a){c.contains(document,a)||e.isFunction(a.trigger)&&a.trigger("detached",a)}function g(){return{type:d.type.CLASSNAME,attached:k,
detached:l,prototype:{wikiEnabled:!1}}}d("wiki-textfield",g());d("wiki-enabled-textfield",g());c(function(){0<c("#gh").length&&(b.comment.options.width=810,b.assignIssue.options.width=810,b.attachFile.options.width=810,b.logWork.options.width=810)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(b,c){var a=AJS.dim,d=AJS.undim;return{showLoadingIndicator:function(){a();b.showLoadingIndicator()},hideLoadingIndicator:function(a){d();b.hideLoadingIndicator();a&&c.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue-bootstrap', location = 'js/init/edit-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(e,g,f,a,c){var b;e(document).delegate(".issueaction-edit-issue","click",function(d){d.preventDefault();c.disable();a.showLoadingIndicator();f(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue"]).done(function(){var a=require("quick-edit/init/edit");b||(b=a.initDialog());b._events.trigger.simpleClick.call(b,d,e(d.target));c.enable()}).fail(function(){a.hideLoadingIndicator(!0);
c.enable()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:terminology-feature-service', location = '/includes/jira/terminology/TerminologyFeatureService.js' */
define("jira/terminology-feature-service",["jira/featureflags/feature-manager","jira/util/data/meta","underscore","wrm/data"],function(e,i,r,n){"use strict";var t=n.claim("jira.core:terminology-data.terminology")||{},o=e.isFeatureEnabled("com.atlassian.jiranomenclature");return{getTerminologyEntries:function(){return r.where(t.terminologyEntries,{isDefault:!1})||[]},getTerminologyEntryForTerm:function(e){return r.findWhere(this.getTerminologyEntries(),{originalName:e,isDefault:!1})},isTerminologyEnabled:function(){return o},isTerminologyChanged:function(){return t.isTerminologyActive},isEnglishLocale:function(){return i.get("user-locale").indexOf("en")>=0},isTerminologyActiveForUser:function(){return this.isTerminologyEnabled()&&this.isTerminologyChanged()&&this.isEnglishLocale()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:terminology-onboarding-state', location = '/includes/jira/terminology/TerminologyOnboardingState.js' */
define("jira/terminology-onboarding-state",["jira/data/local-storage"],function(i){"use strict";var t={sprint:"jira.terminology.onboarding.dismissed.sprint",epic:"jira.terminology.onboarding.dismissed.epic"};return{get:function(e){return JSON.parse(i.getItem(t[e]))},set:function(e){i.setItem(t[e],!0)},isSprintsDismissed:function(){return this.get(t.sprint)},isEpicsDismissed:function(){return this.get(t.epic)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-terminology-onboarding-dialogs', location = '/includes/jira/terminology/initTerminologyOnboarding.js' */
require(["jira/terminology-feature-service","jira/terminology-onboarding-state","jira/util/events","jira/util/events/types","wrm/require"],function(e,i,r,n,o){"use strict";var t={SPRINT:"sprint",EPIC:"epic"},a={sprint:"#customfieldmodule .type-gh-sprint",epicLink:"#customfieldmodule .type-gh-epic-link",epicName:"#customfieldmodule .type-gh-epic-label"},l=i.get(t.SPRINT),d=i.get(t.EPIC);l&&d||e.isTerminologyActiveForUser()&&r.bind(n.NEW_CONTENT_ADDED,function(r,n){if("details-module"===n.attr("id")){var l=i.get(t.SPRINT),d=i.get(t.EPIC);o(["wr!jira.webresources:terminology-onboarding-inline-dialogs"],function(){require(["jira/terminology-onboarding-dialog"],function(i){var r=e.getTerminologyEntryForTerm(t.SPRINT),o=e.getTerminologyEntryForTerm(t.EPIC);if(r&&!l){var g=n.find(a[t.SPRINT]).prev("strong.name");i.addInlineDialogToField(n,g,r,t.SPRINT)}if(o&&!d){var m=n.find(a.epicLink).prev("strong.name");i.addInlineDialogToField(n,m,o,t.EPIC);var s=n.find(a.epicName).prev("strong.name");i.addInlineDialogToField(n,s,o,t.EPIC)}})})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--57570d46fb', location = 'aui.chunk.dade3bf0c445cc3e3a7b--6d822bd7725ce23727c5.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.vendors--57570d46fb"],{Btyd:function(t,n,e){var r;"undefined"!=typeof self&&self,void 0===(r=function(){return function(){var t=/\{([^\}]+)\}/g,n=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(t,e,r,i){var u=r;return e.replace(n,(function(t,n,e,r,o){n=n||r,u&&(n+":html"in u?(u=u[n+":html"],i=!0):n in u&&(u=u[n]),o&&"function"==typeof u&&(u=u()))})),null!=u&&u!==r||(u=t),u=String(u),i||(u=o.escape(u)),u},r=function(n){return this.template=this.template.replace(t,(function(t,r){return e(t,r,n,!0)})),this},i=function(n){return this.template=this.template.replace(t,(function(t,r){return e(t,r,n)})),this},u=function(){return this.template},o=function(t){function n(){return n.template}return n.template=String(t),n.toString=n.valueOf=u,n.fill=i,n.fillHtml=r,n},l={},c=[],f=function(t){return document.querySelector('script[title="'+t+'"]')};o.load=function(t){if(t=String(t),!l.hasOwnProperty(t)){c.length>=1e3&&delete l[c.shift()],c.push(t);var n=f(t);n&&(l[t]=n.text)}return this(l[t])};var a={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#96;"},p=new RegExp("["+Object.keys(a).join("")+"]","g");function s(t){return String(t||"").replace(p,(function(t){return a[t]}))}return o.escape=s,o}()}.call(n,e,n,t))||(t.exports=r)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.deprecated.behaviour.template', location = 'aui.chunk.1f5ffc4d77510e4235a9--212083ce8d067de3f118.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.deprecated.behaviour.template"],{Dpsd:function(e,t,a){"use strict";a.r(t);var i=a("KloK"),n=a("bPPT"),o=a("Btyd"),s=a.n(o);const c={sinceVersion:"8.0.0",removeInVersion:"10.0.0",extraInfo:'We recommend use of other open-source templating engines, such as "lit-html" or "react". If you cannot do without this templating function, it is available as its own Node package: "@atlassian/aui-template".'},u=Object(n.fn)(s.a,"AJS.template",c);u.load=s.a.load,u.escapeHtml=s.a.escapeHtml,Object(n.prop)(u,"load",c),Object(n.prop)(u,"escapeHtml",c),Object(i.default)("template",u),t.default=u}},[["Dpsd","runtime","aui.splitchunk.vendors--57570d46fb","aui.splitchunk.0d131bcbf1","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.dd803a46b4"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.message', location = 'aui.chunk.68886dfd3d32dc62e5e1--282573e15da6b2e4e3a9.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.message"],[],[["e8H2","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.dd803a46b4","aui.splitchunk.994e478d48","aui.splitchunk.d7c46c2734","aui.splitchunk.e54c7c7304","aui.splitchunk.56dfb54d0c","aui.splitchunk.f1e06f97a4","aui.splitchunk.479fe6ee76","aui.splitchunk.5f851f97df","aui.splitchunk.462ee5f9ef","aui.splitchunk.2e16019fb9","aui.splitchunk.3d2cb1af14","aui.splitchunk.ec75f48bb8"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.16f099a0da', location = 'aui.chunk.6f1af95df31f71ea8e8f--085e9ddc3a8b78c7397a.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.16f099a0da"],{jJ4L:function(i,n,o){"use strict";o.r(n);o("FStl"),o("Q0fs"),o("oTK+"),o("S3ao"),o("HNID"),o("YQ7q")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.table', location = 'aui.chunk.ce4771617e2bc0405900--a67ab1a44fea28f5da51.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.pattern.table"],[],[["jJ4L","runtime","aui.splitchunk.fbbef27525","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.d7c46c2734","aui.splitchunk.fb15cffa72","aui.splitchunk.862f26d10a","aui.splitchunk.b2ecdd4179","aui.splitchunk.16f099a0da"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-on-dcl', location = '/static/util/init-on-dcl.js' */
define("jira/util/init-on-dcl",[],function(){"use strict";return AJS.toInit});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jirafisheyeplugin:css', location = 'script/fisheye.js' */
require(["jquery","jira/util/init-on-dcl","jira/ajs/ajax/smart-ajax"],function(b,c,a){c(function(){AJS.JFEP=AJS.JFEP||{};var d=function(e){b(".review-filter",e).live("change",function(g){var h=b(g.target).val(),f=b(g.target).is(":checked")?"block":"none";b(".review-status-"+h).css("display",f)});b(".tab-content",e).find(".project-activity:gt(0)").addClass("hidden");b("#activity-filter",e).live("change",function(f){var g=b("#activity-filter").val();b(".project-activity").addClass("hidden");b(".limit-"+g).removeClass("hidden")})};b("#preview-hide-tab",b(document)).live("click",function(f){b("#preview_form").submit();f.preventDefault()});if(JIRA.ViewIssueTabs){JIRA.ViewIssueTabs.onTabReady(d)}else{d(document)}AJS.JFEP.reviewIssueToggle=function(){b(".review-issue-target").addClass("hidden");b(".review-issue-trigger").click(function(g){g.preventDefault();var f=b(this).attr("href");b(f).toggleClass("hidden")})};AJS.JFEP.ignoreCookieName=function(){var e=b("#header-details-user-fullname").attr("data-username");if(!e){e="__ANON"}return"JFEP.ignoredAppLinks."+e};AJS.JFEP.ignoreAppLink=function(i){var h;var f=document.cookie;if(f.indexOf(AJS.JFEP.ignoreCookieName()+"=")>-1){var g=new RegExp(AJS.JFEP.ignoreCookieName()+"=([^;]*)");h=g.exec(f)[1]}else{h=""}if(h.indexOf(i)==-1){h+=(h.length>0?"|":"")+i;var e=new Date();e.setDate(e.getDate()+365);document.cookie=AJS.JFEP.ignoreCookieName()+"="+h+"; expires="+e.toUTCString()+"; path="+contextPath}};AJS.JFEP.clearIgnoredAppLinks=function(){var e=new Date();e.setDate(e.getDate()-5);document.cookie=AJS.JFEP.ignoreCookieName()+"=expired;expires="+e.toUTCString()+"; path="+contextPath};b(".ignore-applink").live("click",function(){var e=b(this).attr("data-id");AJS.JFEP.ignoreAppLink(e);b(this).parents(".credentials-required-message").slideUp()});b(".clear-ignored-applinks").live("click",function(){AJS.JFEP.clearIgnoredAppLinks();document.location.reload(true)});AJS.JFEP.loadMoreChangesets=function(f,e,g,h){b("#more-changesets-action-spinner").show();b("#more-changesets-blurb").hide();a.makeRequest({url:f+"/rest/tabs/1.0/more-changesets/"+e+g,type:"GET",dataType:"json",contentType:"application/json",complete:function(l,i,k){if(!k.successful){var j=(k.status!==401||k.statusText===a.SmartAjaxResult.TIMEOUT)?JSON.parse(k.data).errorMessages:a.buildSimpleErrorContent(k);b(document).trigger(JIRA.SERVER_ERROR_EVENT,j)}else{h(k.data.changesets)}}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue-init', location = '/js/create-linked-issue/create-linked-issue-init.js' */
require(["jquery","wrm/require","quick-edit/util/loading-indicator"],function(b,d,c){var a=!1;b(document).on("click",".issueaction-create-linked-issue",function(b){b.preventDefault();a||(a=!0,c.showLoadingIndicator(),d(["wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue"]).done(function(){require("quick-edit/create-linked-issue/create-linked-issue-form-factory")().asDialog({id:"create-linked-issue-dialog",windowTitle:"Create linked issue"}).show();a=!1}).fail(function(){c.hideLoadingIndicator(!0);
a=!1}))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics.js' */
define("jira/editor/analytics",["jira/analytics","jira/util/logger"],function(l,h){function k(a,c,b,g){a=c-a;b=b||{};b.time=a;e.sendEvent("editor.instance.perf."+g,b);return a}var e={sendEvent:function(a,c){l.send({name:a,properties:c||{}})},mark:function(a){window.performance.mark&&window.performance.mark(a)},measure:function(a,c,b){window.performance.measure&&window.performance.measure(a,c,b)},oneShotMeasure:function(a,c,b,g){var f=window.performance;if(!f.mark)return h.debug("The browser does not support User Timing API"),
-1;var e=f.now(),d=f.getEntriesByName(a);d=d.length&&d[d.length-1];if(!(d instanceof window.PerformanceMark))return h.debug("The mark has not been found"),-1;"string"!==typeof b&&(b=a.replace(/^rte\-/,""));c=k(d.startTime,e,c,b);g||f.clearMarks(a);return c},startMeasure:function(){var a=window.performance.now();return{measure:function(c,b){return k(a,window.performance.now(),b,c)}}}};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics-shortcuts.js' */
define("jira/editor/analytics-shortcuts",["jira/editor/analytics","jira/editor/tinymce"],function(a,d){var b=function(a){this.editor=a;a.on("keydown",this._handle.bind(this))};b.prototype._handle=function(c){var b=String.fromCharCode(c.keyCode);if(d.util.VK.metaKeyPressed(c))switch(b){case "B":a.sendEvent("editor.instance.shortcut.bold");break;case "I":a.sendEvent("editor.instance.shortcut.italic");break;case "U":a.sendEvent("editor.instance.shortcut.underline");break;case "Z":a.sendEvent("editor.instance.shortcut.undo");
break;case "Y":a.sendEvent("editor.instance.shortcut.redo");break;case "0":a.sendEvent("editor.instance.shortcut.paragraph");break;case "1":a.sendEvent("editor.instance.shortcut.heading1");break;case "2":a.sendEvent("editor.instance.shortcut.heading2");break;case "8":a.sendEvent("editor.instance.shortcut.code");break;case "9":a.sendEvent("editor.instance.shortcut.quote");break;case "K":a.sendEvent("editor.instance.shortcut.links")}if(c.shiftKey)switch(b){case "2":a.sendEvent("editor.instance.shortcut.mention")}};
return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry-entry.js' */
define("jira/editor/registry/entry",["underscore","jquery","jira/editor/constants"],function(e,f,g){function c(a,b,c){var d=f.Deferred();this._rteInstance=d;this._editorRegistry=c;this.id=a;this.currentMode=void 0;this.textArea=b;this.toolbar=this._findToolbar(b);this.rteInstance=d.promise()}var b=g.Modes;e.extend(c.prototype,{isVisualMode:function(){return this.currentMode===b.VISUAL},isTextMode:function(){return this.currentMode===b.TEXT},applyIfTextMode:function(a){return this._applyIfMode(b.TEXT,
a)},applyIfVisualMode:function(a){return this._applyIfMode(b.VISUAL,a)},onSwitch:function(a){this._editorRegistry.on("switch::"+this.id,a);return this},onUnregister:function(a){this._editorRegistry.once("unregister::"+this.id,a);return this},onSwitchToText:function(a){this._editorRegistry.on("switch:"+b.TEXT+":"+this.id,a);return this},onSwitchToVisual:function(a){this._editorRegistry.on("switch:"+b.VISUAL+":"+this.id,a);return this},_applyIfMode:function(a,b){this.currentMode===a&&b(this);return this},
_findToolbar:function(a){return a.parentNode.parentNode.querySelector("div.wiki-edit-toolbar")}});return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry.js' */
define("jira/editor/registry",["underscore","backbone","jira/editor/constants","jira/editor/registry/entry"],function(c,h,k,f){function g(){this._instances={}}var e=k.Modes;c.extend(g.prototype,h.Events,{getEntry:function(a){return this._instances[a]},_registerTextMode:function(a){if(a){var b=this._getTextAreaId(a);a=new f(b,a,this);this._register(a,e.TEXT)}},_registerVisualMode:function(a){if(a){var b=this._findTextArea(a),c=this._getTextAreaId(b),d=this.getEntry(c);d?(this._resolveRTEInstance(d,
a),this._switchMode(b,e.VISUAL)):(d=new f(c,b,this),this._resolveRTEInstance(d,a),this._register(d,e.VISUAL))}},_findTextArea:function(a){return a.element.getContainer().parent().get(0).querySelector("textarea:last-of-type")},_getTextAreaId:function(a){var b=a.getAttribute("data-editor-id");if(b)return b;b=c.uniqueId((new Date).getTime()+"-");a.setAttribute("data-editor-id",b);return b},_register:function(a,b){a.currentMode=b;this._instances[a.id]=a;this._triggerEvents("register",a)},_resolveRTEInstance:function(a,
b){"resolved"!==a._rteInstance.state()&&b&&a._rteInstance.resolve(b)},_switchMode:function(a,b){a=this._getTextAreaId(a);(a=this.getEntry(a))&&a.currentMode!==b&&(a.currentMode=b,this._triggerEvents("switch",a))},_unregister:function(a){a=this._getTextAreaId(a);var b=this.getEntry(a);b&&(delete this._instances[a],this._triggerEvents("unregister",b))},_triggerEvents:function(a,b){this.trigger(a,b);this.trigger(a+":"+b.currentMode,b);this.trigger(a+":"+b.currentMode+":"+b.id,b);this.trigger(a+"::"+
b.id,b)}});return new g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.036a05e5ff', location = 'aui.chunk.1f8fd79960bc15640aab--b038893c19638f8465ef.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.splitchunk.036a05e5ff"],{"C/C5":function(e,t,a){"use strict";a.r(t),a.d(t,"NavigationEl",(function(){return u}));var i=a("HH5i"),n=a("+x/D"),r=a("4dFR"),s=a("KloK"),d=a("6RZY");function o(e){if(this.$el=Object(n.default)(e).closest(".aui-nav"),this.$el.length>1)return this.$el.map((function(e,t){return new o(t)}))[0];if(this.$el.data("aui-navigation"))return this.$el.data("aui-navigation");this.$el.data("aui-navigation",this),this.$treeParent=this.$el.parent("li[aria-expanded]"),this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon"),this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");var t=this.$el.children(".aui-nav-selected");t.parents(".aui-nav > [aria-expanded=false]").add(t.filter("[aria-expanded=false]")).each((function(){l(Object(n.default)(this).children(".aui-nav")).expand()}));var a=this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle");return a.on("click",(function(){l(Object(n.default)(this).siblings(".aui-nav")).toggle()})),a.each((function(){var e=Object(n.default)(this).parent("li[aria-expanded]"),t=Object(n.default)(this).find(".aui-icon"),a="true"===e.attr("aria-expanded");t.text(a?"Collapse":"Expand")})),this}o.prototype.isNested=function(){return 1===this.$treeParent.length},o.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")},o.prototype.expand=function(){return this.$treeParent.attr("aria-expanded","true"),this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded").text("Collapse"),this},o.prototype.collapse=function(){return this.$treeParent.attr("aria-expanded","false"),this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed").text("Expand"),this},o.prototype.toggle=function(){return this.isCollapsed()?this.expand():this.collapse(),this};const l=Object(d.default)("navigation",o),u=Object(r.default)("aui-nav",{type:r.default.type.CLASSNAME,attached:function(e){new o(e)},detached:function(e){Object(n.default)(e).removeData()}});Object(s.default)("navigation",l),t.default=l},"eC/R":function(e,t,a){"use strict";a.r(t);a("pDZt");var i=a("C/C5");a.d(t,"navigation",(function(){return i.default})),a.d(t,"NavigationEl",(function(){return i.NavigationEl}))}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.nav', location = 'aui.chunk.21524da6932a91b9ddba--37c9d2f20190a9867ab9.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.nav"],[],[["eC/R","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.056561461c","aui.splitchunk.949297951c","aui.splitchunk.994e478d48","aui.splitchunk.e54c7c7304","aui.splitchunk.479fe6ee76","aui.splitchunk.5f851f97df","aui.splitchunk.c750721820","aui.splitchunk.b652d2668a","aui.splitchunk.036a05e5ff"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tabs', location = 'js/ui/editor-tabs-soy-amd.js' */
define("jira/editor/ui/editor-tabs-soy-amd",[],function(){return JIRA.Editor.Tabs.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tabs', location = 'soy/ui/editor-tabs.soy' */
// This file was automatically generated from editor-tabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tabs.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tabs == 'undefined') { JIRA.Editor.Tabs = {}; }
if (typeof JIRA.Editor.Tabs.Templates == 'undefined') { JIRA.Editor.Tabs.Templates = {}; }


JIRA.Editor.Tabs.Templates.tabs = function(opt_data, opt_ignored) {
  var output = '<nav class="aui-navgroup aui-navgroup-horizontal editor-toggle-tabs"><div class="aui-navgroup-inner"><div class="aui-navgroup-primary"><ul class="aui-nav">';
  var tabList4 = opt_data.tabs;
  var tabListLen4 = tabList4.length;
  for (var tabIndex4 = 0; tabIndex4 < tabListLen4; tabIndex4++) {
    var tabData4 = tabList4[tabIndex4];
    output += '<li data-mode="' + soy.$$escapeHtml(tabData4.mode) + '"' + ((opt_data.currentMode == tabData4.mode) ? ' class="aui-nav-selected"' : '') + '><button type="button" class="aui-button" aria-pressed="' + ((opt_data.currentMode == tabData4.mode) ? 'true' : 'false') + '" >' + soy.$$escapeHtml(tabData4.text) + '</button></li>';
  }
  output += '</ul></div></div></nav>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Editor.Tabs.Templates.tabs.soyTemplateName = 'JIRA.Editor.Tabs.Templates.tabs';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tags', location = 'soy/editor-tags.soy' */
// This file was automatically generated from editor-tags.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.image = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '" ' + ((opt_data.width) ? 'width="' + soy.$$escapeHtml(opt_data.width) + '"' : '') + ' ' + ((opt_data.height) ? 'height="' + soy.$$escapeHtml(opt_data.height) + '"' : '') + ' ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.vspace) ? 'vspace="' + soy.$$escapeHtml(opt_data.vspace) + '"' : '') + ' />';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.image.soyTemplateName = 'JIRA.Editor.Tags.Templates.image';
}


JIRA.Editor.Tags.Templates.mentionlink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml("") + '/secure/ViewProfile.jspa?name=' + soy.$$escapeUri(opt_data.username) + '" class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml('Follow link') + '">' + soy.$$escapeHtml(opt_data.displayname) + '</a> ';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.mentionlink.soyTemplateName = 'JIRA.Editor.Tags.Templates.mentionlink';
}


JIRA.Editor.Tags.Templates.attachedImage = function(opt_data, opt_ignored) {
  return '<img style="border: 0px solid black" src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedImage.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedImage';
}


JIRA.Editor.Tags.Templates.attachedFile = function(opt_data, opt_ignored) {
  return '<span class="nobr"><a title="' + soy.$$escapeHtml(opt_data.title) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">' + soy.$$escapeHtml(opt_data.filename) + '<sup><img class="rendericon" width="7" height="7" border="0" align="absmiddle" alt="" src="/jira/images/icons/link_attachment_7.gif"></sup></a></span>';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedFile.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedFile';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/ui/editor-toggle-tabs.js' */
define("jira/editor/ui/toggle-tabs","jira/editor/constants jira/editor/analytics jira/editor/toggle jira/editor/ui/editor-tabs-soy-amd jira/lib/class backbone underscore jquery".split(" "),function(g,e,f,h,k,l,m,b){var c=g.Modes;return k.extend({init:function(a){this.$parent=b(a).parent(".wiki-edit-content");this.rendered=new b.Deferred;f.getMode().always(function(a){this.renderTabs(a)}.bind(this));this.hideTooltip=m.debounce(this.hideTooltip,750)},renderTabs:function(a){this.activeMode=a;this.$tabs=
b(h.tabs({tabs:[{text:"Visual",url:"#",mode:c.VISUAL},{text:"Text",url:"#",mode:c.TEXT}],currentMode:a}));this.$tabs.appendTo(this.$parent).find("button").on("click",this.onTabSelect.bind(this));this.$tooltip=b(aui.labels.label({text:"",extraClasses:"editor-toggle-tooltip"})).appendTo(this.$parent);this.rendered.resolve(this.$tabs)},onTabSelect:function(a){a.preventDefault();(a=b(a.target).parent().data("mode"))&&a!==this.activeMode&&
(this._setModeInternal(a),this.trigger("change",a),f.setMode(a),e.sendEvent("editor.instance.switch.change"),e.sendEvent("bundled.editor.instance.switch.change"))},getMode:function(){var a=new b.Deferred;this.rendered.done(function(b){(b=b.find(".aui-nav-selected").data("mode"))?a.resolve(b):a.reject()}.bind(this));return a.promise()},setMode:function(a){this.rendered.done(function(){this._setModeInternal(a)}.bind(this))},enable:function(){this.$tabs.removeClass("rte-tabs-disabled").find("button").removeAttr("tabindex")},
disable:function(){this.$tabs.addClass("rte-tabs-disabled").find("button").attr("tabindex",-1)},showTooltip:function(a){a=a===c.VISUAL?"Visual mode":"Text mode";this.$tooltip.text(a).addClass("visible")},hideTooltip:function(){this.$tooltip.removeClass("visible")},isVisible:function(){if(this.$tabs){var a=this.$tabs[0].getBoundingClientRect();return a&&b(document.elementFromPoint(a.left+a.width/2,a.top+a.height/2)).parents().is(this.$tabs)}},
_setModeInternal:function(a){this.$tabs.find("li").each(function(c,d){b(d).data("mode")===a?b(d).addClass("aui-nav-selected").find("button").attr("aria-pressed","true"):b(d).removeClass("aui-nav-selected").find("button").attr("aria-pressed","false")});this.activeMode=a;this.showTooltip(a);this.hideTooltip()}}).extend(l.Events)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/editor-toggle.js' */
define("jira/editor/toggle",["jira/featureflags/feature-manager","jira/editor/constants","jira/data/session-storage","jquery"],function(k,l,f,e){var m=!k.isFeatureEnabled("jira.richeditor.enable-rte.optional"),h=l.Modes,d={setProperty:function(a,c){if(c===f.getItem(a))return(new e.Deferred).resolve(c);f.setItem(a,c);var b=new e.Deferred;d.fetchProperty(a).always(function(g){if(c===g)b.resolve(g);else return e.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key\x3d"+a,type:"PUT",contentType:"application/json",
dataType:"json",data:JSON.stringify(c)}).done(b.resolve.bind(b,g)).fail(b.resolve.bind(b,g))});return b},getProperty:function(a,c){var b=new e.Deferred;if(f.getItem(a))return b.resolve(f.getItem(a)).promise();d.fetchProperty(a).done(function(a){b.resolve(a)}).fail(function(){b.reject(c)});c&&b.always(function(b){d.setProperty(a,b)});return b.promise()},fetchProperty:function(a){return e.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key\x3d"+a,type:"GET",contentType:"application/json",dataType:"json"})},
getMode:function(){return d.getProperty("jira.editor.user.mode",m?h.VISUAL:h.TEXT)},setMode:function(a){return d.setProperty("jira.editor.user.mode",a)}};return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:marionette', location = 'js/amd/marionette-amd.js' */
define("jira/editor/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(a,b,c){return c(b,a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/button-bar-decorator.js' */
define("jira/editor/ui/button-bar-decorator",["jira/lib/class","jquery"],function(e,d){return e.extend({init:function(){},decorateButtonBars:function(b){var a=function(){var a=d(this);if(!a.find(".wiki-button-bar-content").length){var c=d('\x3cdiv class\x3d"wiki-button-bar-content"\x3e\x3c/div\x3e');a.wrapInner(c);c=d('\x3cdiv class\x3d"tabs-placeholder"\x3e\x3c/div\x3e');c.width(b.width());c.height(b.height());a.prepend(c);a.append(d("\x3cdiv\x3e\x3c/div\x3e").css("clear","both"))}};b.closest(".jira-wikifield").next(".wiki-button-bar").each(a);
b.closest(".inline-edit-fields").nextAll(".save-options").each(a);b.prev(".sd-rte-bar").each(a);b.parent(".wiki-edit-content").siblings(".sd-rte-bar").each(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/undo-redo-buttons.js' */
define("jira/editor/ui/undo-redo-buttons",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jira/util/navigator","jquery"],function(d,e,f,g,c){return e.ItemView.extend({tagName:"div",template:function(a){return JIRA.Editor.Tags.Templates.undoRedoButtons({isMac:g.isMac()})},ui:{undo:".wiki-operation-undo",redo:".wiki-operation-redo"},events:{"click @ui.undo":"onUndo","click @ui.redo":"onRedo"},initialize:function(a){this.$container=this.determineButtonsContainer(a.textarea);null===
this.$container?f.warn("Could not attach undo/redo buttons to the editor"):this.undoManager=a.undoManager},enable:function(a){this.undoManager&&(a=a||c([this.ui.undo,this.ui.redo]),a.attr("aria-disabled","false"))},disable:function(a){this.undoManager&&(a=a||c([this.ui.undo,this.ui.redo]),a.attr("aria-disabled","true"))},highlight:function(a){this.undoManager&&(a.addClass("active"),setTimeout(function(){a.removeClass("active")},100))},updateUI:function(a,b){this.undoManager&&(this.updateButton(this.ui.undo,
this.undoManager.hasUndo()),this.updateButton(this.ui.redo,this.undoManager.hasRedo()),d.EventSources.SHORTCUT===b&&(d.EventTypes.UNDO===a?this.highlight(this.ui.undo):d.EventTypes.REDO===a&&this.highlight(this.ui.redo)))},updateButton:function(a,b){b?this.enable(a):this.disable(a)},onRender:function(){if(this.undoManager){this.$el.addClass("wiki-edit-undo-redo-buttons aui-buttons");this.shouldUseDivider()&&this.$el.addClass("wiki-edit-separate-section");var a={aria:!0,hideOnClick:!0,hoverable:!1};
this.ui.undo.tooltip(a);this.ui.redo.tooltip(a);this.updateUI();this.$el.prependTo(this.$container);this.attachHandlers()}},onBeforeDestroy:function(){this.ui.undo.tooltip("destroy");this.ui.redo.tooltip("destroy")},onDestroy:function(){c.fn.tipsy&&c.fn.tipsy.revalidate()},attachHandlers:function(){this.listenTo(this.undoManager,"editor:historychanged",function(a,b){this.updateUI(a,b)});this.listenTo(this.undoManager,"destroy",function(){this.destroy()})},determineButtonsContainer:function(a){var b=
c(a).closest("div.inline-edit-fields").nextAll(".save-options").find(".wiki-button-bar-content");b.length||(b=c(a).closest("div.jira-wikifield").next(".save-options").find(".wiki-button-bar-content"));b.length||(b=c(a).siblings(".sd-rte-bar").find(".wiki-button-bar-content"));b.length||(b=c(a).parent(".wiki-edit-content").siblings(".sd-rte-bar").find(".wiki-button-bar-content"));return b.length?b:null},shouldUseDivider:function(){var a=this.$container.children(":visible");return 0<a.length&&!a.eq(0).is("button, input")},
onUndo:function(){this.isUndoEnabled()&&(this.undoManager.undo(),this._focusTextarea())},onRedo:function(){this.isRedoEnabled()&&(this.undoManager.redo(),this._focusTextarea())},isUndoEnabled:function(){return"true"!==this.ui.undo.attr("aria-disabled")},isRedoEnabled:function(){return"true"!==this.ui.redo.attr("aria-disabled")},_focusTextarea:function(){this.options.textarea.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'soy/ui/undo-redo-buttons.soy' */
// This file was automatically generated from undo-redo-buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.undoRedoButtons = function(opt_data, opt_ignored) {
  var output = '';
  var undoShortcut__soy3 = ((opt_data.isMac) ? '\u2318' : 'Ctrl') + '+Z';
  var redoShortcut__soy10 = '' + ((opt_data.isMac) ? '\u2318+Shift+Z' : 'Ctrl+Y');
  output += '<button type="button" class="aui-button aui-button-subtle wiki-operation-undo" title="' + soy.$$escapeHtml('Undo') + ' (' + soy.$$escapeHtml(undoShortcut__soy3) + ')" aria-disabled="true"><span class="aui-icon aui-icon-small aui-iconfont-undo">' + soy.$$escapeHtml('Undo') + '</span></button><button type="button" class="aui-button aui-button-subtle wiki-operation-redo" title="' + soy.$$escapeHtml('Redo') + ' (' + soy.$$escapeHtml(redoShortcut__soy10) + ')" aria-disabled="true"><span class="aui-icon aui-icon-small aui-iconfont-redo">' + soy.$$escapeHtml('Redo') + '</span></button>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.undoRedoButtons.soyTemplateName = 'JIRA.Editor.Tags.Templates.undoRedoButtons';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:history-store', location = 'js/editor-undo-history-store.js' */
define("jira/editor/undo-history-store",[],function(){var b=[],a=function(){};a.prototype.put=function(a,c){a&&(b["jira.richeditor.history."+a]=c)};a.prototype.get=function(a){return b["jira.richeditor.history."+a]};a=new a;return{get:a.get,put:a.put}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/editor-undo-redo-analytics.js' */
define("jira/editor/undo-redo-analytics",["jira/editor/analytics","jira/editor/constants","jira/lib/class"],function(d,e,f){return f.extend({init:function(a){a.on("editor:historychanged",function(b,c,a){e.EventTypes.UNDO===b?this.logUndo(b,c,a):e.EventTypes.REDO===b&&this.logRedo(b,c,a);e.EventTypes.ADD===b?(0<this.countAddEvents&&(this.isFirstEditorAction=!1),++this.countAddEvents):this.isFirstEditorAction=!1},this)},logUndo:function(a,b,c){d.sendEvent("editor.instance.action."+a,{firstAction:this.isFirstEditorAction,
source:b,mode:c});d.sendEvent("editor.instance.action",{name:a,mode:c})},logRedo:function(a,b,c){d.sendEvent("editor.instance.action."+a,{source:b,mode:c});d.sendEvent("editor.instance.action",{name:a,mode:c})},clearCounters:function(){this.isFirstEditorAction=!0;this.countAddEvents=0},countAddEvents:0,isFirstEditorAction:!0})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/text-adapter.js' */
define("jira/editor/undomanager-adapter/text-adapter",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jquery"],function(b,d,e,f){return d.Object.extend({initialize:function(a){this.textEditor=f(a.textarea);a=this.textEditor.data("wikiEditor");if(!a)throw e.error("Wiki-editor should be already initialised. Could not find 'wikiEditor' instance in given textarea element",this.textEditor),Error("Wiki-editor should be already initialised. Could not find 'wikiEditor' instance in given textarea element");
this.textUndoableTextarea=a.undoRedoEl;this.textUndoManager=this.textUndoableTextarea.undoManager;this.ongoingInternalOperation=!1;this.attachEvents(this.textUndoManager)},undo:function(){try{this.ongoingInternalOperation=!0,this.textUndoableTextarea.undo()}finally{this.ongoingInternalOperation=!1}},redo:function(){try{this.ongoingInternalOperation=!0,this.textUndoableTextarea.redo()}finally{this.ongoingInternalOperation=!1}},hasUndo:function(){return this.textUndoManager.canUndo()},hasRedo:function(){return this.textUndoManager.canRedo()},
clear:function(){this.textUndoManager.clear()},attachEvents:function(a){var c=a.EventTypes;a.on([c.PUSH,c.UPDATE_CURRENT].join(" "),function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.ADD,b.EventSources.UNKNOWN)}.bind(this));a.on(c.UNDO,function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.UNDO,b.EventSources.SHORTCUT)}.bind(this));a.on(c.REDO,function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.REDO,b.EventSources.SHORTCUT)}.bind(this));
a.on(c.CLEAR,function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.CLEAR,b.EventSources.UNKNOWN)}.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/visual-adapter.js' */
define("jira/editor/undomanager-adapter/visual-adapter",["jira/editor/constants","jira/editor/marionette","jquery"],function(b,c,d){return c.Object.extend({initialize:function(a){this.id=this.determineId(a.richEditorEl);this.visualEditorInstance=a.richEditorEl.getInstance();this.visualEditor=this.visualEditorInstance.editor;this.visualUndoManager=this.visualEditor.undoManager;this.ongoingInternalOperation=!1;this.attachEvents(this.visualEditor)},undo:function(){try{this.ongoingInternalOperation=!0,
this.visualUndoManager.undo()}finally{this.ongoingInternalOperation=!1}},redo:function(){try{this.ongoingInternalOperation=!0,this.visualUndoManager.redo()}finally{this.ongoingInternalOperation=!1}},hasUndo:function(){return this.visualUndoManager.hasUndo()},hasRedo:function(){return this.visualUndoManager.hasRedo()},clear:function(){this.visualUndoManager.clear()},add:function(a){this.visualEditorInstance.setContent(a.content,null,!0);this.visualUndoManager.add(a)},getData:function(){return this.visualUndoManager.data},
getId:function(){return this.id},attachEvents:function(a){a.on("AddUndo",function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.ADD,b.EventSources.UNKNOWN)}.bind(this));a.on("Undo",function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.UNDO,b.EventSources.SHORTCUT)}.bind(this));a.on("Redo",function(a){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.REDO,b.EventSources.SHORTCUT)}.bind(this));a.on("ClearUndos",function(a){this.ongoingInternalOperation||
this.triggerMethod("action",b.EventTypes.CLEAR,b.EventSources.UNKNOWN)}.bind(this))},determineId:function(a){var b=a.$textarea;a=d(a).data("renderParams").issueKey||"";var c=b.attr("name");b=b.attr("id");return[a,c,b].join(".")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/noop-adapter.js' */
define("jira/editor/undomanager-adapter/noop-adapter",["jira/editor/marionette"],function(a){return a.Object.extend({initialize:function(){},undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},clear:function(){},getId:function(){}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-manager', location = 'js/editor-undomanager.js' */
define("jira/editor/undomanager","jira/editor/undo-redo-analytics jira/editor/undomanager-adapter/text-adapter jira/editor/undomanager-adapter/visual-adapter jira/editor/undomanager-adapter/noop-adapter jira/editor/undo-history-store jira/editor/constants jira/util/logger jira/editor/marionette jira/dialog/dialog jquery".split(" "),function(f,g,h,c,e,b,k,l,m,n){var d=b.Modes;return l.Object.extend({initialize:function(a){this.context=this.determineContext(a.textarea);this.restoreHistory=!1;try{this.textUndoManager=
new g({textarea:a.textarea})}catch(p){this.textUndoManager=new c}this.visualUndoManager=new c;this.activeUndoManager=new c;this.analytics=new f(this);this.setActiveMode(a.mode);this.listenTo(this.textUndoManager,"action",this.notifyHistoryChanged)},undo:function(){this.activeUndoManager.undo();this.notifyHistoryChanged(b.EventTypes.UNDO,b.EventSources.BUTTON)},redo:function(){this.activeUndoManager.redo();this.notifyHistoryChanged(b.EventTypes.REDO,b.EventSources.BUTTON)},hasUndo:function(){return this.activeUndoManager.hasUndo()},
hasRedo:function(){return this.activeUndoManager.hasRedo()},setActiveMode:function(a){this.activeMode=a;this.activeUndoManager.clear();d.TEXT===a?this.activeUndoManager=this.textUndoManager:d.VISUAL===a?this.activeUndoManager=this.visualUndoManager:(this.activeUndoManager=new c,k.warn("UndoManager: incorrect mode",a));this.activeUndoManager.clear();this.analytics.clearCounters()},attachToVisualEditor:function(a){this.visualUndoManager=new h({richEditorEl:a});this.listenTo(this.visualUndoManager,"action",
this.notifyHistoryChanged)},restoreUndoHistory:function(){if(this.restoreHistory){if(d.VISUAL===this.activeMode&&b.Context.UNKNOWN===this.context){var a=e.get(this.visualUndoManager.getId());a&&(this.visualUndoManager.clear(),a.forEach(function(a){this.visualUndoManager.add(a)}.bind(this)),this.restoreHistory=!1)}this.analytics.clearCounters()}},shouldRestoreHistory:function(a){this.restoreHistory=!!a},onBeforeDestroy:function(){this.saveUndoHistory()},saveUndoHistory:function(){d.VISUAL===this.activeMode&&
b.Context.UNKNOWN===this.context&&e.put(this.visualUndoManager.getId(),this.visualUndoManager.getData().concat([]))},notifyHistoryChanged:function(a,b){b=b||this.EventSources.UNKNOWN;this.trigger("editor:historychanged",a,b,this.activeMode)},determineContext:function(a){return m.current?b.Context.DIALOG:n(a).parents("div.jira-wikifield[field-id\x3dcomment]").length?b.Context.COMMENT:b.Context.UNKNOWN}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper-heights.js' */
define("jira/editor/height-helper-heights",[],function(){return{FULL_ISSUE_DETAILS:{min:219,max:629},SD_COMMENT:{min:220,max:629},BOARD_BACKLOG_ISSUE_DETAILS:{min:219,max:629},DIALOG_ISSUE_DETAILS:{min:174,max:369},COMMENT:{min:174,max:629}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper.js' */
define("jira/editor/height-helper",["jquery","jira/editor/height-helper-heights"],function(c,a){return function(e){this.element=e;this.getMinHeight=function(){return this._getLocation().min};this.getMaxHeight=function(){return this._getLocation().max};this.setHeights=function(b,a){a=a||0;b=b?c(b):c(this.element);b.css("height","");b.removeAttr("rows");var d=this._getLocation();b.css("min-height",d.min+a+"px");b.css("max-height",d.max+a+"px")};this._getLocation=function(){return this._isDialog()?a.DIALOG_ISSUE_DETAILS:
this._isBoard()?a.BOARD_BACKLOG_ISSUE_DETAILS:this._isComment()?a.COMMENT:this._isSDComment()?a.SD_COMMENT:a.FULL_ISSUE_DETAILS};this._isComment=function(){return 0<c(this.element).closest(".comment-input").length};this._isSDComment=function(){return 0<c(this.element).closest("sd-comment").length};this._isDialog=function(){return 0<c(this.element).closest(".jira-dialog, .jira-dialog2").length};this._isBoard=function(){return 0<c(this.element).closest(".ghx-detail-view").length}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toolbar-ui', location = 'js/ui/toolbar/clear-formatting.js' */
define("jira/editor/ui/toolbar/clear-formatting",["jira/editor/analytics","jira/util/logger"],function(d,e){return{init:function(b){const c=b.getToolbarContainer().find('.wiki-edit-operation[data-operation\x3d"clear-format"]').parent();c.on("click",function(a){a.preventDefault();(a=(a=b.getInstance())&&a.editor)&&!a.isHidden()&&(a.undoManager.add(),a.execCommand("RemoveFormat"),e.trace("jira.editor.operation.executed"),d.sendEvent("editor.instance.operation.clear.formatting"),a.undoManager.add())});
c.parent().parent().attr("hidden",!1);b.getInstance().on("tabs:changed",function(a){c.parent().parent().attr("hidden",!!a)})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:temporaryAttachmentUtil', location = 'js/util/temporaryAttachment.js' */
define("jira/editor/util/temporaryAttachment",["jquery","exports"],function(b,c){c.getFormToken=function(a){if(a)return b(a).parents("form").find('input[name\x3d"formToken"]').attr("value")||"undefined"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:controller', location = 'js/editor-controller.js' */
define("jira/editor/controller","jira/editor/analytics jira/editor/constants jira/editor/registry jira/editor/ui/toggle-tabs jira/editor/ui/undo-redo-buttons jira/editor/ui/toolbar/clear-formatting jira/editor/undomanager jira/editor/ui/button-bar-decorator jira/editor/height-helper wrm/require jquery underscore jira/editor/util/temporaryAttachment".split(" "),function(k,q,l,r,t,u,v,w,x,y,e,p,z){function A(a,b){b===m.TEXT&&l._registerTextMode(a);a.isListenedByRegistry||(l.listenTo(a,"detached",l._unregister),
a.isListenedByRegistry=!0)}function B(a,b,c){c=c.getInstance();l._registerVisualMode(c);b.on("change",function(c){l._switchMode(a,c)})}var m=q.Modes;return{init:function(){},initResources:function(){return this.webResources?this.webResources:this.webResources=y(["wrc!jira.rich.editor.api","wrc!jira.rich.editor"])},_createTabs:function(a,b){a=b[0];var c=b.data("toggleTabs");c||b.data("toggleTabs",c=new r(a));c.getMode().then(function(a){b.is(":visible")&&a===m.TEXT&&(k.sendEvent("editor.instance.init.source"),
k.sendEvent("bundled.editor.instance.init.source"))});return c},_createUndoManager:function(a,b,c,d){a=b[0];c=b.data("undoManager");c||(c=new v({textarea:a,mode:d}),b.data("undoManager",c));return c},_createUndoRedoButtons:function(a,b,c,d){(new w).decorateButtonBars(c.$tabs);a=new t({textarea:b[0],undoManager:d});a.render();return a},_initModes:function(a,b,c){var d=p.partial(B,b[0],c);c.getMode().then(function(e){A(b[0],e);var g=this._createUndoManager(a,b,c,e),h=this._createUndoRedoButtons(a,b,
c,g);e===m.VISUAL?(g.shouldRestoreHistory(!0),this.initResources(),this.initEditor(a,b,c,g,h,!0).done(d)):(c.once("change",function(e){c.disable();h.disable();e===m.VISUAL&&(k.sendEvent("editor.instance.switch.wysiwyg"),k.sendEvent("bundled.editor.instance.switch.wysiwyg"),this.initEditor(a,b,c,g,h).done(d).always(function(){c.enable();h.updateUI()}).done(function(a){a.focus()}))}.bind(this),this),h.updateUI())}.bind(this))},_renderMarkup:function(a,b,c){var d=b[0];b=d.value;d=this.getRenderParams(d);
return c&&a.data("content-present")?(c=a.html(),a.empty(),(new e.Deferred).resolve(this._postProcessRendered(e((new DOMParser).parseFromString(c,"text/html").body))).promise()):this.renderMarkup(b,d)},initEditor:function(a,b,c,d,h,g){var l=new e.Deferred,n=b[0],f=a[0];if(a.data("textarea")===n)return(new e.Deferred).reject().promise();var p=this._renderMarkup(a,b,g);(new x(n)).setHeights(a,-2);c.disable();g=this.getRenderParams(n);a.data("textarea",n).data("renderParams",g);return f.loadingStart()?
(this.require(["jira/editor/create","jira/editor/saving-kb-shortcuts"],function(a,g){a.builder().withElement(f).withMeta(f.$textarea.data()).withPlugin("jira/editor/plugins/mentions/jira-mentions").withPlugin("jira/editor/plugins/prevent-default").withPlugin("jira/editor/plugins/paste").withPlugin("jira/editor/plugins/wiki-autoformat").withPlugin("jira/editor/plugins/editor-content-postprocess").withPlugin("jira/editor/plugins/toolbar-sync").build().progress(function(a){f.setInstance(a)}).then(function(a){function n(a){d.attachToVisualEditor(a);
d.setActiveMode(m.VISUAL);d.restoreUndoHistory()}f.loadingStop();a.on("content",f.serialize,f);f.$textarea.is(document.activeElement)&&f.syncSelection(f.$textarea[0]);a.on("switchMode",function(a){f.setMode(a)});f.shouldFocus()&&setTimeout(function(){a.focus()});document.activeElement&&e.browser.safari&&document.activeElement.blur();a.relayEvent("blur",function(){f.$textarea.blur()});g.enable(f);var q=window.performance.now();p.done(function(c){n(f);a.setContent(c,null,!0)}).fail(function(){n(f);
a.setContent(b[0].value,null,!0)}).always(function(){f.hideMask();c.enable();h.updateUI();l.resolve(f);u.init(f);k.oneShotMeasure("rte-init",{},"init",!0);var a=window.performance.now()-q;k.sendEvent("editor.instance.init.perf",{time:a})});k.oneShotMeasure("rte-init",{},"init-bare",!0)})}),this._bindToggleTabsChange(c,h,d,f),l.promise()):(new e.Deferred).reject().promise()},_bindToggleTabsChange:function(a,b,c,d){a.on("change",function(e){a.disable();b.disable();var g=e===m.TEXT;d.setMode(g).done(function(){c.setActiveMode(e);
d.getInstance().trigger("tabs:changed",g)}).fail(function(){d.setMode(!g);a.setMode(g?m.VISUAL:m.TEXT)}).always(function(){a.enable();b.updateUI()})})},destroyEditor:function(a){var b=e(a);a=a.parentNode;var c=b.data("textarea");b.removeData(["textarea","renderParams"]);e(c).data("jiraEditorWrap",!1);(b=e(c).data("toggleTabs"))&&b.off("change");(c=c||a.querySelector("textarea"))&&l._unregister(c)},getRenderParams:function(a){a=e(a);var b=a.parents("form").find("#issuetype").val(),c=z.getFormToken(a);
return{issueKey:this.getIssueKey(a),projectId:a.parents("form").find("#pid").val(),issueType:p.isArray(b)?p.first(b):b,formToken:c}},getIssueKey:function(a){return a.attr("data-issuekey")?a.attr("data-issuekey"):JIRA&&JIRA.Issue&&JIRA.Issue.getIssueKey?JIRA.Issue.getIssueKey():AJS.Meta.get("issue-key")},renderMarkup:function(a,b){k.mark("rte-rendermarkup");var c=new e.Deferred,d=function(){c.reject(a.replace(/(?:\r\n|\r|\n)/g,"\x3cbr /\x3e"))};if(!a)return c.resolve("");this.require(["jira/editor/html-renderer"],
function(h){h.renderMarkup(a,b).then(function(b){try{var d=e((new DOMParser).parseFromString(b,"text/html").body);c.resolve(this._postProcessRendered(d))}catch(n){c.reject(a)}}.bind(this),d)}.bind(this),d);return c.promise().done(function(){k.oneShotMeasure("rte-rendermarkup")})},_postProcessRendered:function(a){a.find("span.image-wrap").replaceWith(function(a,b){a=e(b);a.is("img")&&(this.style.textAlign?a.css({"text-align":this.style.textAlign,display:"block",margin:"0 auto"}):this.style["float"]&&
a.css("float",this.style["float"]));return a});a.find("div.code.panel,div.preformatted.panel").html(function(a,b){a=e(b);a.find("pre:empty").html("\x3cbr\x3e");return a});var b=a.find("\x3ep:first-child:last-child");return 1!==b.length||b[0].previousSibling||b[0].nextSibling?a.html()||"":b.html()||""},require:function(a,b){this.initResources().then(function(){require(a,b)})},overrideWikiPreview:function(){var a=require("jira/wikipreview/wiki-preview"),b=function(b,d){var c=d.find("textarea.wiki-textfield");
if(!c.attr("data-issue-key")){var g=e(b).find('dt:contains("issueKey")+dd').text();g&&c.attr("data-issue-key",g)}return a.apply(this,arguments)};AJS.namespace("jira.app.wikiPreview",null,b);AJS.namespace("JIRA.wikiPreview",null,b)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state.js' */
define("jira/editor/fsm/states/state",["underscore"],function(d){var c=function(a,b){b.stateName=a;b.extend=e;return b},e=function(a){return c(this.stateName,d.compose(a,this))};return function(a,b){return c(a,b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-attached.js' */
define("jira/editor/fsm/states/attached",["jira/editor/fsm/states/state","jira/editor/fsm/states/wrap","jira/editor/fsm/states/hidden","jira/editor/fsm/events","jquery"],function(d,g,h,e,f){return function(c){var k=require("jira/editor/fsm/states/init"),b=f(c);b.parent().hasClass("rte-container")||b.wrap(JIRA.Editor.Init.Templates.container());var a=b.parent().siblings('textarea[class*\x3d"wiki-textfield"]')[0];if(a){if(a.wikiEnabled)return g(c,a);f(a).one("wiki-editor-initialized",function(){c.FSM.triggerEvent(e.WIKI_EDITOR_INITIALIZED)}.bind(this))}return d("Attached",
function(b,d){if(b===e.DETACHED)return k(d);if(b===e.WIKI_EDITOR_INITIALIZED)return f(a).is(":visible")?g(c,a):h(c,a)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-detached.js' */
define("jira/editor/fsm/states/detached",["jira/editor/fsm/states/state","jira/editor/fsm/events","jira/editor/controller","jira/util/logger","jquery"],function(f,c,g,d,h){return function(a){var k=require("jira/editor/fsm/states/init"),l=require("jira/editor/fsm/states/attached");setTimeout(function(){a.FSM.triggerEvent(c.DESTROY_TIMEOUT)});return f("Detached",function(b,e){if(b===c.ATTACHED&&e===a)return l(e);if(b===c.DESTROY_TIMEOUT){a.undoManager&&(a.undoManager.destroy(),delete a.undoManager);
a.uncoverTextarea();if(a.richEditorInstance){try{a.richEditorInstance.destroy()}catch(m){d.debug("Editor destroy exception:",m)}delete a.richEditorInstance}delete a.richEditorInstance_loading;delete a.$textarea;"none"===a.style.display&&(a.style.display="");g.destroyEditor(a);b=h(a);b.removeAttr("id","aria-hidden","data-content-present");b.empty();d.trace("jira.editor.plugin.detached");return k(a)}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-init.js' */
define("jira/editor/fsm/states/init",["jira/editor/fsm/states/state","jira/editor/fsm/states/attached","jira/editor/fsm/events"],function(a,b,c){return function(){return a("Init",function(a,d){if(a===c.ATTACHED)return b(d)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-wrap.js' */
define("jira/editor/fsm/states/wrap","jira/editor/fsm/states/state jira/editor/fsm/states/detached jira/editor/fsm/states/mode-text jira/editor/fsm/states/mode-visual jira/editor/fsm/events jira/editor/constants jira/editor/controller jira/editor/height-helper jira/editor/analytics underscore jquery".split(" "),function(k,l,m,n,d,g,h,p,q,r,f){return function(a,b){var e=f(b);q.mark("rte-init");e.addClass("wiki-edit-wrapped");(new p(e)).setHeights();a.textarea=b;a.$textarea=e;b=h._createTabs(f(a),e);
h._initModes(f(a),e,b);b.on("change",function(c){a.FSM.triggerEvent(d.TABS_CHANGE,c)});b.getMode().then(r.debounce(function(c){a.FSM.triggerEvent(d.TABS_CHANGE,c)}));return k("Wrap",function(c,b){if(c===d.DETACHED&&b===a)return l(a);if(c===d.TABS_CHANGE&&b===g.Modes.VISUAL)return n(a);if(c===d.TABS_CHANGE&&b===g.Modes.TEXT)return m(a)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/util/state-hidden-intersection-observer.js' */
define("jira/editor/fsm/states/state-hidden-intersection-observer",["jira/editor/fsm/events"],function(c){var a=function(a,b){this.element=a;this.FSM=b};a.prototype.isIntersectionObserverSupported=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype};a.prototype.observe=function(){if(!this.isIntersectionObserverSupported())return!1;this.observer=new window.IntersectionObserver(function(a,b){a.forEach(function(a){a.isIntersecting&&
this.FSM.triggerEvent(c.VISIBLE)}.bind(this))}.bind(this),{root:null,rootMargin:"0px",threshold:0});this.observer.observe(this.element);return!0};a.prototype.cleanup=function(){this.observer&&(this.observer.disconnect(),delete this.observer)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-hidden.js' */
define("jira/editor/fsm/states/hidden","jira/editor/fsm/states/state jira/editor/fsm/states/wrap jira/editor/fsm/events jquery underscore jira/editor/fsm/states/state-hidden-intersection-observer".split(" "),function(m,n,b,d,p,q){return function(c,e){var r=require("jira/editor/fsm/states/init"),f=d(e),l=new q(e,c.FSM);if(!l.observe()){var a=f.parents(".tabs-pane");if(0<a.length){a=d(a[0]).attr("id");var g=d('a[href\x3d"#'+a+'"]');g.on("click.rteHiddenState",function(){p.defer(function(){c.FSM.triggerEvent(b.VISIBLE)})})}}var h=
setInterval(function(){f.is(":visible")&&c.FSM.triggerEvent(b.VISIBLE)},100);return m("Hidden",function(k,a){if(k===b.DETACHED)return r(a);if((k===b.VISIBLE||k===b.ATTACHED)&&f.is(":visible"))return n(c,e)}).extend(function(a){a&&(h&&(clearInterval(h),h=void 0),g&&g.off("click.rteHiddenState"),l.cleanup());return a})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-text.js' */
define("jira/editor/fsm/states/mode-text",["jira/editor/fsm/states/state","jira/editor/fsm/states/detached","jira/editor/fsm/events","jira/editor/analytics","jira/editor/constants"],function(e,f,c,g,h){return function(b){var k=require("jira/editor/fsm/states/mode-visual"),l=window.performance.now();return e("Text",function(a,d){if(a===c.DETACHED&&d===b)return f(b);if(a===c.TABS_CHANGE&&d===h.Modes.VISUAL)return k(b)}).extend(function(a){a&&g.sendEvent("editor.instance.tab.timing.text",{time:window.performance.now()-
l});return a})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-visual.js' */
define("jira/editor/fsm/states/mode-visual","jira/editor/fsm/states/state jira/editor/fsm/states/detached jira/editor/fsm/events jira/editor/analytics jira/editor/constants underscore".split(" "),function(g,h,e,k,c,f){return function(a){var l=require("jira/editor/fsm/states/mode-text");[c.EVENT_OPERATION,c.EVENT_OPERATION_COLOR,c.EVENT_OPERATION_ATTACHMENT].forEach(function(b){a.$textarea.on(b+".stateVisual",function(d,c){a.FSM.triggerEvent(b,c);return!0})});a.$textarea.on("focus.stateVisual",function(){a.FSM.triggerEvent(e.TEXTAREA_FOCUS)});
a.$textarea.on("keydown.stateVisual",function(){a.FSM.triggerEvent(e.TEXTAREA_FOCUS)});a.$textarea.on(c.EVENT_CHANGE+".stateVisual",function(b,d){a.FSM.triggerEvent(c.EVENT_CHANGE,d)});var m=window.performance.now();return g("Visual",function(b,d){if(b===e.DETACHED&&d===a)return h(a);if(b===e.TABS_CHANGE&&d===c.Modes.TEXT)return l(a);b===c.EVENT_OPERATION&&a.getInstance().focus().executeOperation(d);b===c.EVENT_OPERATION_COLOR&&a.getInstance().focus().executeOperation("color",d);b===c.EVENT_OPERATION_ATTACHMENT&&
f.each(f.isArray(d)?d:[d],function(b){a.getInstance().focus().executeOperation("attachment",{attachment:b})});b===e.TEXTAREA_FOCUS&&a.getInstance().focus();b===c.EVENT_CHANGE&&a.changeHandler(d)}).extend(function(b){b&&(k.sendEvent("editor.instance.tab.timing.visual",{time:window.performance.now()-m}),a.$textarea.off(".stateVisual"));return b})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/events.js' */
define("jira/editor/fsm/events",[],function(){return"ATTACHED DETACHED WIKI_EDITOR_INITIALIZED DESTROY_TIMEOUT TABS_CHANGE TEXTAREA_FOCUS VISIBLE".split(" ").reduce(function(a,b){a[b]=b;return a},{})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/fsm.js' */
define("jira/editor/fsm",["jira/editor/fsm/states/init","jira/editor/fsm/events","jira/lib/class","jira/util/logger","underscore"],function(e,f,a,c,d){a=a.extend({init:function(){this.currentState=e()},triggerEvent:function(a){c.debug("JEP FSM - Event:",a,d.rest(arguments,1));c.debug("JEP FSM - Current state:",this.currentState.stateName);var b=this.currentState.apply(null,arguments);d.isFunction(b)&&b!==this.currentState&&(this.currentState=b,c.debug("JEP FSM - Next State:",b.stateName))}});a.Events=
f;return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/edit-distance.js' */
define("jira/editor/util/edit-distance",["exports"],function(f){f.getEditDistance=function(d,e){if(0===d.length)return e.length;if(0===e.length)return d.length;var c=[],a;for(a=0;a<=e.length;a++)c[a]=[a];var b;for(b=0;b<=d.length;b++)c[0][b]=b;for(a=1;a<=e.length;a++)for(b=1;b<=d.length;b++)e.charAt(a-1)===d.charAt(b-1)?c[a][b]=c[a-1][b-1]:c[a][b]=Math.min(c[a-1][b-1]+1,Math.min(c[a][b-1]+1,c[a-1][b]+1));return c[e.length][d.length]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/strings.js' */
define("jira/editor/util/strings",["exports"],function(b){b.getFilenameFromError=function(a){return a&&(a.match(/^Unable to render embedded object: File \(([^)]+)\) not found\.$/)||a.match(/^No usable issue stored in the context, unable to resolve filename '([^']+)'$/)||[])[1]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:round-trip', location = 'js/round-trip.js' */
define("jira/editor/round-trip","jira/editor/analytics jira/editor/controller jira/editor/util/strings jira/data/local-storage jira/editor/util/edit-distance underscore jquery".split(" "),function(k,u,v,l,w,g,h){var m=JSON.stringify({count:0,average:0,lastReport:0}),n=function(){try{return JSON.parse(l.getItem("jira.editor.score")||m)}catch(f){return JSON.parse(m)}},p=function(f){try{return l.setItem("jira.editor.score",JSON.stringify(f)),!0}catch(d){return!1}},q=function(f,d){f=g(f.childNodes).toArray();
for(var e="";0<f.length;){var a=f.splice(0,1)[0],c=a.nodeName;a.nodeType===Node.TEXT_NODE?c+="#"+a.nodeValue:0<a.attributes.length&&(c+="@"+g(a.attributes).toArray().filter(function(a){return!/^(data-mce|style)/.test(a.name)}).map(function(a){return a.name+"\x3d"+a.value}).sort().join("@"));d[c]||(d[c]=String.fromCharCode(d._chars++));e+=d[c];f.push.apply(f,a.childNodes)}return e},t=function(f){try{var d=(new DOMParser).parseFromString(f,"text/html").body;h(d).find("\x3ep:first-child:last-child").contents().unwrap();
for(var e=g(d.childNodes).toArray();0<e.length;){var a=e.pop(),c=a;if(c.nodeType===Node.TEXT_NODE&&/^\s+$/.test(c.nodeValue)||c.nodeType===Node.COMMENT_NODE||"A"===c.nodeName&&!c.nodeValue)a.parentNode.removeChild(a);else{if("STRONG"===a.nodeName){var b=document.createElement("b");g(a.childNodes).toArray().forEach(b.appendChild,b);a.parentNode.replaceChild(b,a);a=b}else if("SPAN"===a.nodeName&&"error"===a.className){var x=h(a).text(),r=v.getFilenameFromError(x);r&&h(a).replaceWith(h("\x3cimg /\x3e").attr("data-filename",
r))}else"IMG"===a.nodeName&&a.getAttribute("data-filename")&&/^data:/.test(a.src)?a.removeAttribute("src"):"DIV"===a.nodeName&&"table-wrap"===a.className&&h(a).find("table:first-child:last-child").unwrap();e.push.apply(e,a.childNodes)}}return d.innerHTML}catch(y){return f}};return{verify:g.debounce(function(f,d,e){u.renderMarkup(d,e).done(function(a){var c=window.performance.now();var b=t(f);a=t(a);if(b===a)c=1;else if(0===b.length||0===a.length)c=0;else{var d={_chars:33},e=q((new DOMParser).parseFromString(b,
"text/html").body,d),g=q((new DOMParser).parseFromString(a,"text/html").body,d);d=w.getEditDistance(e,g);e=1-d/Math.max(e.length,g.length);k.sendEvent("editor.instance.roundtrip.score.raw",{distance:d,score:e,sourceLength:b.length,targetLength:a.length,time:window.performance.now()-c});c=e}b=n();b.average=(c+b.count*b.average)/(b.count+1);b.count+=1;864E5>Date.now()-b.lastReport||10>b.count||(b.lastReport=Date.now(),p(b)&&k.sendEvent("editor.instance.roundtrip.score",{average:b.average,count:b.count}));
100<b.count&&(b.count=1,b.average=c);p(b)}).fail(function(){})},3E4),get:n}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:rteInitElement', location = 'soy/editor-init.soy' */
// This file was automatically generated from editor-init.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Init.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Init == 'undefined') { JIRA.Editor.Init = {}; }
if (typeof JIRA.Editor.Init.Templates == 'undefined') { JIRA.Editor.Init.Templates = {}; }


JIRA.Editor.Init.Templates.init = function(opt_data, opt_ignored) {
  return '' + JIRA.Editor.Init.Templates.container({content: '<rich-editor contenteditable="true" data-issue-key="' + soy.$$escapeHtml(opt_data.issueKey) + '" data-content-present="true" tabindex="-1">' + soy.$$filterNoAutoescape(opt_data.valueRendered) + '</rich-editor>'});
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.init.soyTemplateName = 'JIRA.Editor.Init.Templates.init';
}


JIRA.Editor.Init.Templates.container = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="rte-container">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.container.soyTemplateName = 'JIRA.Editor.Init.Templates.container';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:element', location = 'js/ui/rich-editor.js' */
define("jira/editor/ui/rich-editor","atlassian/libs/skate-0.12.6 jira/util/logger jira/util/navigator jira/editor/controller jira/editor/analytics jira/editor/round-trip jira/editor/fsm jira/editor/constants jquery underscore".split(" "),function(l,m,e,f,g,n,k,b,d,p){if(!(window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED||e.isIE()&&!e.isEdge()&&11>e.majorVersion()))return window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED=!0,d.valHooks.textarea={get:function(a){},set:function(a,c){d(a).trigger(b.EVENT_CHANGE,
c)}},f.overrideWikiPreview(),l("rich-editor",{type:l.types.TAG,prototype:{showMask:function(){d(this).addClass(b.CLASS_LOADING);this.getToolbar().addClass(b.CLASS_LOADING);this.getContainer().addClass(b.CLASS_LOADING);this.getInstance()&&this.getInstance().disable()},hideMask:function(){d(this).removeClass(b.CLASS_LOADING);this.getToolbar().removeClass(b.CLASS_LOADING);this.getContainer().removeClass(b.CLASS_LOADING);this.getInstance()&&this.getInstance().enable()},getToolbar:function(){return this.getToolbarContainer().find(".wiki-edit-toolbar")},
getContainer:function(){return d(this.parentNode)},getToolbarContainer:function(){return d(this).parents(".wiki-edit-content").parent()},coverTextarea:function(){this.$textarea.attr("tabindex",-1).addClass(b.CLASS_COVER).on("focus.rteCover",function(a){a.preventDefault()})},uncoverTextarea:function(){this.$textarea.removeAttr("tabindex").removeClass(b.CLASS_COVER).off(".rteCover");this.$textarea.expandOnInput&&(this.$textarea.css({height:""}),this.$textarea.expandOnInput())},getRenderParams:function(){return d(this).data("renderParams")},
replaceSelection:function(a){f.renderMarkup(a,this.getRenderParams()).done(function(a){this.getInstance().replaceSelection(a)}.bind(this))},syncSelection:function(a){var c=a.selectionStart,d=a.selectionEnd,b=a.value.length,h=this.getInstance();p.defer(function(){d===b&&(0===c?h.selectAll():c===d&&(h.selectAll(),h.editor.selection.collapse(!1)));h.focus()})},setContent:function(a){return f.renderMarkup(a,this.getRenderParams()).done(function(a){this._setRawContent(a)}.bind(this))},_setRawContent:function(a,
c){this.getInstance().setContent(a,null,c)},getContent:function(){return this.$textarea.val()},focus:function(){this.getInstance().focus()},setMode:function(a){var c=new d.Deferred;a?(g.sendEvent("editor.instance.switch.source"),g.sendEvent("bundled.editor.instance.switch.source")):(g.sendEvent("editor.instance.switch.wysiwyg"),g.sendEvent("bundled.editor.instance.switch.wysiwyg"));if(a)this.uncoverTextarea(),this.getInstance()&&this.getInstance().hide(),setTimeout(function(){this.$textarea.setCaretToPosition(0);
this.$textarea.focus();c.resolve()}.bind(this),25),this.$textarea.attr("originalValue",this.$textarea.val());else{var b=this.$textarea.attr("originalValue")!==this.$textarea.val();this.showMask();this.coverTextarea();var e=b?f.renderMarkup(this.$textarea.val(),this.getRenderParams()):(new d.Deferred).resolve();e.always(function(){this.hideMask();this.getInstance().show();this.getInstance().focus();b?e.done(function(a){this.getInstance().setContent(a,null,!0);c.resolve()}.bind(this)).fail(function(){c.reject();
this.$textarea.removeAttr("originalValue")}.bind(this)):c.resolve()}.bind(this))}return c},changeHandler:function(a){f.renderMarkup(a,this.getRenderParams()).done(function(a){this.getInstance().setContent(a)}.bind(this))},getInstance:function(){return this.richEditorInstance},loadingStart:function(){if("undefined"!==typeof this.richEditorInstance||this.richEditorInstance_loading)return!1;this.undoManager=this.$textarea.data("undoManager");this.richEditorInstance_loading=!0;this.coverTextarea();this.showMask();
return!0},setInstance:function(a){this.richEditorInstance=a},loadingStop:function(){delete this.richEditorInstance_loading;this.richEditorInstance.disable()},shouldFocus:function(){return 0<this.$textarea.parents("#addcomment, #comment-add, .issue-body-content").length},serialize:function(){var a=new d.Deferred,c=this.getInstance().getContent();require("jira/editor/converter").convert(c).then(function(b){m.trace("jira.editor.plugin.converted");this.$textarea.attr("value",b).trigger("input");n.verify(c,
b,this.getRenderParams());a.resolve()}.bind(this));return a}},attached:function(a){a.FSM||(a.FSM=new k);document.body.contains(a)&&a.FSM.triggerEvent(k.Events.ATTACHED,a)},detached:function(a){!document.body.contains(a)&&a.FSM&&a.FSM.triggerEvent(k.Events.DETACHED,a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:customization', location = 'js/editor-customizer.js' */
define("jira/editor/customizer",["jira/util/logger"],function(d){var b=[];return{customizeSettings:function(a,c){if("function"!==typeof a)return d.error("callback has to be a function"),!1;"object"===typeof c&&(a=a.bind(c));b.push(a);return!0},getCustomizeSettingCallbacks:function(){return b.slice(0)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:init', location = 'js/rich-editor-init.js' */
require(["jira/featureflags/feature-manager","jira/editor/ui/rich-editor","jira/editor/controller"],function(a,c,b){a.isFeatureEnabled("jira.richeditor.deferred.loading")||b.initResources()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.dialog2', location = 'aui.chunk.afb0455b22fe08f3d5f6--3bb4a4578cbbea02f437.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.dialog2"],{"0+IH":function(t,e,i){"use strict";i.r(e),i.d(e,"dialog2",(function(){return p}));i("AehQ"),i("rWoL");var a=i("+x/D"),u=i("TmQU"),n=i("KloK"),o=i("jEnx"),c=i("6RZY"),l=i("+ay7"),s=i("Pjwx"),d={"aui-focus":"false","aui-blanketed":"true"};function f(t){var e;this._handlers=new WeakMap,this.$el=t?Object(a.default)(t):Object(a.default)('\n        <section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-medium">\n            <header class="aui-dialog2-header">\n                <h2 class="aui-dialog2-header-main"></h2>\n                '.concat(s.CLOSE_BUTTON,'\n                </button>\n            </header>\n            <div class="aui-dialog2-content"></div>\n            <footer class="aui-dialog2-footer"></footer>\n        </section>')),e=this.$el,a.default.each(d,(function(t,i){var a="data-"+t;e[0].hasAttribute(a)||e.attr(a,i)}))}f.prototype.on=function(t,e){const i=this.$el;if(!this._handlers.get(e)){const a=function(t){t.target===i.get(0)&&e.apply(this,arguments)};Object(o.default)(i).on(t,a),this._handlers.set(e,a)}return this},f.prototype.off=function(t,e){const i=this.$el,a=this._handlers.get(e);return a&&(Object(o.default)(i).off(t,a),this._handlers.delete(e)),this},f.prototype.show=function(){return Object(o.default)(this.$el).show(),this},f.prototype.hide=function(){return Object(o.default)(this.$el).hide(),this},f.prototype.remove=function(){return Object(o.default)(this.$el).remove(),this},f.prototype.isVisible=function(){return Object(o.default)(this.$el).isVisible()};var h=Object(c.default)("dialog2",f),r=new Set;h.on=function(t,e){return r.has(e)||(o.default.on(t,".aui-dialog2",e),r.add(e)),this},h.off=function(t,e){return r.has(e)&&(o.default.off(t,".aui-dialog2",e),r.delete(e)),this},Object(a.default)(document).on("click keydown",".aui-dialog2-header ".concat(s.CLOSE_BUTTON_CLASS_SELECTOR),(function(t){("click"===t.type||t.keyCode===l.default.ENTER||t.keyCode===l.default.SPACE)&&(t.preventDefault(),h(Object(a.default)(t.target).closest(".aui-dialog2")).hide())})),h.on("show",(function(t,e){e.find(s.CLOSE_BUTTON_CLASS_SELECTOR).attr("tabindex",0),e.attr("tabindex",-1);var i=e[0].hasAttribute("data-aui-focus-selector")&&e.attr("data-aui-focus-selector");if(i){var a=e.find(i);if(a.length>0)return a.first().focus()}e.focus()})),h.on("hide",(function(t,e){var i=Object(o.default)(e);e.data("aui-remove-on-hide")&&i.remove()})),Object(u.default)("aui/dialog2",h),Object(n.default)("dialog2",h);var p=h}},[["0+IH","runtime","aui.splitchunk.vendors--894c8113d9","aui.splitchunk.0d131bcbf1","aui.splitchunk.fbbef27525","aui.splitchunk.444efc83be","aui.splitchunk.739b9ec8cc","aui.splitchunk.dd803a46b4","aui.splitchunk.994e478d48","aui.splitchunk.d7c46c2734","aui.splitchunk.e54c7c7304","aui.splitchunk.fb15cffa72","aui.splitchunk.f1e06f97a4","aui.splitchunk.479fe6ee76","aui.splitchunk.f673ef53ac","aui.splitchunk.8659b532c1","aui.splitchunk.5f851f97df","aui.splitchunk.d0110a864f","aui.splitchunk.afa5039e04","aui.splitchunk.bff3715233","aui.splitchunk.c750721820","aui.splitchunk.6d6f245ed3","aui.splitchunk.5b8c290363","aui.splitchunk.3d2cb1af14"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-dialog-core-2', location = '/includes/jira/dialog/Dialog2.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/dialog/dialog2",["require"],function(t){"use strict";var e=t("jira/dialog/dialog-stack"),i=t("aui/dialog2"),n=t("jira/ajs/control"),o=t("jira/ajs/layer/inline-layer"),s=t("jira/util/data/meta"),r=t("jira/ajs/ajax/smart-ajax"),a=t("jira/loading/loading"),c=t("jira/xsrf"),d=t("jira/util/browser"),h=t("jira/util/events"),l=t("aui/dropdown"),p=t("jquery"),u=t("jira/jquery/deferred"),g=t("jira/jquery/plugins/isdirty"),f=t("underscore"),_=t("wrm/require"),v=t("jira/util/key-code"),m=AJS.dim,C=AJS.LayerManager.global,y=n.extend({_getDefaultOptions:function(){return{cached:!1,widthClass:"medium",ajaxOptions:{data:{inline:!0,decorator:"dialog"}}}},init:function(t){if("string"==typeof t||t instanceof p?t={trigger:t}:t&&t.width&&(t.widthClass="custom"),this.classNames=y.ClassNames,this.OPEN_DIALOG_SELECTOR=y.getSelector("DIALOG")+y.getSelector("DIALOG_OPEN"),this.options=p.extend(!0,this._getDefaultOptions(),t),this.options.width=y.WIDTH_PRESETS[this.options.widthClass]||t.width,this._setType(),this.options.trigger){var e=p.makeArray(this.options.trigger),i=this;p.each(e,function(t,e){i._assignEvents("trigger",e)})}this.onContentReadyCallbacks=[],this.defineResources(),this.options.prefetchResources&&this.downloadResources()},_setType:function(){"function"==typeof this.options.content?this.options.type="builder":this.options.content instanceof p||"object"===_typeof(this.options.content)&&this.options.nodeName?this.options.type="element":(!this.options.type&&!this.options.content||"object"===_typeof(this.options.content)&&this.options.content.url)&&(this.options.type="ajax")},_getDialogSelector:function(){return this.options.id||(this.options.id="new-dialog-id",this.get$popup().attr("id",this.options.id)),"#"+this.options.id},_runContentReadyCallbacks:function(){var t=this;p.each(this.onContentReadyCallbacks,function(){this.call(t)})},_setContent:function(t,i){var n;if("resolved"!==this.resourcesReady().state())return this._showloadingIndicator(),void this.resourcesReady().done(this._setContent.bind(this,t,i));if(t)if(e.current===this){if(this.$content=t,this.get$popupContent().html(t),!1!==i&&this.decorateContent&&this.decorateContent(),!this.get$popup().find(".aui-dialog2-footer").length){var o=this.get$popup().find(".buttons");this.moveFooterToDialog2(o)}(n=this.get$popupContent().find("."+this.classNames.HEADING_AREA)).size()>0&&this.get$popupHeading().replaceWith(n),(n=this.get$popupContent().find("."+this.classNames.CONTENT_AREA)).size()>0&&(n.contents().insertAfter(n),n.remove()),!1!==i&&(p(document).trigger("dialogContentReady",[this]),this._runContentReadyCallbacks()),!1!==i&&p.isFunction(this.options.onContentRefresh)&&this.options.onContentRefresh.call(this),this._onShowContent()}else!1===this.options.cached&&delete this.$content;else this._contentRetrievers[this.options.type].call(this,this._setContent)},moveFooterToDialog2:function(t){if(t&&t.length){this.get$popup().children("footer").eq(0).remove();var e=p('<footer class="aui-dialog2-footer"></footer>');e.append(t),this.get$popup().append(e);var i=this.get$popupContent().find("form"),n=t.find('[type="submit"]'),o=i.attr("id")||"dialog-form";i.attr("id",o),n.attr("form",o)}},_initAuiDialog2:function(){i(this._getDialogSelector()).show(),this._listenOnAuiBlanket(),this._listenOnEscape()},_listenOnAuiBlanket:function(){var t=this;p(".aui-blanket").on("click."+this._getNamespace(),function(e){e.stopImmediatePropagation(),t.handleCancel()})},_listenOnEscape:function(){var t=this;p("body").off("keydown."+this._getNamespace()),p("body").on("keydown."+this._getNamespace(),function(e){var i=C.getTopLayer();i&&(i[0]&&"AUI-INLINE-DIALOG"===i[0].nodeName||i.hasClass("wiki-edit-dropdown")||i.hasClass("wiki-edit-picker"))||e.keyCode===v.ESCAPE&&(e.stopPropagation(),t.handleCancel())})},_getNamespace:function(){return this._getDialogSelector().substring(1)},_ellipsify:function(t){t instanceof p||(t=this.get$popup()),p(".overflow-ellipsis",t).textOverflow({className:"ellipsified"})},_handleInitialDoneResponse:function(t,e,i){},getRequestUrlFromTrigger:function(){if(this.$activeTrigger&&this.$activeTrigger.length)return this.$activeTrigger.attr("href")||this.$activeTrigger.data("url")},_getRequestOptions:function(){var t={};return!1!==this._getAjaxOptionsObject()&&(t=p.extend(!0,t,this._getAjaxOptionsObject()),t.url||(t.url=this.getRequestUrlFromTrigger()),t)},_getAjaxOptionsObject:function(){var t=this.options.ajaxOptions;return p.isFunction(t)?t.call(this):t},_contentRetrievers:{element:function(t){this.$content||(this.$content=p(this.options.content).clone(!0)),t.call(this,this.$content)},builder:function(t){var e=this;this.$content||(this._showloadingIndicator(),this.options.content.call(this,function(i){e.$content=p(i),t.call(e,e.$content)},function(){e._hideloadingIndicator()}))},ajax:function(t){var e,i=this;this.$content||(e=this._getRequestOptions(),this._showloadingIndicator(),this.serverIsDone=!1,e.complete=function(n,o,s){if(s.successful){var a=i._detectRedirectInstructions(n);i.serverIsDone=a.serverIsDone,a.redirectUrl?i._performRedirect(a.redirectUrl):(e.dataType&&"json"===e.dataType.toLowerCase()&&i._buildContentFromJSON?i.$content=i._buildContentFromJSON(s.data):i.$content=s.data,i.serverIsDone||t.call(i,i.$content))}else{var c=r.buildDialogErrorContent(s);t.call(i,c)}},r.makeRequest(e))}},_detectRedirectInstructions:function(t){var e={serverIsDone:!1,redirectUrl:""},i=t.getResponseHeader("X-Atlassian-Dialog-Control");if(i){e.serverIsDone=!0;0===i.indexOf("redirect:")?e.redirectUrl=i.substr("redirect:".length):"permissionviolation"===i&&(e.redirectUrl=window.location.href)}return e},_performRedirect:function(t){d.reloadViaWindowLocation(t)},_renders:{popupHeading:function(){return p("<header />").addClass(this.classNames.HEADING_AREA)},popupContent:function(){return p("<div />").addClass(this.classNames.CONTENT_AREA)},popup:function(){var t=p("<section />").attr("id",this.options.id||"").addClass(this.classNames.DIALOG).attr("role","dialog").attr("aria-labelledby","jira-dialog2__heading").hide();return this._setDialogSize(t),t}},_events:{trigger:{simpleClick:function(t,e){this.$activeTrigger=e,this.$activeTrigger.is("a")||(this.$activeTrigger=e.find("a")),this.show(),t.preventDefault()}}},handleCancel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.HIDE_REASON.escape;return this.hide(!0,{reason:t})},_showloadingIndicator:function(){a.showLoadingIndicator()},_hideloadingIndicator:function(){a.hideLoadingIndicator()},_setDialogSize:function(t){var e=this._getDialogSizeClass(this.options.width);t&&!t.hasClass(e)&&t.addClass(e)},_getDialogSizeClass:function(t){switch(!0){case t<=400:return"aui-dialog2-small";case t<=600:return"aui-dialog2-medium";default:return"aui-dialog2-large"}},getContentArea:function(){return this.$popup.find(".form-body")},getContentContainer:function(){var t=this.$popup.find(".content-area-container");return 1===t.length?t:this.$popup.find(".form-body")},get$popup:function(){return this.$popup||(this.$popup=this._render("popup").appendTo("body")),this.$popup},bindAnchorsToDialog:function(t){var e=this;t.click(function(t){e.$activeTrigger=p(this),delete e.$content,e._setContent(),t.preventDefault()})},get$popupContent:function(){return this.$popupContent||(this.$popupContent=this._render("popupContent").appendTo(this.get$popup())),this.$popupContent},get$popupHeading:function(){return this.$popupHeading||(this.$popupHeading=this._render("popupHeading").prependTo(this.get$popup())),this.$popupHeading},getLoadingIndicator:function(){return this.get$popup().find(".throbber:last")},showFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();t.length&&(t.data("spinner")?t.hasClass("loading")||t.addClass("loading"):t.addClass("loading").spin())},hideFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();t.length&&(t.removeClass("loading"),f.defer(function(){t.hasClass("loading")||t.spinStop()}))},_show:function(t){o.current&&o.current.hide(),l.current&&l.current.hide();var n=e.current;if(n){var s;if(n.options.stacked)s=n,s.stacked=!0,this.prev=s;else for(e.stackroot=this,s=n._removeStackState(),n.hide(!1);s;)n=s,s=n._removeStackState(),n._destroyIfNecessary()}else!0!==this.stacked&&(e.stackroot=this,e.originalWindowTitle=document.title);!0!==this.stacked&&m(!1),e.current=this;var r=this.get$popup().addClass(this.classNames.DIALOG_OPEN);t||"blank"!==this.options.type&&!this.$content&&!0!==this.stacked?(delete this.$content,this._setContent()):(r.show(),this._onShowContent(),i(this._getDialogSelector()).show()),this._assignEvents("container",document),p(this).trigger("Dialog.show",[this.$popup,this,this.id]),h.trigger("Dialog.show",[this.$popup,this,this.id]),this.stacked=!1},show:function(t){var i=this.options.delayShowUntil,n=this;if(e.current===this)return!1;var o=new p.Event("beforeShow"),s=new p.Event("beforeShow");if(p(this).trigger(o),h.trigger(s,[this.options.id]),o.isDefaultPrevented()||s.isDefaultPrevented())return!1;if(this.downloadResources(),i){var r=i();"resolved"===r.state()?n._show(t):(m(!1),this._showloadingIndicator(),r.done(function(){n._show(t)}))}else n._show(t)},_setWindowTitle:function(){var t,e,i=this.options.windowTitle,n=this.get$popup();if(!1!==i&&("string"==typeof i?t=i:"function"==typeof i?t=i.call(this):(e=n.find("."+this.classNames.HEADING_AREA),e.length&&(t=e.text())),t)){var o=s.get("app-title"),r=[t];o&&r.push(o),document.title=r.join(" - ")}},_onShowContent:function(){this._initAuiDialog2(),this._setWindowTitle(),this._hideloadingIndicator(),this._ellipsify(),this.get$popup().addClass(this.classNames.CONTENT_READY)},_resetWindowTitle:function(){!0!==this.stacked&&e.stackroot===this&&e.originalWindowTitle&&(document.title!==e.originalWindowTitle&&(document.title=e.originalWindowTitle),e.originalWindowTitle=void 0)},notifyOfNewContent:function(){this.$content&&(this.decorateContent(),this._setDialogSize(this.get$popup()),this._onShowContent(),p(document).trigger("dialogContentReady",[this]))},destroy:function(){this.$popup&&this.$popup.remove(),delete this.$popup,delete this.$popupContent,delete this.$popupHeading,delete this.$content},_destroyIfNecessary:function(){!this.options.cached&&this.destroy()},_removeStackState:function(){var t=this.prev;return delete this.prev,delete this.stacked,t},isCurrent:function(){return e.current===this},hide:function(t,n){if(e.current===this){var o=new p.Event("Dialog.beforeHide"),s=new p.Event("Dialog.beforeHide");if(n=n||{},h.trigger(o,[this.$popup,n.reason,this.options.id]),p(this).trigger(s,[this.$popup,n.reason,this.options.id]),o.isDefaultPrevented()||s.isDefaultPrevented())return!1;p(".aui-blanket").off("click."+this._getNamespace()),p("body").off("keydown."+this._getNamespace());var r=p("input[name=atl_token]",this.OPEN_DIALOG_SELECTOR).attr("value");void 0!==r&&c.updateTokenOnPage(r),i(this._getDialogSelector()).hide(),this.get$popup().removeClass(this.classNames.DIALOG_OPEN).removeClass(this.classNames.CONTENT_READY).hide(),this._hideloadingIndicator(),this._resetWindowTitle(),this._unassignEvents("container",document),p(document).trigger("hideAllLayers",[this.$popup,n.reason,this.options.id]),p(this).trigger("Dialog.hide",[this.$popup,n.reason,this.options.id]),h.trigger("Dialog.hide",[this.$popup,n.reason,this.options.id]),e.current=null,!1===this.options.cached&&!0!==this.stacked&&this.destroy(),!0!==this.stacked&&(this.prev?(this.prev.show(!!this.prev.options.reloadOnPop),this.prev._listenOnAuiBlanket(),delete this.prev):e.stackroot===this&&(e.stackroot=void 0))}},addHeading:function(t){var e=p("<div/>").html(t).contents(),i=p("<h2/>").attr("id","jira-dialog2__heading"),n=[i];e.each(function(){"div"===this.nodeName.toLowerCase()?n.push(this):i.append(this)}),this.get$popupHeading().html(n),i.attr("title",p.trim(i.text()))},onContentReady:function(t){p.isFunction(t)&&this.onContentReadyCallbacks.push(t)},defineResources:function(){f.isFunction(this.options.defineResources)&&this.options.defineResources.call(this)},requireContext:function(t){this.requireResource(t,"wrc!")},requireResource:function(t,e){this.wrmResources=this.wrmResources||[],this.wrmResources.push((e||"wr!")+t)},getRequiredResources:function(){return this.wrmResources||[]},downloadResources:function(){this.getRequiredResources().length>0&&!this.deferredResources&&(this.deferredResources=_(this.getRequiredResources()))},resourcesReady:function(){return this.deferredResources?this.deferredResources.promise():(new u).resolve().promise()}});return y.fn.dirtyFormWarning=function(){return this.bind("Dialog.beforeHide",function(t,e,i){if(!t.isDefaultPrevented()&&(i===y.HIDE_REASON.cancel||i===y.HIDE_REASON.escape)){var n=g.getDirtyWarning();n&&!confirm(n)&&t.preventDefault()}})},y.ClassNames={DIALOG:"aui-dialog2 aui-layer jira-dialog2 jira-dialog-core",HEADING_AREA:"aui-dialog2-header jira-dialog-core-heading",CONTENT_AREA:"aui-dialog2-content jira-dialog-core-content",DIALOG_OPEN:"jira-dialog-open",CONTENT_READY:"jira-dialog-content-ready"},y.getSelector=function(t){var e=(y.ClassNames[t]||"").split(" ")[0];return e?"."+e:""},y.WIDTH_PRESETS={small:360,medium:540,large:810},y.HIDE_REASON={cancel:"cancel",escape:"esc",submit:"submit"},Object.defineProperty(y,"current",{get:function(){return console.warn(e.currentDeprecationMsg),e.current},set:function(t){console.warn(e.currentDeprecationMsg),e.current=t}}),y});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-dialog-core-2', location = '/includes/jira/dialog/FormDialog2.js' */
define("jira/dialog/form-dialog2",["jira/util/formatter","jira/dialog/dialog2","jira/flag","jira/message","jira/ajs/ajax/smart-ajax","jira/focus/set-focus","jira/util/browser","jira/util/events","jquery","jira/libs/parse-uri"],function(t,e,s,i,n,o,r,a,u,l){"use strict";return e.extend({defineResources:function(){this._super.apply(this,arguments),this.isIssueDialog()&&this.requireContext("jira.edit.issue")},_getDefaultOptions:function(){return u.extend(this._super(),{autoClose:!1,targetUrl:"",refreshOnSubmit:!0,onUnSuccessfulSubmit:function(){},onSuccessfulSubmit:function(){},onDialogFinished:function(){var t=this._getTargetUrlValue();this.hide(),t?(a.trigger("page-unload.location-change.from-dialog",[this.$popup]),window.location.href=t):this.options.refreshOnSubmit&&(a.trigger("page-unload.refresh.from-dialog",[this.$popup]),r.reloadViaWindowLocation())},submitAjaxOptions:{type:"post",data:{inline:!0,decorator:"dialog"},dataType:"html"},isIssueDialog:!1})},_getFormDataAsObject:function(){var t={};return u(this.$form.serializeArray()).each(function(){var e=t[this.name];e?u.isArray(e)?e.push(this.value):e=[e,this.value]:e=this.value,t[this.name]=e}),t},_getRelativePath:function(){var t=this._getRequestOptions();return l(t.url).directory},_getPath:function(t){var e=this._getRelativePath();return 0===t.indexOf(e)?t:e+t},_submitForm:function(t){this.cancelled=!1,this.xhr=null,this.redirected=!1,this.serverIsDone=!1;var e=this,s=u.extend(!0,{},this.options.submitAjaxOptions),i=u.extend(!0,s,{url:this._getPath(this.$form.attr("action")),data:this._getFormDataAsObject(),complete:function(t,s,i){e.hideFooterLoadingIndicator(),e.cancelled||(e._showMessagesFromXhrResponse(t),i.successful?(e.$form.trigger("fakesubmit"),e._handleServerSuccess(i.data,t,s,i),e.redirected||e._handleSubmitResponse(i.data,t,i)):e._handleServerError(t,s,i.errorThrown,i)),e.$form.removeClass("submitting")}});i.data.decorator="dialog",i.data.inline=!0,this.showFooterLoadingIndicator(),this.xhr=n.makeRequest(i),t.preventDefault()},_showMessagesFromXhrResponse:function(t){var e=t.getResponseHeader("X-Atlassian-Messages");if(e){var i=JSON.parse(e);s.showMessages(i)}},_handleServerError:function(t,e,s,i){this.options.onUnSuccessfulSubmit&&this.options.onUnSuccessfulSubmit.call(t,e,s,i);var o=n.buildDialogErrorContent(i,!0),r=this.get$popupContent().find(".form-body");1!==r.length&&(r=this.get$popupContent()),1!==r.length||i.hasData?this.setSubmitResponseContent(o):r.prepend(o)},setSubmitResponseContent:function(t){this.options.formatSubmitResponseContent&&(t=this.options.formatSubmitResponseContent.call(this,t)),this._setContent(t)},isIssueDialog:function(){return!!this.options.isIssueDialog},_handleServerSuccess:function(t,e,s,n){var o=this._detectMsgInstructions(e),r=this._detectRedirectInstructions(e);this.serverIsDone=r.serverIsDone,o&&(r.redirectUrl||this._getTargetUrlValue()||this.options.refreshOnSubmit?i.showMsgOnReload(o.msg,{type:o.type,closeable:o.closeable,target:o.target}):i.showMsg(o.msg,{type:o.type.toLowerCase(),closeable:o.closeable,target:o.target})),r.redirectUrl?(this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,s,n),this._performRedirect(r.redirectUrl)):this.serverIsDone||this.setSubmitResponseContent(t)},_detectMsgInstructions:function(t){var e={msg:t.getResponseHeader("X-Atlassian-Dialog-Msg-Html")};if(e.msg)return e.type=t.getResponseHeader("X-Atlassian-Dialog-Msg-Type").toUpperCase(),e.closeable="true"===t.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable"),e.target=t.getResponseHeader("X-Atlassian-Dialog-Msg-Target"),e},_handleInitialDoneResponse:function(t,e,s){this._handleSubmitResponse(t,e,s)},_handleSubmitResponse:function(t,e,s){this.serverIsDone&&(this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,s),this.options.autoClose&&this.hide(),this.options.onDialogFinished&&this.options.onDialogFinished.call(this,t,e,s))},_performRedirect:function(t){this.options.stayVisibleOnRedirect||this.hide(),this.redirected=!0,this._super(t)},_hasTargetUrl:function(){return this._getTargetUrlHolder().length>0},_getTargetUrlHolder:function(){return u(this.options.targetUrl)},_getTargetUrlValue:function(){return this._getTargetUrlHolder().val()},decorateContent:function(){var s,i,n,o,r,a=this;this.$form=u("form",this.get$popupContent()),this._constructHeading(),this.$form.submit(function(t){var e=new u.Event("before-submit");if(a.$form.trigger(e,[t,a]),e.isDefaultPrevented())t.preventDefault();else{a.$form.addClass("submitting");u(":submit",a).attr("disabled","disabled"),a.options.submitHandler?(a.showFooterLoadingIndicator(),a.options.submitHandler.call(a,t,function(){a.isCurrent()&&(a.hideFooterLoadingIndicator(),a.$form.removeClass("submitting"))})):a._submitForm(t)}}),i=u(".cancel",this.get$popupContent()),i.click(function(t){a.xhr&&a.xhr.abort(),a.xhr=null,a.cancelled=!0,a.hide(!0,{reason:e.HIDE_REASON.cancel}),t.preventDefault()}),s=this.get$popupContent().find(".button, .aui-button"),n=this.get$popupContent().find("div.buttons"),0===i.length&&0===s.length&&(0===n.length&&(o=u('<div class="buttons-container form-footer"><div class="buttons"/></div>').appendTo(this.get$popupContent()),n=o.find(".buttons")),AJS.populateParameters(),r=u("<button class='aui-button aui-button-link cancel' id='aui-dialog-close'>"+"Close"+"</button>"),n.append(r),r=u(".cancel",this.get$popupContent()),r.click(function(t){a.hide(!0,{reason:e.HIDE_REASON.cancel}),t.preventDefault()})),n.prepend(u("<span class='throbber'/>")),this.get$popupContent().on("click",".shortcut-tip-trigger",function(e){e.preventDefault(),a.get$popupContent().isDirty()&&!confirm("You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.")||(a.hide(),u("#keyshortscuthelp").click())}),o instanceof u||(o=n.closest(".buttons-container, .form-footer"),o.size()||(o=n)),this.moveFooterToDialog2(o),this.$buttonContainer=o},getButtonsContainer:function(){return this.$buttonContainer},_constructHeading:function(){var t,e;if(t=u(":header:first",this.get$popupContent()),t.length>0)for(this.addHeading(t.contents()),e=t.parent(),t.remove();e.is(":empty");)t=e.parent(),e.remove(),e=t},hide:function(t,e){if(!1===this._super(t,e))return!1;o.popConfiguration()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-issue-data', location = 'js/form/model/create-issue-data.js' */
define("quick-edit/form/model/create-issue-data",["wrm/data"],function(a){return a.claim("com.atlassian.jira.jira-quick-edit-plugin:create-issue-data.data")||{configurableSystemFieldIds:[]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/quickform.soy' */
// This file was automatically generated from quickform.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.QuickForm.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.QuickForm == 'undefined') { JIRA.Templates.QuickForm = {}; }


JIRA.Templates.QuickForm.field = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(opt_data.editHtml);
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.field.soyTemplateName = 'JIRA.Templates.QuickForm.field';
}


JIRA.Templates.QuickForm.configurablePickerButton = function(opt_data, opt_ignored) {
  return '<li><label data-field-id="' + soy.$$escapeHtml(opt_data.fieldId) + '" class="qf-picker-button' + ((opt_data.isActive) ? ' qf-active' : '') + '"><input type="checkbox"' + ((opt_data.isActive) ? ' checked' : '') + ((opt_data.required) ? ' required' : '') + ((opt_data.disabled) ? ' disabled' : '') + '/>' + soy.$$escapeHtml(opt_data.label) + '</label></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.configurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.configurablePickerButton';
}


JIRA.Templates.QuickForm.unconfigurablePickerButton = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.QuickForm.configurablePickerButton({isActive: opt_data.isActive, fieldId: opt_data.fieldId, label: opt_data.label, required: opt_data.required, disabled: true});
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.unconfigurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.unconfigurablePickerButton';
}


JIRA.Templates.QuickForm.errorMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.error({closeable: 'true', content: opt_data.message});
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.errorMessage.soyTemplateName = 'JIRA.Templates.QuickForm.errorMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.editIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Edit Issue') + '</h2><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueError.soyTemplateName = 'JIRA.Templates.Issue.editIssueError';
}


JIRA.Templates.Issue.editIssueForm = function(opt_data, opt_ignored) {
  return '<div><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$filterNoAutoescape(opt_data.title) + '</h2><form action="#" name="jiraform" class="aui"><div class="form-body"><p class="qf-required-fields-message">' + soy.$$escapeHtml('All fields marked with an asterisk (*) are required') + '</p><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.issueId) + '" /><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + ((opt_data.commentField) ? soy.$$filterNoAutoescape(opt_data.commentField.editHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="' + soy.$$escapeHtml('s') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.modifierKey)) + '" class="button aui-button aui-button-primary" id="edit-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml('Update') + '" /><button type="button" accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueForm.soyTemplateName = 'JIRA.Templates.Issue.editIssueForm';
}


JIRA.Templates.Issue.fieldConfigurationToolbar = function(opt_data, opt_ignored) {
  return '' + aui.toolbar2.toolbar2({extraClasses: 'qf-form-operations', content: '' + aui.toolbar2.item({item: 'secondary', content: aui.buttons.button({text: ' ' + soy.$$escapeHtml('Configure Fields'), id: 'qf-field-picker-trigger', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-configure', extraAttributes: 'data-aui-trigger aria-controls="qf-fieldpicker-inline" data-test-id="create-issue-dialog.config.fields"'}) + '<aui-inline-dialog id="qf-fieldpicker-inline" alignment="bottom center"><div class="qf-picker"><div class="qf-picker-header"><form class="aui"><label for="configure-fields">' + soy.$$escapeHtml('Show') + '</label><select class="select" id="configure-fields"><option class="qf-unconfigurable" data-test-id="create-issue-dialog.config.fields.show-all">' + soy.$$escapeHtml('All Fields') + '</option><option class="qf-configurable" data-test-id="create-issue-dialog.config.fields.show-custom">' + soy.$$escapeHtml('Custom Fields') + '</option></select></form></div><div class="qf-picker-content"></div><div class="qf-picker-footer"></div></div></aui-inline-dialog>'})});
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.fieldConfigurationToolbar.soyTemplateName = 'JIRA.Templates.Issue.fieldConfigurationToolbar';
}


JIRA.Templates.Issue.issueFields = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.hasTabs) {
    output += '<div class="aui-tabs horizontal-tabs" id="horizontal"><ul class="tabs-menu">';
    var tabList72 = opt_data.tabs;
    var tabListLen72 = tabList72.length;
    for (var tabIndex72 = 0; tabIndex72 < tabListLen72; tabIndex72++) {
      var tabData72 = tabList72[tabIndex72];
      output += (tabData72) ? '<li class="menu-item ' + ((tabData72.isFirst) ? 'first active-tab' : '') + '"><a href="#tab-' + soy.$$escapeHtml(tabData72.position) + '"><strong>' + soy.$$escapeHtml(tabData72.label) + '</strong></a></li>' : '';
    }
    output += '</ul>';
    var tabList86 = opt_data.tabs;
    var tabListLen86 = tabList86.length;
    for (var tabIndex86 = 0; tabIndex86 < tabListLen86; tabIndex86++) {
      var tabData86 = tabList86[tabIndex86];
      if (tabData86) {
        output += '<div class="tabs-pane ' + ((tabData86.isFirst) ? 'active-pane' : '') + '" id="tab-' + soy.$$escapeHtml(tabData86.position) + '">';
        var fieldList96 = tabData86.fields;
        var fieldListLen96 = fieldList96.length;
        for (var fieldIndex96 = 0; fieldIndex96 < fieldListLen96; fieldIndex96++) {
          var fieldData96 = fieldList96[fieldIndex96];
          output += (fieldData96.editHtml) ? soy.$$filterNoAutoescape(fieldData96.editHtml) : '';
        }
        output += '</div>';
      }
    }
    output += '</div>';
  } else {
    var fieldList106 = opt_data.fields;
    var fieldListLen106 = fieldList106.length;
    for (var fieldIndex106 = 0; fieldIndex106 < fieldListLen106; fieldIndex106++) {
      var fieldData106 = fieldList106[fieldIndex106];
      output += (fieldData106.editHtml) ? soy.$$filterNoAutoescape(fieldData106.editHtml) : '';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.issueFields.soyTemplateName = 'JIRA.Templates.Issue.issueFields';
}


JIRA.Templates.Issue.createIssueForm = function(opt_data, opt_ignored) {
  var output = '<div><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$escapeHtml(opt_data.title) + '</h2><form name="jiraform" action="#" class="aui"><div class="form-body"><p class="qf-required-fields-message">' + soy.$$escapeHtml('All fields marked with an asterisk (*) are required') + '</p>';
  if (opt_data.issueSetupFields) {
    output += '<div class="issue-setup-fields">';
    var fieldList124 = opt_data.issueSetupFields;
    var fieldListLen124 = fieldList124.length;
    for (var fieldIndex124 = 0; fieldIndex124 < fieldListLen124; fieldIndex124++) {
      var fieldData124 = fieldList124[fieldIndex124];
      output += '<div class="qf-field qf-field-' + soy.$$escapeHtml(fieldData124.id) + ' qf-required" data-field-id="' + soy.$$escapeHtml(fieldData124.id) + '">' + soy.$$filterNoAutoescape(fieldData124.editHtml) + '</div>';
    }
    output += '</div>';
  }
  output += ((opt_data.parentIssueId) ? '<input type="hidden" name="parentIssueId" value="' + soy.$$escapeHtml(opt_data.parentIssueId) + '" />' : '') + '<input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons">' + ((! opt_data.disallowCreateAnother) ? '<label for="qf-create-another" class="qf-create-another"><input id="qf-create-another" type="checkbox" ' + ((opt_data.multipleMode) ? 'checked="checked"' : '') + ' />' + soy.$$escapeHtml('Create another') + '</label>' : '') + '<input accesskey="' + soy.$$escapeHtml('s') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to submit this form','s',opt_data.modifierKey)) + '" class="aui-button aui-button-primary" id="create-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml('Create') + '" /><button type="button" accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('Press {1}+{0} to cancel','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('Cancel') + '</button></div></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueForm.soyTemplateName = 'JIRA.Templates.Issue.createIssueForm';
}


JIRA.Templates.Issue.checkBoxField = function(opt_data, opt_ignored) {
  return '<fieldset class="group"><legend><span></span></legend><div class="checkbox"><input class="checkbox" type="checkbox" name="' + soy.$$escapeHtml(opt_data.name) + '" id="' + soy.$$escapeHtml(opt_data.name) + '" value="true" ' + ((opt_data.checked) ? 'checked' : '') + '><label for="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.label) + '</label></div></fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.checkBoxField.soyTemplateName = 'JIRA.Templates.Issue.checkBoxField';
}


JIRA.Templates.Issue.createIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Create Issue') + '</h2><div class="form-footer">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueError.soyTemplateName = 'JIRA.Templates.Issue.createIssueError';
}


JIRA.Templates.Issue.undealtErrors = function(opt_data, opt_ignored) {
  var output = '<div>' + soy.$$escapeHtml('There were some errors when trying to create this issue') + '</div><ul>';
  var errorList197 = opt_data.errors;
  var errorListLen197 = errorList197.length;
  for (var errorIndex197 = 0; errorIndex197 < errorListLen197; errorIndex197++) {
    var errorData197 = errorList197[errorIndex197];
    output += '<li>' + soy.$$escapeHtml(errorData197) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.undealtErrors.soyTemplateName = 'JIRA.Templates.Issue.undealtErrors';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/form.js' */
define("quick-edit/templates/form",function(){return JIRA.Templates.QuickForm});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/issue.js' */
define("quick-edit/templates/issue",function(){return JIRA.Templates.Issue});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/extension-mixin.js' */
define("quick-edit/util/extension-mixin",["jquery"],function(a){return{triggerEvent:function(b,c,d){a(this).trigger(b,c);d&&this.globalEventNamespaces&&a.each(this.globalEventNamespaces,function(d,e){a(document).trigger(e+"."+b,c)});return this}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/class.js' */
define("quick-edit/util/class",["quick-edit/util/extension-mixin","jira/lib/class"],function(a,b){return b.extend(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/control.js' */
define("quick-edit/util/control",["quick-edit/util/extension-mixin","jira/ajs/control"],function(a,b){return b.extend(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/dialog.js' */
define("quick-edit/util/dialog",["jira/dialog/dialog-stack","jira/issue","jira/issuenavigator/issue-navigator"],function(h,f,c){var d=JIRA.Issues,e=function(a){var b=h.current.$activeTrigger;if(b)return b.attr(a)},g=function(){var a=e("data-issueKey");!a&&f.getIssueKey()&&(a=f.getIssueKey());!a&&c.getSelectedIssueKey()&&(a=c.getSelectedIssueKey());!a&&d&&(a=d.Api.getSelectedIssueKey());return a};return{getActionIssueKey:g,getAttrFromActiveTrigger:e,getIssueActionTitle:function(a){var b=g();return b?
a+" : "+b:a},shouldShowIssueKeyInTitle:function(){return d||c.isNavigator()||e("data-issueKey")}}});AJS.namespace("JIRA.Dialog.getActionIssueKey",null,require("quick-edit/util/dialog").getActionIssueKey);AJS.namespace("JIRA.Dialog.getAttrFromActiveTrigger",null,require("quick-edit/util/dialog").getAttrFromActiveTrigger);AJS.namespace("JIRA.Dialog.getIssueActionTitle",null,require("quick-edit/util/dialog").getIssueActionTitle);AJS.namespace("JIRA.Dialog.shouldShowIssueKeyInTitle",null,require("quick-edit/util/dialog").shouldShowIssueKeyInTitle);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/jira.js' */
define("quick-edit/util/jira",["quick-edit/templates/issue","jira/util/data/meta","aui/message","jquery"],function(m,n,p,g){var k=function(a){var b=a.closest(".tabs-pane");b.length&&(a=b.closest(".aui-tabs"),b=b.attr("id"),a=a.find("a[href\x3d'#"+b+"']"),a.click())},q=function(a,b){return e("error",a,b,!1)},e=function(a,b,f,h){var c=b.find(".aui-message-context");c.length||(c=g("\x3cdiv class\x3d'aui-message-context' /\x3e"),b.find(".qf-required-fields-message")?c.insertAfter(b.find(".qf-required-fields-message")):
c.prependTo(b.find(".form-body")));c.empty();p[a](c,{shadowed:!1,closeable:h,body:f})},l=function(a,b,f){b=a.find(b);return 0<b.length?b.removeAttr(f):a},r=function(a){l(a,":input[aria-invalid\x3dtrue]","aria-describedby");l(a,":input[aria-invalid\x3dtrue]","aria-invalid")};return{activateTabWithChild:k,applyErrorMessageToForm:function(a,b){return e("error",a,AJS.escapeHtml(b),!1)},applyErrorsToForm:function(a,b){var f,h=[];r(a);if(Object.keys(b).length){var c=1===Object.keys(b).length?"There is 1 error in this form.":
AJS.format("There are {0} errors in this form.",Object.keys(b).length);c=g("\x3cdiv class\x3d'aui-message aui-message-error qf-message-error'/\x3e").append(c);var e=a.find(".aui-message-context");e.length?e.attr("role","status").append(c):(c=g("\x3cdiv class\x3d'aui-message-context'/\x3e").attr("role","status").append(c),a.find(".qf-required-fields-message").after(c))}g.each(b,function(b,c){var d=a.find(":input[name\x3d'"+b+"']").last();if(1===d.length){var e=d.attr("id")+"-description-error";
f||(f=d);b=g("\x3cdiv class\x3d'error' /\x3e").attr("data-field",b).attr("id",e).text(c);d.attr("data-clone-to")?(c=d.attr("data-clone-to"),c=a.find("#"+c),c.attr("aria-invalid",!0),c.attr("aria-describedby",e)):(d.attr("aria-invalid",!0),d.attr("aria-describedby",e));d=d.closest(".field-group, .group");d.find(".error").remove();d.append(b)}else 0===d.length&&h.push(c)});0<h.length&&q(a,m.undealtErrors({errors:h}));k(a.find(".error:first"));f&&f.focus()},applyMessageToForm:e,applySuccessMessageToForm:function(a,
b){return e("success",a,b,!0)},getModifierKey:function(){return n.get("keyboard-accesskey-modifier")},extractScripts:function(a){var b=new DOMParser;a=g(b.parseFromString(a,"text/html"));b=a.find("script").remove();return{html:a.find("body").children(),scripts:b}},makePropertyFunc:function(a){return g.isFunction(a)?a:function(){return a}}}});AJS.namespace("JIRA.activateTabWithChild",null,require("quick-edit/util/jira").activateTabWithChild);AJS.namespace("JIRA.applyErrorMessageToForm",null,require("quick-edit/util/jira").applyErrorMessageToForm);
AJS.namespace("JIRA.applyErrorsToForm",null,require("quick-edit/util/jira").applyErrorsToForm);AJS.namespace("JIRA.applyMessageToForm",null,require("quick-edit/util/jira").applyMessageToForm);AJS.namespace("JIRA.applySuccessMessageToForm",null,require("quick-edit/util/jira").applySuccessMessageToForm);AJS.namespace("JIRA.extractScripts",null,require("quick-edit/util/jira").extractScripts);AJS.namespace("JIRA.makePropertyFunc",null,require("quick-edit/util/jira").makePropertyFunc);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field/configurable.js' */
define("quick-edit/form/field/configurable","quick-edit/util/jira quick-edit/util/control quick-edit/templates/form jira/util/events jira/util/events/types jquery".split(" "),function(b,c,d,e,f,g){return c.extend({init:function(a){this.descriptor=a;this.$element=g("\x3cdiv id\x3d'qf-field-"+this.getId()+"'/\x3e")},focus:function(){this.$element.find(":input:first").focus()},highlight:function(){var a=this;this.$element.css("backgroundColor","#fff").animate({backgroundColor:"lightyellow"},function(){a.$element.animate({backgroundColor:"#fff"},
function(){a.$element.css("backgroundColor","")})})},getLabel:function(){return this.descriptor.label},getId:function(){return this.descriptor.id},activate:function(a){this.active=!0;this.$element.addClass("qf-field-active").show();this.$element.find("textarea").trigger("refreshInputHeight");a||(a=this.render(),this.$element.append(a.scripts),this.focus(),e.trigger(f.NEW_CONTENT_ADDED,[this.$element]),this.$element.scrollIntoView(),this.triggerEvent("activated"))},hasVisibilityFeature:function(){return!!this.descriptor.hasVisibilityFeature},
hasRetainFeature:function(){return!!this.descriptor.hasRetainFeature},isActive:function(){return this.active},disable:function(a){this.render();this.active=!1;this.$element.removeClass("qf-field-active").hide();a||this.triggerEvent("disabled")},render:function(){var a=d.field(this.descriptor);a=b.extractScripts(a);this.$element.html(a.html).addClass("qf-field").data("model",this);return{element:this.$element,scripts:a.scripts}}})});AJS.namespace("JIRA.Forms.ConfigurableField",null,require("quick-edit/form/field/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/model.js' */
define("quick-edit/form/model",["quick-edit/util/class","jira/util/data/meta","jira/util/objects","jira/ajs/ajax/smart-ajax","jquery"],function(h,k,f,g,c){return h.extend({init:function(a){this.userFieldsResource=a.userFieldsResource;this.fieldsResource=a.fieldsResource;this.retainedFields=[];this._hasRetainFeature=!1;this._hasVisibilityFeature=!0},getFieldsResource:function(){return this.fieldsResource},getAtlToken:function(){return this.atlToken},getFormToken:function(){return this.formToken},getActiveFieldIds:function(){return this.getUserFields()},
addFieldToRetainValue:function(a){if(this._hasRetainFeature)this.removeFieldToRetainValue(a),this.retainedFields.push(a);else throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},clearRetainedFields:function(){this.retainedFields=[]},removeFieldToRetainValue:function(a){if(this._hasRetainFeature)a=c.inArray(a,this.retainedFields),-1!=a&&this.retainedFields.splice(a,1);else throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");
},getFieldsWithRetainedValues:function(){if(this._hasRetainFeature)return this.retainedFields;throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},hasRetainedValue:function(a){if(this._hasRetainFeature)return-1!==c.inArray(a.id,this.retainedFields);throw Error("HasRetainedValue: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},refresh:function(a){var b=this,d=c.Deferred(),
e;a&&(e=a+"\x26retainValues\x3dtrue");g.makeRequest({url:this.getFieldsResource(),type:"POST",data:e,success:function(a){b._update(a)},complete:function(a,c,e){e.successful?d.resolveWith(b,arguments):(b.triggerEvent("serverError",[e]),d.rejectWith(b,[e]))}});return d.promise()},_update:function(a){this.atlToken=a.atl_token;this.formToken=a.formToken;this.fields=this.removeAriaAttributes(a.fields);this.sortedTabs=a.sortedTabs;this.userPreferences=a.userPreferences},setFields:function(a){this.fields=
this.removeAriaAttributes(a)},getConfigurableFields:function(){return this.getFields()},getFields:function(){var a=this,b=c.Deferred();this.fields?b.resolve(a.fields):this.refresh().done(function(){b.resolve(a.fields)});return b.promise()},removeAriaAttributes:function(a){if(a){var b=document.createElement("div");c.each(a,function(a,e){!e.editHtml||e.editHtml&&-1===e.editHtml.indexOf("data-qe-no-aria-label")||(b.innerHTML=e.editHtml,(a=b.querySelectorAll('[data-qe-no-aria-label\x3d"true"],[data-qe-no-aria-labelled-by\x3d"true"]'))&&
0!==a.length&&(c.each(a,function(a,b){b.hasAttribute("aria-label")&&b.removeAttribute("aria-label");b.hasAttribute("aria-labelledby")&&!b.hasAttribute("data-aria-labelled-by")&&b.removeAttribute("aria-labelledby");b.hasAttribute("data-aria-labelled-by")&&b.removeAttribute("data-aria-labelled-by")}),e.editHtml=b.innerHTML))})}return a},_mungeTabs:function(a){var b=0,d=[];c.each(a,function(a,c){b++;c.tab&&(d[c.tab.position]||(d[c.tab.position]=f.copyObject(c.tab)),0===c.tab.position&&(d[c.tab.position].isFirst=
!0),d[c.tab.position].fields||(d[c.tab.position].fields=[]),d[c.tab.position].fields.push(f.copyObject(c)))});return d},getTabs:function(){var a=this,b=c.Deferred();this.getFields().done(function(c){c=a._mungeTabs(c);b.resolve(c)});return b.promise()},getSortedTabs:function(){var a=c.Deferred();this.sortedTabs?a.resolve(this.sortedTabs):this.refresh().done(function(){a.resolve(this.sortedTabs)});return a.promise()},getUserFields:function(){var a=this,b=c.Deferred();this.userPreferences?b.resolve(a.userPreferences.fields):
this.refresh().done(function(){b.resolve(a.userPreferences.fields)});return b.promise()},setUserFields:function(a){var b={};b.fields=a;return this.updateUserPrefs(b)},hasRetainFeature:function(){return!!this._hasRetainFeature},hasVisibilityFeature:function(){return!!this._hasVisibilityFeature},getUseConfigurableForm:function(){var a=this,b=c.Deferred();this.userPreferences?b.resolve(a.userPreferences.useQuickForm):this.refresh().done(function(){b.resolve(a.userPreferences.useQuickForm)}).fail(function(){b.reject()});
return b.promise()},setUseConfigurableForm:function(a){var b={};b.useQuickForm=a;return this.updateUserPrefs(b)},updateUserPrefs:function(a){var b=c.Deferred(),d=this;if(""===k.get("remote-user"))return b.done(),b.promise();if(!this.userPreferences)return b.reject(),b.promise();a.fields||(a.fields=this.userPreferences.fields);"undefined"===typeof a.showWelcomeScreen&&(a.showWelcomeScreen=this.userPreferences.showWelcomeScreen);"undefined"===typeof a.useQuickForm&&(a.useQuickForm=this.userPreferences.useQuickForm);
return g.makeRequest({url:this.userFieldsResource,type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json",complete:function(b,c,f){f.successful?d.userPreferences=a:d.triggerEvent("serverError",[f])}})}})});AJS.namespace("JIRA.Forms.Model",null,require("quick-edit/form/model"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/create-issue.js' */
define("quick-edit/form/model/create-issue",["quick-edit/form/model","wrm/context-path","underscore","jquery","quick-edit/form/model/create-issue-data"],function(g,f,e,b,h){const k=h.configurableSystemFieldIds;return g.extend({DEFAULT_NON_RETAINED_FIELDS:"summary description timetracking timetracking_originalestimate timetracking_remainingestimate worklog worklog_startDate worklog_timeLogged worklog_newEstimate worklog_adjustmentAmount attachment".split(" "),CUSTOMFIELD_PATTERN:/^(customfield_(\d+))(?:|:(?:\d+))$/,
TIMETRACKING_PATTERN:/^timetracking_/,init:function(a){a=a||{};this.userFieldsResource=f()+"/rest/quickedit/1.0/userpreferences/create";this._hasVisibilityFeature=this._hasRetainFeature=!0;this.retainedFields=[];this.dirtyFields=[];this.initIssueType=a.issueType;this.initProjectId=a.projectId;this.parentIssueId=a.parentIssueId;this.nonRetainedFields=this.DEFAULT_NON_RETAINED_FIELDS;a.nonRetainedFields&&(this.nonRetainedFields=e.union(a.nonRetainedFields,this.DEFAULT_NON_RETAINED_FIELDS))},getParentIssueId:function(){return this.parentIssueId},
isInMultipleMode:function(){return this.multipleMode},setIsMultipleMode:function(a){this.multipleMode=a},getActiveFieldIds:function(){var a=this,c=b.Deferred(),d=[];this.getUserFields().done(function(l){b.each(l,function(a,c){d.push(c)});a.getRequiredFields().done(function(a){b.each(a,function(a,c){-1===b.inArray(c.id,d)&&d.push(c.id)});c.resolve(d)})});return c.promise()},hasVisibilityFeature:function(a){return!a.required},getFieldsResource:function(){var a=f()+"/secure/QuickCreateIssue!default.jspa?decorator\x3dnone";
if(this.parentIssueId)return a+"\x26parentIssueId\x3d"+this.parentIssueId;this.initIssueType&&(a=a+"\x26issuetype\x3d"+this.initIssueType,delete this.initIssueType);this.initProjectId&&(a=a+"\x26pid\x3d"+this.initProjectId,delete this.initProjectId);return a},addFieldToRetainValue:function(a,c){var d=!e.contains(this.nonRetainedFields,a),b=null!==a.match(/^filetoconvert/);(d||b||c)&&this._super(a)},getRequiredFields:function(){var a=b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,
b){b.required&&c.push(b)});a.resolve(c)});return a.promise()},getConfigurableFields:function(){var a=b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,b){"project"!==b.id&&"issuetype"!==b.id&&c.push(b)});a.resolve(c)});return a.promise()},getIssueSetupFields:function(){var a=b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,b){"project"!==b.id&&"issuetype"!==b.id||c.push(b)});a.resolve(c)});return a.promise()},markFieldAsDirty:function(a){a=this.normalizeCustomFieldId(a);
this.fieldIsDirty(a)||this.dirtyFields.push(a)},fieldIsDirty:function(a){return e.contains(this.dirtyFields,a)},clearDirtyFields:function(a){a&&(this.dirtyFields=e.difference(this.dirtyFields,a))},removeNonRetainedFromDirtyFields:function(){this.clearDirtyFields(this.nonRetainedFields)},isCustomFieldId:function(a){return a&&!!a.match(this.CUSTOMFIELD_PATTERN)},isConfigurableFieldId:function(a){return this.isCustomFieldId(a)||k.includes(a)},isTimetrackingFieldId:function(a){return a&&!!a.match(this.TIMETRACKING_PATTERN)},
normalizeCustomFieldId:function(a){return this.isCustomFieldId(a)?a.match(this.CUSTOMFIELD_PATTERN)[1]:a},normalizeFieldParam:function(a,b){return"filetoconvert"==a?a+"-"+b:this.isCustomFieldId(a)?this.normalizeCustomFieldId(a):this.isTimetrackingFieldId(a)?"timetracking":a}})});AJS.namespace("JIRA.Forms.CreateIssueModel",null,require("quick-edit/form/model/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/edit-issue.js' */
define("quick-edit/form/model/edit-issue",["quick-edit/form/model","underscore","jquery"],function(e,f,b){return e.extend({getUnconfigurableTabs:function(){var a=b.Deferred();this.getTabs().done(function(c){var d=c.slice(0);d[0].fields=d[0].fields.slice(0);b.each(d[0].fields,function(a,b){if("comment"===b.id)return d[0].fields.splice(a,1),!1});a.resolve(d)});return a.promise()},getCommentField:function(){var a=b.Deferred();this.getFields().done(function(c){b.each(c,function(b,c){"comment"===c.id&&
a.resolve(c)});a.reject()});return a.promise()}})});AJS.namespace("JIRA.Forms.EditIssueModel",null,require("quick-edit/form/model/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/factory/edit-issue.js' */
define("quick-edit/form/model/factory/edit-issue",["quick-edit/form/model/edit-issue","wrm/context-path"],function(b,a){return function(c){return new b({fieldsResource:a()+"/secure/QuickEditIssue!default.jspa?issueId\x3d"+c+"\x26decorator\x3dnone",userFieldsResource:a()+"/rest/quickedit/1.0/userpreferences/edit"})}});AJS.namespace("JIRA.Forms.Model.createQuickEditIssueModel",null,require("quick-edit/form/model/factory/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/helper/helper.js' */
define("quick-edit/form/helper/helper","quick-edit/util/jira quick-edit/form/model quick-edit/util/class jira/jquery/plugins/isdirty jira/util/events jira/dialog/dialog-stack underscore jquery quick-edit/form/model/create-issue-data".split(" "),function(m,e,n,p,f,l,q,c,r){var t=AJS.escapeHTML;e=r.configurableSystemFieldIds;const u=0<e.length?","+e.map(a=>`#${a}`).join(","):"";return n.extend({init:function(a){this.form=a},handleSubmitSuccess:function(a){var b=this,c=this.form.$element.find("#summary").val();
a.summary=c;this.form.triggerEvent("submitted",[a,this]);this.form.triggerEvent("issueCreated",[a,this],!0);this.form.model.removeNonRetainedFromDirtyFields();b.form.model.isInMultipleMode()?this.form.render().done(function(){var d='\x3ca href\x3d"'+(contextPath+"/browse/"+a.issueKey)+'"\x3e'+a.issueKey+" - "+t(c)+"\x3c/a\x3e";d='\x3cp role\x3d"alert"\x3e'+AJS.format("Issue {0} has been successfully created",d)+"\x3c/p\x3e";m.applySuccessMessageToForm(b.form.getForm(),d)}):this.form.triggerEvent("sessionComplete")},
getCreateAnotherCheckbox:function(){return this.form.$element.find("#qf-create-another")},isInMultipleMode:function(){return this.getCreateAnotherCheckbox().is(":checked")},getProjectField:function(){return this.form.$element.find(".issue-setup-fields #project")},getIssueTypeField:function(){return this.form.$element.find(".issue-setup-fields #issuetype")},serializeForToggle:function(a){if(!this.form.model.hasRetainFeature())return this.form.getForm().serialize();var b=this.form.model.prevActiveFields||
[],e=this.form.getForm().serializeArray(),d=function(a){return this.form.model.normalizeFieldParam(a.name,a.value)}.bind(this),k=this.form.getActiveFieldIds(),h=c.grep(e,function(a){return-1!==c.inArray(d(a),k)}),f=c.grep(b,function(a){return-1===c.inArray(d(a),k)});b=c.map(f,function(a){return d(a)});h=c.merge(h,f);b=c.merge(k,b);this.form.model.prevActiveFields=c.extend(!0,[],h);a&&(b=this.executeProjectChangedSecuritySettingAction(b));b=b.filter(function(a){return!this.form.model.isConfigurableFieldId(a)||
this.form.model.fieldIsDirty(a)}.bind(this));var g=c.merge([{name:"retainValues",value:!0}],h);c.each(e,function(a,b){"pid"!==b.name&&"issuetype"!==b.name||g.push(b)});g.push({name:"toggle",value:!0});c.each(b,function(a,b){g.push({name:"fieldsToRetain",value:b})});g.push({name:"formToken",value:this.form.model.getFormToken()});return c.param(g)},executeProjectChangedSecuritySettingAction:function(a){return q.reject(a,function(a){return"security"===a})},prepareFieldsToRetain:function(a,b){c.each(a,
function(a,c){b.push({name:"fieldsToRetain",value:c})});return b},setIssueType:function(){var a=this,b=this.serializeForToggle();this.form.invalidateFieldsCache();this.form.disable();this.form.render(b).done(function(){a.form.enable();a.form.$element.find("#issuetype-field").focus()})},setProjectId:function(){var a=this,b=this.serializeForToggle(!0);this.form.invalidateFieldsCache();this.form.disable();this.form.render(b).done(function(){a.form.enable();a.form.$element.find("#project-field").focus()})},
saveFormDirtyStatus:function(){this.form.isDirty=this.form.getForm().isDirty()},restoreFormDirtyStatus:function(){this.form.isDirty&&this.form.getForm().addClass(p.ClassNames.BY_DEFAULT)},decorate:function(){var a=this;this.getProjectField().change(function(){a.saveFormDirtyStatus();f.trigger("dialogBeforeContentChange",["projectId",this.value,l.current.options.id]);a.setProjectId(this.value)});this.getIssueTypeField().change(function(){a.saveFormDirtyStatus();f.trigger("dialogBeforeContentChange",
["issueType",this.value,l.current.options.id]);a.setIssueType(this.value)});this.getCreateAnotherCheckbox().change(function(){a.form.model.setIsMultipleMode(this.checked)})},decorateFields:function(){var a=this;this.form.$element.find('*[id^\x3d"customfield_"]'+u).off("change.configurableField input.configurableField").on("change.configurableField input.configurableField",function(){a.form.model.isConfigurableFieldId(this.name)&&a.form.model.markFieldAsDirty(this.name)})},sendQuickEditAnalyticsEvent:function(a){if(!a||
!a.name)throw"Supply at least the event name";let b={};void 0!==a.allFieldsShown&&(b.allFieldsShown=a.allFieldsShown);AJS.trigger("analyticsEvent",{name:a.name,data:b})}})});AJS.namespace("JIRA.Forms.CreateIssueHelper",null,require("quick-edit/form/helper/helper"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/abstract.js' */
define("quick-edit/form/abstract","quick-edit/util/jira quick-edit/util/control jira/ajs/ajax/smart-ajax jira/dialog/form-dialog2 jira/dialog/dialog-stack jira/util/events/types jira/util/events jira/util/browser jquery underscore".split(" "),function(k,q,l,r,t,m,n,u,g,f){var v=AJS.extractBodyFromResponse,w=AJS.log,x=function(a,c){var b="***** Analytics log ["+a+"]";c&&(b+="["+JSON.stringify(c)+"]");w(b);AJS.EventQueue&&AJS.EventQueue.push({name:a,properties:c||{}})},y=function(a){var c={};a=f.filter(a,
function(a){return!f.contains(["isCreateIssue","isEditIssue","atl_token","hasWorkStarted"],a.name)});a=f.filter(a,function(a){return""!=a.value});f.each(a,function(a){var b=a.name;f.has(c,b)||(c[b]=[]);c[b].push(a.value)});return c},p=function(a){return a.classList.contains("aui-ss-field")||a.classList.contains("textarea")&&a.classList.contains("long-field")};return q.extend({submit:function(){var a=this;a.getForm().addClass("submitting");this.triggerEvent("submitting",[],!0);return l.makeRequest({url:this.getAction(),
type:"POST",beforeSend:function(){a.disableSubmit(a.getForm());setTimeout(()=>{a.disable()},0)},data:this.serialize(),complete:function(c,b,d){b=d.data;a.getForm().find(".aui-message-context").remove();a.enable();a.getForm().find(".error").remove();if(d.successful)if(a.performAnalytics(),b&&b.fields&&(a.invalidateFieldsCache(),a.model.setFields(b.fields)),"string"===typeof b){c=g(v(b));if(d=c.find("#atl_token").val())a.model.atlToken=d,a.getForm().find('input[name\x3d"atl_token"]').val(d);var e=new r({offsetTarget:"body",
content:c});e._handleServerSuccess=function(){e.prev&&(e.prev._removeStackState(),e.prev._resetWindowTitle(),e._removeStackState());e.hide();a.triggerEvent("sessionComplete",[],!0);a.handleSubmitSuccess()};e._handleServerError=function(b){e.hide();a.handleSubmitError(b)};e.show()}else a.handleSubmitSuccess(d.data);else a.handleSubmitError(c);a.getForm().removeClass("submitting")}})},disableSubmit:function(a){a[0]&&a[0].querySelectorAll('[type\x3d"submit"]').forEach(a=>a.disabled=!0)},disable:function(){var a=
this.getForm(),c=a.find(":input");c.each((a,d)=>{d.disabled=!0;p(d)&&c.eq(a).trigger("disable")});this.disableSubmit(a)},enable:function(){var a=this.getForm(),c=a.find(":input");c.each((a,d)=>{d.disabled=!1;p(d)&&c.eq(a).trigger("enable")});a[0]&&a[0].querySelectorAll('[type\x3d"submit"]').forEach(a=>a.disabled=!1)},getActiveFieldIds:function(){throw Error("getActiveFieldIds: Abstract, must be implemented by sub class");},serialize:function(a){var c=this,b=this.getForm().serialize();this.model.isInMultipleMode&&
this.model.isInMultipleMode()&&(b+="\x26multipleMode\x3dtrue");this.model.hasRetainFeature()&&(this.model.clearRetainedFields(),g.each(this.getActiveFieldIds(),function(b,e){c.model.addFieldToRetainValue(e,a)}),g.each(this.model.getFieldsWithRetainedValues(),function(a,c){b=b+"\x26fieldsToRetain\x3d"+c}));return b},invalidateFieldsCache:function(){delete this.fields},setInitialFocus:function(){this.getFormContent().find(":input:first").focus()},handleSubmitSuccess:function(){this.triggerEvent("submitted");
u.reloadViaWindowLocation()},performAnalytics:function(){this.previousAnalytics=function(a,c){var b=y(a),d=f.keys(b),e=f.keys(c.data);a=f.difference(d,e);var z=f.difference(e,d);e=f.intersection(e,d);d=f.filter(e,function(a){return f.isEqual(c.data[a],b[a])});e=f.difference(e,d);var g=c.count+1,h={"atlassian.numCreates":g,"edit.form":"edit-issue-dialog"===t.current.options.id};f.each(a,function(a){h[a]="added"});f.each(z,function(a){h[a]="removed"});f.each(d,function(a){h[a]="same"});f.each(e,function(a){h[a]=
"changed"});x("quick.create.fields",h);return{data:b,count:g}}(this.getForm().serializeArray(),this.previousAnalytics||{data:{},count:0})},addErrorMessage:function(a){k.applyErrorMessageToForm(this.getForm(),[a])},handleSubmitError:function(a){var c=this;if(a.responseText){try{var b=JSON.parse(a.responseText)}catch(d){}b&&(b.errorMessages&&b.errorMessages.length&&k.applyErrorMessageToForm(this.getForm(),b.errorMessages[0]),b&&b.errors&&400===a.status&&(this.getFieldById&&g.each(b.errors,function(a){/^timetracking/.test(a)?
c.getFieldById("timetracking").done(function(a){n.trigger(m.VALIDATE_TIMETRACKING,[c.$element]);a.activate(!0)}):/^worklog/.test(a)?c.getFieldById("worklog").done(function(a){n.trigger(m.VALIDATE_TIMETRACKING,[c.$element]);a.activate(!0)}):c.getFieldById(a).done(function(a){a.activate(!0)})}),k.applyErrorsToForm(this.getForm(),b.errors),this.triggerEvent("validationError",[this,b.errors],!0)),a=c.$element.find(".error"),a.length&&a[0].scrollIntoView(!1))}else a=l.SmartAjaxResult(a,void 0,a.statusText,
"",!1,void 0),a=l.buildSimpleErrorContent(a),c.addErrorMessage(a)},getAction:function(){return this.action},getFormContent:function(){return this.$element.find("div.content")},getForm:function(){return this.$element.find("form")},createField:function(){throw Error("AbstractForm: You must implement [createField] method in subclass.");},_getActiveAttachments:function(a){var c=[];if(!a)return c;a=a.split("\x26");for(var b=0;b<a.length;b++){var d=a[b].split("\x3d");"filetoconvert"==d[0]&&c.push(d[1])}return c},
_setActiveAttachments:function(a){this.$element.find("input[name\x3dfiletoconvert]").each(function(){var c=g(this),b=f.contains(a,c.attr("value"));c.prop("checked",b)})},render:function(a){var c=g.Deferred(),b=this,d=b._getActiveAttachments(a);a?(this.invalidateFieldsCache(),this.model.refresh(a).done(function(){b._render().done(function(a,d){b.$element.append(d);b.triggerEvent("rendered",[b.$element]);c.resolveWith(b,[b.$element,d])})})):b._render().done(function(a,d){b.$element.append(d);b.triggerEvent("rendered",
[b.$element]);c.resolveWith(b,[b.$element,d])});c.always(function(){b._setActiveAttachments(d)});return c.promise()}})});AJS.namespace("JIRA.Forms.AbstractForm",null,require("quick-edit/form/abstract"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/configurable.js' */
define("quick-edit/form/abstract/configurable",["quick-edit/form/abstract","quick-edit/form/field/configurable","quick-edit/form/helper/helper","jquery"],function(e,g,h,c){return e.extend({getFields:function(){var b=c.Deferred(),a=this;this.fields?b.resolveWith(this,[this.fields]):(this.fields=[],this.model.getConfigurableFields().done(function(d){c.each(d,function(b,d){b=a.createField(d);a.fields.push(b)});b.resolveWith(a,[a.fields])}));return b.promise()},getActiveFieldIds:function(){var b=[],a=
this.$element.find(".qf-field.qf-field-active:not(.qf-required), .qf-field.qf-required:not(.qf-field-active)");c.each(a,function(d,a){d=c(a);a=d.data("model");a=d.data("field-id")||a&&a.getId();null!=a&&b.push(a);"attachment"===a&&d.find("input[name\x3dfiletoconvert]").each(function(){b.push(this.id)})});return b},createField:function(b){b.hasVisibilityFeature=this.model.hasVisibilityFeature(b);this.model.hasRetainFeature(b)&&(b.hasRetainFeature=!0,b.retainValue=this.model.hasRetainedValue(b));var a=
this,d=new g(b),c=new h(a);b.hasVisibilityFeature&&d.bind("activated",function(){a.model.setUserFields(a.getActiveFieldIds());d.highlight();a.triggerEvent("QuickForm.fieldAdded",[d]);c.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.added"})}).bind("disabled",function(){a.model.setUserFields(a.getActiveFieldIds());a.triggerEvent("QuickForm.fieldRemoved",[d]);c.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.removed"})});return d},getFieldById:function(b){var a=this,d=c.Deferred();
this.getFields().done(function(c){(c=c.find(a=>a.getId()===b))?d.resolveWith(a,[c]):d.rejectWith(a,[])});return d.promise()},hasNoVisibleFields:function(){var b=c.Deferred();b.resolve(0===this.getActiveFieldIds().length);return b.promise()},renderFormContents:function(){var b=c.Deferred(),a=c(),d=this;d.getFields().done(function(e){var f=d.reorderFieldsToRender(e);d.model.getActiveFieldIds().done(function(e){c.each(f,function(){var b=this.render();a=a.add(b.scripts);d.getFormContent().append(b.element)});
c.each(e,function(b,a){c.each(f,function(){this.getId()===a&&this.activate(!0)})});c.each(f,function(){this.isActive()||this.disable(!0)});d.hasNoVisibleFields().done(function(c){if(!0===c)for(c=0;3>c;c++)f[c]&&f[c].activate(!0);b.resolveWith(this,[d.$element,a])})})});return b.promise()},reorderFieldsToRender:function(b){return b}})});AJS.namespace("JIRA.Forms.AbstractConfigurableForm",null,require("quick-edit/form/abstract/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/unconfigurable.js' */
define("quick-edit/form/abstract/unconfigurable",["quick-edit/form/abstract","quick-edit/templates/issue","jquery"],function(f,g,d){return f.extend({getFieldsHtml:function(){var a=this,b=d.Deferred(),c={};this.model.getTabs().done(function(e){1===e.length?c.fields=e[0].fields:(c.tabs=e,c.hasTabs=!0);b.resolveWith(a,[g.issueFields(c)])});return b.promise()},getActiveFieldIds:function(){var a=[];this.model.getFields().done(function(b){d.each(b,function(b,c){a.push(c.id)})});if(a.indexOf("attachment")){var b=
this.$element.find("input[name\x3dfiletoconvert]").map(function(b,a){return a.id}).toArray();a.push.apply(a,b)}return a},getFields:function(){var a=d.Deferred(),b=this;this.fields?a.resolveWith(this,[this.fields]):(this.fields=[],this.model.getFields().done(function(c){d.each(c,function(a,c){a=b.createField(c);b.fields.push(a)});a.resolveWith(b,[b.fields])}));return a.promise()}})});AJS.namespace("JIRA.Forms.AbstractUnconfigurableForm",null,require("quick-edit/form/abstract/unconfigurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/create-issue.js' */
define("quick-edit/form/configurable/create-issue","quick-edit/form/abstract/configurable quick-edit/form/helper/helper quick-edit/templates/issue quick-edit/util/jira jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(e,f,g,h,k,l,c){return e.extend({init:function(b){this.model=b.model;this.helper=new f(this);this.globalEventNamespaces=b.globalEventNamespaces||[];this.issueId=b.issueId;this.title=b.title;this._serialization={};this.action=l()+"/secure/QuickCreateIssue.jspa?decorator\x3dnone";
this.$element=c("\x3cdiv class\x3d'qf-form qf-configurable-form' /\x3e")},handleSubmitSuccess:function(b){return this.helper.handleSubmitSuccess(b)},_render:function(){var b=c.Deferred(),a=this;a.model.getIssueSetupFields().done(function(d){d=g.createIssueForm({issueSetupFields:d,atlToken:a.model.getAtlToken(),formToken:a.model.getFormToken(),isConfigurable:!0,title:a.title,parentIssueId:a.model.getParentIssueId(),multipleMode:a.model.isInMultipleMode(),showFieldConfigurationToolBar:!k.isAnonymous(),
modifierKey:h.getModifierKey()});a.$element.html(d);a.helper.decorate();a.renderFormContents().done(function(d,c){a.helper.decorateFields();b.resolveWith(a,[a.$element,c])});a.bind("QuickForm.fieldAdded",function(){a.helper.decorateFields()})});return b.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableCreateIssueForm",null,require("quick-edit/form/configurable/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/edit-issue.js' */
define("quick-edit/form/configurable/edit-issue","quick-edit/form/abstract/configurable quick-edit/util/jira quick-edit/templates/issue jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(e,f,g,h,k,c){return e.extend({init:function(a){this.model=a.model;this.globalEventNamespaces=a.globalEventNamespaces||[];this.issueId=a.issueId;this.title=a.title;this.action=k()+"/secure/QuickEditIssue.jspa?issueId\x3d"+a.issueId+"\x26decorator\x3dnone";this.$element=c("\x3cdiv class\x3d'qf-form qf-configurable-form'/\x3e")},
handleSubmitSuccess:function(a){this.triggerEvent("submitted",[a]);this.triggerEvent("issueEdited",[a],!0);this.triggerEvent("sessionComplete")},hasNoVisibleFields:function(){var a=c.Deferred(),b=this.getActiveFieldIds();this.model.getUserFields().done(function(d){1===d.length&&"comment"===d[0]?a.resolve(!1):0===b.length||1===b.length&&"comment"===b[0]?a.resolve(!0):a.resolve(!1)});return a.promise()},_render:function(){var a=c.Deferred(),b=this,d=g.editIssueForm({issueId:this.issueId,title:this.title,
atlToken:b.model.getAtlToken(),formToken:b.model.getFormToken(),isConfigurable:!0,modifierKey:f.getModifierKey(),showFieldConfigurationToolBar:!h.isAnonymous()});this.$element.html(d);b.renderFormContents().done(function(d,c){b.getFieldById("comment").done(function(a){b.getFormContent().append(a.$element)});a.resolveWith(b,[b.$element,c])});return a.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableEditIssueForm",null,require("quick-edit/form/configurable/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/configurable.js' */
define("quick-edit/form/field-picker/button/configurable",["quick-edit/util/control","quick-edit/templates/form"],function(c,d){return c.extend({init:function(a){var b=this;this.field=a.field;this.field.bind("disabled",function(){b.$element.removeClass("qf-active")}).bind("activated",function(){b.$element.addClass("qf-active")})},toggle:function(){this.field.isActive()?this.field.disable():this.field.activate()},getId:function(){return this.field.getId()},render:function(){this.$element=jQuery(d.configurablePickerButton({required:this.field.descriptor.required,
label:this.field.getLabel(),fieldId:this.field.getId(),isActive:this.field.isActive()}));this._assignEvents("button",this.$element);return this.$element},_events:{button:{click:function(a){"INPUT"===a.target.nodeName&&this.toggle()}}}})});AJS.namespace("JIRA.Forms.FieldPicker.ConfigurableButton",null,require("quick-edit/form/field-picker/button/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/unconfigurable.js' */
define("quick-edit/form/field-picker/button/unconfigurable",["quick-edit/templates/form","jquery"],function(b,c){return function(a){return c(b.unconfigurablePickerButton({required:a.required,label:a.label,fieldId:a.id,isActive:!0}))}});AJS.namespace("JIRA.Forms.FieldPicker.UnconfigurableButton",null,require("quick-edit/form/field-picker/button/unconfigurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/field-picker.js' */
define("quick-edit/form/field-picker",["quick-edit/form/field-picker/button/configurable","quick-edit/form/field-picker/button/unconfigurable","quick-edit/templates/form","quick-edit/util/control","jquery"],function(g,h,l,k,d){return k.extend({switchToAll:function(a){this.isConfigurable=!1;!0!==a&&(this.hideCallback=function(){this.remove()},this.hide(),this.triggerEvent("switchedToAll"))},setForm:function(a){this.form=a},switchToCustom:function(a){this.isConfigurable=!0;!0!==a&&(this.hideCallback=
function(){this.remove()},this.hide(),this.triggerEvent("switchedToCustom"))},hideCallback:function(){},setInlineDialogContent:function(){const a=this.getInlineDialog(),c=this;this.render().done(function(){a.on("aui-hide",function(){c.getInlineDialogTrigger().removeClass("active")});a.on("aui-show",function(){c.getInlineDialogTrigger().addClass("active")})})},getInlineDialogTrigger:function(){return d("#qf-field-picker-trigger")},getInlineDialog:function(){return this.form.$element.find("#qf-fieldpicker-inline")},
renderButtons:function(a){const c=this,b=a.fields;a=d("\x3cfieldset\x3e\x3clegend\x3e"+AJS.escapeHtml(a.label)+'\x3c/legend\x3e\x3cul class\x3d"qf-picker-buttons" /\x3e\x3c/fieldset\x3e');const f=a.find(".qf-picker-buttons"),e=[];d.each(b,function(a,b){c.isConfigurable?c.form.getFieldById(b.id).done(function(a){a&&a.hasVisibilityFeature()&&(a=new g({field:a}),e.push(a.render()))}):(a=new h(b),e.push(a))});0===e.length?f.addClass("qf-no-fields").append("\x3cli\x3e\x3cem\x3e"+"No fields can be configured for this tab"+
"\x3c/em\x3e\x3c/li\x3e"):f.append(e);a.appendTo(this.$content)},renderContents:function(){const a=this,c=d.Deferred();this.form.model.getSortedTabs().done(function(b){1===b.length?a.renderButtons(b[0]):d.each(b,function(c,b){0<b.fields.length&&a.renderButtons(b)});c.resolveWith(a,[a.getInlineDialog()])});return c.promise()},show:function(){document.getElementById("qf-fieldpicker-inline").open=!0},showInNextEventCycle:function(){const a=this;setTimeout(function(){a.show()})},hide:function(){document.getElementById("qf-fieldpicker-inline").open=
!1},render:function(){const a=this.getInlineDialog();this.$content=a.find(".qf-picker-content");const c=a.find(".qf-configurable"),b=a.find(".qf-unconfigurable");this.isConfigurable?(c.attr("selected",!0),this.$content.removeClass("qf-picker-unconfigurable")):(b.attr("selected",!0),this.$content.addClass("qf-picker-unconfigurable"));this._assignEvents("switchMode",a.find("#configure-fields"));return this.renderContents()},_events:{switchMode:{change:function(a){$("option.qf-unconfigurable").attr("selected")?
this.switchToAll():this.switchToCustom()}}}})});AJS.namespace("JIRA.Forms.FieldPicker",null,require("quick-edit/form/field-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/container/container.js' */
define("quick-edit/form/container","quick-edit/form/field-picker quick-edit/util/jira quick-edit/util/control quick-edit/form/helper/helper jira/dialog/form-dialog2 jira/dialog/dialog2 jira/util/navigator jira/issue jira/issuenavigator/issue-navigator jquery".split(" "),function(h,k,l,m,f,g,n,p,q,d){return l.extend({init:function(a){this.$element=d("\x3cdiv class\x3d'qf-container'/\x3e");this.options=k.makePropertyFunc(a);this.fieldPicker=new h;this.successData=[];this.helper=new m(this)},decorateRenderers:function(){var a=
this;this.fieldPicker.decorated||(this.fieldPicker.bind("switchedToAll",function(){a.unconfigurableForm.render(a.currentView.serialize(!0)).done(function(){a.fieldPicker.showInNextEventCycle()});a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.all",allFieldsShown:!0})}),this.fieldPicker.bind("switchedToCustom",function(){a.configurableForm.render(a.currentView.serialize(!0)).done(function(){a.fieldPicker.showInNextEventCycle()});a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.custom",
allFieldsShown:!1})}),this.fieldPicker.decorated=!0);this.configurableForm.decorated||(this.configurableForm.bind("rendered",function(b,c){a.currentView=a.configurableForm;a.fieldPicker.switchToCustom(!0);a.fieldPicker.setForm(a.configurableForm);a.fieldPicker.setInlineDialogContent();a.applyGlobalDecorator(c);a.model.setUseConfigurableForm(!0);a.triggerEvent("configurableFormRendered")}),this.configurableForm.bind("submitted",function(b,c){a.successData.push(c);a.triggerEvent("configurableFormSubmitted");
a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:!1})}),this.configurableForm.decorated=!0);this.unconfigurableForm.decorated||(this.unconfigurableForm.bind("rendered",function(b,c){a.fieldPicker.switchToAll(!0);a.fieldPicker.setForm(a.unconfigurableForm);a.fieldPicker.setInlineDialogContent();a.currentView=a.unconfigurableForm;a.applyGlobalDecorator(c);a.model.setUseConfigurableForm(!1);a.triggerEvent("unconfigurableFormRendered")}),this.unconfigurableForm.bind("submitted",
function(b,c){a.successData.push(c);a.triggerEvent("unconfigurableFormSubmitted");a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:!0})}),this.unconfigurableForm.decorated=!0)},applyGlobalDecorator:function(a){function b(){c.currentView.setInitialFocus&&c.currentView.setInitialFocus()}var c=this;a.detach();this.$element.html(a);this.triggerEvent("contentRefreshed",[this.$element]);n.isIE()?window.setTimeout(b,0):b()},asDialog:function(a){a=d.extend(!0,{},a);
var b=this,c,e=!!a.modeless;this.dialog=c=new f({id:a.id,trigger:a.trigger,windowTitle:void 0!==a.windowTitle?a.windowTitle:!e,width:e?g.WIDTH_PRESETS.medium:g.WIDTH_PRESETS.large,defineResources:function(){this.requireContext("jira.create.issue")},content:function(a){b.render().done(function(){a(b.$element)});b.triggerEvent("dialogShown")},submitHandler:function(a,c){a.preventDefault();b.currentView.submit().done(c).fail(c)},stacked:!0,modeless:e});if("edit-issue-dialog"===a.id)d(this.dialog).on("beforeShow",
function(a){p.getIssueKey()||q.isRowSelected()||a.preventDefault()});this.dialog._focusFirstField=function(){f.prototype._focusFirstField.apply(this,["div.content :input:visible:first"])};this.bind("initialized",function(){this.unconfigurableForm.bind("sessionComplete",function(){c.hide()});this.configurableForm.bind("sessionComplete",function(){c.hide()})}).bind("contentRefreshed",function(){c.notifyOfNewContent()});c.bind("Dialog.hide",function(){b.successData.length&&(b.triggerEvent("sessionComplete",
[b.successData],!0),b.successData=[])});b.$element.ajaxStart(function(){c.showFooterLoadingIndicator()}).ajaxStop(function(){c.hideFooterLoadingIndicator()});c.getQuickForm=function(){return b};c.dirtyFormWarning();return c},lazyInit:function(){var a=this,b=this.options.call(this);this.model=b.model;this.errorHandler=b.errorHandler;this.globalEventNamespaces=b.globalEventNamespaces;this.configurableForm=b.configurableForm;this.unconfigurableForm=b.unconfigurableForm;this.sessionComplete=b.sessionComplete;
this.model.clearRetainedFields();this.configurableForm.invalidateFieldsCache();this.model.bind("serverError",function(b,e){a.$element.html(a.errorHandler.render(e));a.triggerEvent("contentRefreshed",[this.$element])});this.triggerEvent("initialized");this.decorateRenderers()},render:function(){var a=this,b=d.Deferred();this.lazyInit();a.model.getUseConfigurableForm().done(function(c){!0===c?a.configurableForm.render().done(function(c,d){a.$element.append(d);b.resolveWith(a,[a.$element])}):a.unconfigurableForm.render().done(function(c,
d){a.$element.append(d);b.resolveWith(a,[a.$element,d])})}).fail(function(){b.resolveWith(a,[a.$element])});return b.promise()}})});AJS.namespace("JIRA.Forms.Container",null,require("quick-edit/form/container"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/error.js' */
define("quick-edit/form/error",["quick-edit/util/control","quick-edit/templates/form","jira/ajs/ajax/smart-ajax"],function(e,f,b){return e.extend({getErrorMessageFromSmartAjax:function(a){if(a.hasData&&401!==a.status)try{var c=JSON.parse(a.data);var d=c.errorMessages&&0<c.errorMessages.length?f.errorMessage({message:c.errorMessages[0]}):b.buildDialogErrorContent(a,!0).html()}catch(g){d=b.buildDialogErrorContent(a,!0).html()}else d=b.buildDialogErrorContent(a,!0).html();return d},render:function(a){a=
this.getErrorMessageFromSmartAjax(a);return this._render(a)}})});AJS.namespace("JIRA.Forms.Error",null,require("quick-edit/form/error"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/create-issue.js' */
define("quick-edit/form/error/create-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(a,b,c){return a.extend({_render:function(a){return c(b.createIssueError({errorHtml:a}))}})});AJS.namespace("JIRA.Forms.CreateIssueError",null,require("quick-edit/form/error/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/edit-issue.js' */
define("quick-edit/form/error/edit-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(a,b,c){return a.extend({_render:function(a){return c(b.editIssueError({errorHtml:a}))}})});AJS.namespace("JIRA.Forms.EditIssueError",null,require("quick-edit/form/error/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/create-issue.js' */
define("quick-edit/form/unconfigurable-create-issue","quick-edit/form/abstract/unconfigurable quick-edit/form/helper/helper quick-edit/templates/issue quick-edit/util/jira jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(f,g,h,e,k,l,d){return f.extend({init:function(b){this._serialization={};this.globalEventNamespaces=b.globalEventNamespaces||[];this.model=b.model;this.helper=new g(this);this.title=b.title;this.action=l()+"/secure/QuickCreateIssue.jspa?decorator\x3dnone";
this.$element=d("\x3cdiv class\x3d'qf-unconfigurable-form' /\x3e")},handleSubmitSuccess:function(b){this.helper.handleSubmitSuccess(b)},_render:function(){var b=d.Deferred(),a=this;this.getFieldsHtml().done(function(d){a.model.getIssueSetupFields().done(function(c){c=h.createIssueForm({issueSetupFields:c,fieldsHtml:d,parentIssueId:a.model.getParentIssueId(),atlToken:a.model.getAtlToken(),formToken:a.model.getFormToken(),title:a.title,multipleMode:a.model.isInMultipleMode(),showFieldConfigurationToolBar:!k.isAnonymous(),
modifierKey:e.getModifierKey()});c=e.extractScripts(c);a.$element.empty().append(c.html);a.helper.restoreFormDirtyStatus();a.helper.decorate();a.helper.decorateFields();b.resolveWith(a,[a.$element,c.scripts])})});return b.promise()}})});AJS.namespace("JIRA.Forms.UnconfigurableCreateIssueForm",null,require("quick-edit/form/unconfigurable-create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/edit-issue.js' */
define("quick-edit/form/unconfigurable-edit-issue","quick-edit/form/abstract/unconfigurable quick-edit/util/jira quick-edit/templates/issue jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(k,f,g,l,m,h){return k.extend({init:function(a){this.globalEventNamespaces=a.globalEventNamespaces||[];this.model=a.model;this.issueId=a.issueId;this.title=a.title;this.action=m()+"/secure/QuickEditIssue.jspa?issueId\x3d"+a.issueId+"\x26decorator\x3dnone";this.$element=h("\x3cdiv class\x3d'qf-unconfigurable-form' /\x3e")},
getFieldsHtml:function(){var a=this,b=h.Deferred(),e={};this.model.getUnconfigurableTabs().done(function(d){1===d.length?e.fields=d[0].fields:(e.tabs=d,e.hasTabs=!0);b.resolveWith(a,[g.issueFields(e)])});return b.promise()},handleSubmitSuccess:function(a){this.triggerEvent("submitted",[a]);this.triggerEvent("issueEdited",[a],!0);this.triggerEvent("sessionComplete")},_render:function(){var a=h.Deferred(),b=this;this.getFieldsHtml().done(function(e){var d={fieldsHtml:e,title:b.title,issueId:b.issueId,
atlToken:b.model.getAtlToken(),formToken:b.model.getFormToken(),modifierKey:f.getModifierKey(),showFieldConfigurationToolBar:!l.isAnonymous()};this.model.getCommentField().done(function(c){d.commentField=c;c=g.editIssueForm(d);c=f.extractScripts(c);b.$element.html(c.html);a.resolveWith(b,[b.$element,c.scripts])}).fail(function(){var c=g.editIssueForm(d);c=f.extractScripts(c);b.$element.html(c.html);a.resolveWith(b,[b.$element,c.scripts])})});return a.promise()}})});
AJS.namespace("JIRA.Forms.UnconfigurableEditIssueForm",null,require("quick-edit/form/unconfigurable-edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-issue.js' */
define("quick-edit/form/factory/create-issue",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue"],function(c,e,f,g,h){return function(a){a=a||{};return new c(function(){a.globalEventNamespaces=a.globalEventNamespaces||["QuickCreateIssue"];var b="Create Issue",d=new h({projectId:a.pid,issueType:a.issueType}),c=new e({model:d,
title:b,globalEventNamespaces:a.globalEventNamespaces});b=new f({model:d,title:b,globalEventNamespaces:a.globalEventNamespaces});return{globalEventNamespaces:a.globalEventNamespaces,model:d,errorHandler:new g,configurableForm:c,unconfigurableForm:b}})}});AJS.namespace("JIRA.Forms.createCreateIssueForm",null,require("quick-edit/form/factory/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-subtask.js' */
define("quick-edit/form/factory/create-subtask","quick-edit/form/container quick-edit/form/configurable/create-issue quick-edit/form/error/create-issue quick-edit/form/model/create-issue quick-edit/form/unconfigurable-create-issue quick-edit/util/dialog jira/issue jira/issuenavigator/issue-navigator".split(" "),function(d,e,f,g,h,k,l,m){return function(a){a=a||{};return new d(function(){a.globalEventNamespaces=a.globalEventNamespaces||["QuickCreateSubtask"];var b=a.parentIssueId||l.getIssueId()||
m.getSelectedIssueId(),c=k.getIssueActionTitle("Create Subtask");b=new g({parentIssueId:b,projectId:a.pid,issueType:a.issueType});var d=new e({model:b,title:c,globalEventNamespaces:a.globalEventNamespaces});c=new h({model:b,title:c,globalEventNamespaces:a.globalEventNamespaces});return{globalEventNamespaces:a.globalEventNamespaces,model:b,errorHandler:new f,configurableForm:d,unconfigurableForm:c}})}});AJS.namespace("JIRA.Forms.createSubtaskForm",null,require("quick-edit/form/factory/create-subtask"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/edit-issue.js' */
define("quick-edit/form/factory/edit-issue","quick-edit/form/container quick-edit/form/configurable/edit-issue quick-edit/form/error/edit-issue quick-edit/util/dialog quick-edit/form/model/factory/edit-issue quick-edit/form/unconfigurable-edit-issue jira/issue jira/issuenavigator/issue-navigator jquery".split(" "),function(c,g,h,d,k,l,m,n,p){return function(e){e=e||{};return new c(function(){var a=e;var b=d.getAttrFromActiveTrigger("data-issueId");a=p.isFunction(a.issueId)?a.issueId(a):a.issueId?
a.issueId:b?b:m.getIssueId()||n.getSelectedIssueId();b="Edit Issue";var f=d.shouldShowIssueKeyInTitle()?d.getIssueActionTitle(b):b;b=k(a);var c=new g({title:f,model:b,issueId:a,globalEventNamespaces:["QuickEdit"]});a=new l({title:f,model:b,issueId:a,globalEventNamespaces:["QuickEdit"]});return{globalEventNamespaces:["QuickEdit"],model:b,errorHandler:new h,configurableForm:c,unconfigurableForm:a}})}});AJS.namespace("JIRA.Forms.createEditIssueForm",null,require("quick-edit/form/factory/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(f,k,g,c,a){var h,d=!1;f(document).on("simpleClick",".create-issue, .create-issue-type",function(b){b.preventDefault();d||(d=!0,a.disable(),c.showLoadingIndicator(),g(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).done(function(){require("quick-edit/init/create").initIssueDialog(b);a.enable();d=!1}).fail(function(){c.hideLoadingIndicator(!0);
a.enable();d=!1}))});f(function(){if(h=document.getElementById("stqc_show"))h.onclick=null});var e=!1;f(document).on("simpleClick",".issueaction-create-subtask",function(b){b.preventDefault();e||(e=!0,a.disable(),c.showLoadingIndicator(),g(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).done(function(){require("quick-edit/init/create").initSubtaskDialog(b);a.enable();e=!1}).fail(function(){c.hideLoadingIndicator(!0);a.enable();e=!1}))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue', location = 'js/init/create.js' */
define("quick-edit/init/create",["quick-edit/form/factory/create-issue","quick-edit/form/factory/create-subtask","quick-edit/util/dialog","jquery"],function(d,e,f,c){return{initIssueDialog:function(a){a=c(a.target);var b=a.is("a")?a:a.find("a");b=parseUri(b.attr("href")).queryKey;b={pid:b.pid,issueType:b.issuetype};b=c.extend(b,{pid:a.attr("data-pid"),issueType:a.attr("data-issue-type")});d(b).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:"Create Issue"}).show()},
initSubtaskDialog:function(a){a=c(a.target);a={parentIssueId:(a.is("a")?a:a.find("a")).attr("data-issueid")};e(a).asDialog({windowTitle:function(){return f.getIssueActionTitle("Create Subtask")},trigger:document.createElement("a"),id:"create-subtask-dialog"}).show()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-underscore', location = 'includes/js/lib/underscore-overrides.js' */
define("_",["underscore"],function(e){return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:ajax', location = 'includes/js/rapid/Ajax.js' */
"use strict";define("jira-agile/rapid/ajax",["jira/util/formatter","jira/ajs/ajax/smart-ajax","jira/util/data/meta","underscore","wrm/context-path","jquery","jira/jquery/deferred"],function(n,s,r,a,e,u,i){var l={};l.CONTEXT_PATH=e();l.REST_URL_BASE="/rest/greenhopper/1.0";l.PUBLIC_REST_URL_BASE="/rest/agile/1.0";l.xhrRegistery={};l.stallTimeout=300;l.get=function(e,r){u.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!a.isUndefined(GH.gadget)}});return l._executeGet(e,r).pipe(function(e,r,t){return i().resolveWith(this,[e.success,r,t])})};l.post=function(e){e=l._getSettings(e,!0);u.extend(e,{type:"POST",contentType:"application/json"});return l._executeStore(e)};l.put=function(e){(e=l._getSettings(e,!0)).type="PUT";return l._executeStore(e)};l.del=function(e){(e=l._getSettings(e,!0)).type="DELETE";return l._executeStore(e)};l._getSettings=function(e,r){!e.bareUrl&&e.url&&(e.bareUrl=l.buildRestUrl(e.url));e.bareUrl&&(e.url=e.bareUrl);e.dataType||(e.dataType="json");e.data&&r&&(e.data=JSON.stringify(e.data));e.contentType="application/json";return e};l._getXhrData=function(e){var r={timestamp:0};return r=e?l.xhrRegistery[e]||(l.xhrRegistery[e]=r):r};l._executeGet=function(e,r){e=l._getSettings(e);var t=l._getXhrData(r);if(t.xhr){GH.log("aborting request for "+r,GH.Logger.Contexts.ajax);t.xhr.abort();delete t.xhr;delete t.xhrAbort;delete t.timeoutId}var n=t.timestamp;t.timestamp=(new Date).getTime();if(t.timestamp-n<l.stallTimeout){GH.log("stalling request for "+r+", time since last request: "+(t.timestamp-n),GH.Logger.Contexts.ajax);var o,s=i();t.timeoutId=window.setTimeout(function(){(o=l._executeGet(e,r)).done(s.resolve).fail(s.reject)},l.stallTimeout);t.xhr=s.promise();t.xhr.abort=function(){o?o.abort.apply(o,arguments):clearTimeout(t.timeoutId)}}else{GH.log("executing request for "+r,GH.Logger.Contexts.ajax);t.xhr=l.makeRequest(e)}t.xhrAbort=t.xhr.abort;t.xhr.abort=function(){var e=t.xhr,r=t.xhrAbort;if(e&&r)return r.apply(e,arguments)};t.xhr.done(function(){t.xhr&&delete t.xhr}).fail(function(){t.xhr&&delete t.xhr});return t.xhr};l._executeStore=function(e){e=e||{};if(e.data&&"string"==typeof e.data&&/\?\?/.test(e.data))e.data=e.data.replace(/\?\?/g,"\\u003F\\u003F");e.dataType="json";return l.makeRequest(e)};l.makeRequest=function(e){var r=i();e=a.extend(e,{success:function(){r.resolveWith(this,arguments)},error:function(){r.rejectWith(this,arguments)}});var t=r.promise(s.makeRequest(e)),n=t.abort;t.abort=function(e){t.abortMarker="timeout"!==e;return n.apply(t,arguments)};var o=t.pipe(l._generateDoneInterceptor(),l._generateFailInterceptor(e.errorsNoAutoEscape));e.deferErrorHandling||o.fail(l._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable));return o};l._generateDoneInterceptor=function(){return function(e,r,t){e=l._createExtendedResult(e=e||{});return l.matchesCurrentUser(t)?e.isSuccess()?i().resolveWith(this,[e,r,t]):i().rejectWith(this,[e,t,r,null]):l._handleCurrentUserChanged(t)}};l._generateFailInterceptor=function(s){return function(e,r,t){if(e.abortMarker)return i();if(!l.matchesCurrentUser(e))return l._handleCurrentUserChanged(e);var n={},o=null;if(e.responseText)try{n=JSON.parse(e.responseText)}catch(e){}n.errors||n.errorMessages?o=l._convertJiraErrors(n,s):n.message&&(o=l._convertFrameworkErrors(n));o=o||l._convertGenericErrors(e,t);return i().rejectWith(this,[o,e,r,t])}};l.handleContextualErrors=function(o,s,a){s=s||{};if(!o.hasContextualErrors())return!1;u(o.getContextualErrors()).each(function(e,r){var t=s[r.contextId];if(t)if(u.isFunction(t))t(r,o);else{(t=u(t)).siblings(".ghx-error").remove();var n=a?a(r):GH.tpl.rapid.notification.renderContextualErrors({errors:r.errors});t.after(n)}else u(r.errors).each(function(e,r){o.addGlobalError(r)})});return!0};l.handleGlobalErrors=function(e,r,t){if(!e.hasGlobalErrors())return!1;GH.Notification.showErrors({errors:e.getGlobalErrors()},t);r&&r instanceof Function&&r(e);return!0};l.buildRestUrl=function(e){0!==e.indexOf("/")&&(e="/"+e);return l.buildBareRestUrl(l.REST_URL_BASE+e)};l.buildPublicRestUrl=function(e){0!==e.indexOf("/")&&(e="/"+e);return l.buildBareRestUrl(l.PUBLIC_REST_URL_BASE+e)};l.buildBareRestUrl=function(e){0!==e.indexOf("/")&&(e="/"+e);return l.CONTEXT_PATH+e};l._createExtendedResult=function(e){return e?l._extendResult({success:e}):l._extendResult({success:!0})};l._extendResult=function(r){return u.extend(r,{getGlobalErrors:function(){return r.error?r.error.errors:null},getContextualErrors:function(){return r.error?r.error.contextualErrors:null},hasGlobalErrors:function(){return r.error&&r.error.errors&&0<r.error.errors.length},hasContextualErrors:function(){return r.error&&r.error.contextualErrors},addGlobalError:function(e){r.error||(r.error={});r.error.errors||(r.error.errors=[]);r.error.errors[r.error.errors.length]=e},getSuccessObject:function(){return r.success},isSuccess:function(){return!r.error}})};l._generateErrorHandler=function(r,t,n,o){return function(e){l.handleContextualErrors(e,t,n);l.handleGlobalErrors(e,r,o)}};l._convertJiraErrors=function(e,t){var r=e.errorMessages||[],r=a.map(r,function(e){return{message:e,noAutoescape:t}}),e=e.errors||{},e=a.map(e,function(e,r){return{contextId:r,errors:[{message:e,noAutoescape:t}]}});return l._extendResult({error:{errors:r,contextualErrors:e}})};l._convertFrameworkErrors=function(e){e={error:{errors:[{message:e.message}],contextualErrors:[]}};return l._extendResult(e)};l._convertGenericErrors=function(e,r){var t=l._extendResult({});e.responseText&&GH.log("Got an error response with text that we don't know how to parse: "+e.responseText);504===e.status||0===e.status&&u.contains(["abort","timeout"],r)?t.addGlobalError({status:504,message:n.I18n.getText("gh.ajax.error.timeout")}):r?t.addGlobalError({status:e.status,message:r}):GH.log("Got an Ajax request error response with empty 'errorThrown' value. Silently logging");return t};l._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")};l._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"};l.getUserFromAJS=function(){var e=r.get("remote-user");return e||"anonymous"};l.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!l._hasUsernameResponseHeader(e)||l.getUserFromAJS()===l._getUserForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&u.browser.msie};l._handleCurrentUserChanged=function(e){var r=l.getUserFromAJS(),e=l._getUserForResponse(e);if("anonymous"!==r&&"anonymous"===e){GH.log("User changed. original: "+r+" new: "+e+". Redirecting to the login page");location.href=GH.Navigation.getLoginUrl()}else{GH.log("User changed. original: "+r+" new: "+e+". Reloading the page");location.reload()}return i()};return l});AJS.namespace("GH.Ajax",null,require("jira-agile/rapid/ajax"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-namespace', location = 'includes/js/gh-namespace.js' */
"use strict";AJS.namespace("GH.namespace",null,AJS.namespace);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-namespaces', location = 'includes/js/rapid/Namespaces.js' */
"use strict";AJS.namespace("GH.view");AJS.namespace("GH.view.model");AJS.namespace("GH.Global");AJS.namespace("GH.Dialog");AJS.namespace("GH.Dialogs");AJS.namespace("GH.State");AJS.namespace("GH.XBoard");AJS.namespace("GH.RapidBoard");AJS.namespace("GH.HelpPaths");AJS.namespace("GH.JQLAutoComplete");AJS.namespace("GH.RapidBoard.Util");AJS.namespace("GH.NumberFormat");AJS.namespace("GH.UrlFormat");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-notification', location = 'includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format('This version of {0} is not a supported browser.',opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml('See our documentation for the list of supported browsers.') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' aui-message-' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml('This board has been updated') + ': <a href="" class="js-refresh-now" data-track-click="gh.rapidboard.updated.message.refresh.click">' + soy.$$escapeHtml('Refresh') + '</a><span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh" data-track-click="gh.rapidboard.updated.message.cancel.click">' + soy.$$escapeHtml('Ignore') + '</a></p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-notification', location = 'includes/js/rapid/ui/notification/Notification.js' */
"use strict";define("jira-agile/rapid/ui/notification",["require"],function(e){var t=e("jquery"),r=e("underscore"),i=e("aui/flag"),a=e("jira/util/logger"),s=e("jira/analytics"),n={showErrors:function(e){var a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s=2<arguments.length?arguments[2]:void 0,t="Error",e=GH.tpl.rapid.notification.renderErrorMessages(e);n.showError(t,e,a,s)},showError:function(e,a){o(a,e,r.extend({},{autoHide:!1,closeable:!(2<arguments.length&&void 0!==arguments[2])||arguments[2],showTitle:!0,type:"error"},3<arguments.length?arguments[3]:void 0))},showWarnings:function(e,a){o((a=r.extend({},{preRendered:!1,autoHide:!0,closeable:!0,showTitle:!1,type:"warning"},a)).preRendered?e:GH.tpl.rapid.notification.renderErrorMessages({errors:e}),"Warning",a)},showWarning:function(e){n.showWarnings(e,{preRendered:!0})},showSuccess:function(e,a){o(e,null,a=r.extend({},{closeable:!0,autoHide:!0,showTitle:!1,type:"success"},a))},clear:function(){t("#aui-flag-container").empty()},handleDateFormatMismatchError:function(e){var a='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';a+="Advanced Settings";a+="</a>";a=AJS.format("It appears your Jira date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",a);n.showWarnings(a,{autoHide:!1,preRendered:!0})},auiMessage:function(){a.warn("[deprecated] GH.Notification.auiMessage has no effect")},showIssueMessage:function(e){var a,s,t=JIRA.SessionStorage;if(e=e||t.getItem("selectedIssueId")){s=t.getItem("selectedIssueKey");a=t.getItem("selectedIssueMsg");n.showIssueMessageImpl(e,a,s)}t.removeItem("selectedIssueId");t.removeItem("selectedIssueKey");t.removeItem("selectedIssueMsg")},showIssueMessageImpl:function(e,a,s){a=a||"thanks_issue_updated";a=AJS.params[a];if(a&&s){a=AJS.format(a,s);n.showSuccess(a)}},addPageLoadMessage:function(e,a){var s=GH.storage.get("gh.pageloadmessages",!0)||[];s.push({message:e,type:a||"success"});GH.storage.put("gh.pageloadmessages",s,!0)},_displayPageLoadMessages:function(){var e=GH.storage.get("gh.pageloadmessages",!0);if(e){var a=e[0].type,s="";r.each(e,function(e){0<s.length&&(s+="<br>");s+=e.message});switch(a){case"warning":n.showWarning(s);break;case"success":default:n.showSuccess(s)}GH.storage.put("gh.pageloadmessages",null,!0)}},showBoardUpdatedMessage:function(){n.triggerShowMessageAnalytics();n.clearBoardUpdatedMessage();var a=t.Deferred(),s=t(GH.tpl.rapid.notification.renderGHtvMessage()).appendTo("#gh");s.data("deferred",a);s.find(".js-refresh-now").click(function(e){e.preventDefault();s.removeData("deferred");n.clearBoardUpdatedMessage();a.resolve()});s.find(".js-ignore-refresh").click(function(e){e.preventDefault();n.clearBoardUpdatedMessage()});return a.promise()},clearBoardUpdatedMessage:function(){var e=t("#ghx-update-message");if(e.length){var a=e.data("deferred");a&&a.reject&&a.reject();e.remove()}},isBoardUpdatedMessageVisible:function(){return 0<t("#ghx-update-message").length},triggerShowMessageAnalytics:function(){s.send({name:"gh.rapidboard.updated.message.show",properties:{initial:!n.isBoardUpdatedMessageVisible()}})}};function o(e,a,s){return function(e){var a=t(e).find(".title");""===t.trim(a.text())&&a.remove();return e}(i({body:e,title:s.showTitle?a:void 0,close:s.autoHide?"auto":s.closeable?"manual":"never",type:s.type}))}return n});AJS.namespace("GH.Notification",null,require("jira-agile/rapid/ui/notification"));AJS.$(document).ready(function(){GH.Notification.showIssueMessage();GH.storage&&GH.Notification._displayPageLoadMessages()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/viewissue/QuickCreateIssueInEpic.js' */
"use strict";define("jira-agile/viewissue/quick-create-issue-in-epic",["jira-agile/rapid/ajax","jira/ajs/list/item-descriptor","jira/dropdown/dropdown-factory","jira/util/formatter","jquery","underscore","wrm/context-path"],function(i,s,n,t,a,c,e){var r={epicKey:null,epicName:null,init:function(){JIRA.unbind("QuickCreateIssueInEpic.sessionComplete");JIRA.bind("QuickCreateIssueInEpic.sessionComplete",function(e,i){a(document).off(JIRA.EpicPicker.READY_EVENT);r.handleIssuesCreated(i)})},createQuickCreateIssueForEpicDialog:function(){r.epicKey=a("#ghx-epic-key").text();r.epicName=a("#ghx-epic-name").text();"true"===a("#ghx-hide-table").text()&&a("#ghx-issues-in-epic-table").addClass("hidden");var e=new JIRA.Forms.Container(function(){var e={title:t.format("Create issue in epic : {0}",r.epicKey),id:"create-issue-in-epic-form",globalEventNamespaces:["QuickCreateIssueInEpic"]},i=new JIRA.Forms.CreateIssueModel({projectId:e.pid,issueType:e.issueType}),s=new JIRA.Forms.ConfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),n=new JIRA.Forms.UnconfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:i,errorHandler:new JIRA.Forms.CreateIssueError,configurableForm:s,unconfigurableForm:n}});e.bind("contentRefreshed",function(){a(document).off("QuickCreateIssueInEpic.validationError");a(document).off(JIRA.EpicPicker.READY_EVENT);a(document).on(JIRA.EpicPicker.READY_EVENT,function(e,i){i.setSelection(new s({value:"key:"+r.epicKey,label:r.epicName}));setTimeout(function(){i.disable()},0);a(document).on("QuickCreateIssueInEpic.validationError",function(){i.disable()})})});e=e.asDialog({windowTitle:t.format("Create issue in epic : {0}",r.epicKey),id:"create-issue-dialog"});e.bind("Dialog.hide",function(){a(document).off(JIRA.EpicPicker.READY_EVENT);a(document).off("QuickCreateIssueInEpic.validationError")});return e},handleIssuesCreated:function(e){var i=c.pluck(e,"issueKey");r.addIssuesToEpic(e).done(function(){r.refreshIssuesInEpicTable(i)})},addIssuesToEpic:function(e){e=c.pluck(e,"issueKey");return i.put({url:"/epics/"+r.epicKey+"/add",data:{ignoreEpics:!0,issueKeys:e}})},refreshIssuesInEpicTable:function(i){var s=a("#greenhopper-epics-issue-web-panel");s.addClass("updating");a.ajax({url:e()+"/secure/ViewIssuesInEpic.jspa?epicKey="+r.epicKey+"&decorator=none"}).done(function(e){s.find(".mod-content").html(e);n.bindIssueActionsDds(s);a.each(i,function(e,i){s.find('.issuerow[data-issuekey="'.concat(i,'"]')).fadeInBackground()});e=a("#ghx-issues-in-epic-table");if("true"===a("#ghx-hide-table").text())e.addClass("hidden");else{a("#ghx-issues-in-epic-empty-message").remove();e.removeClass("hidden")}s.removeClass("updating")})}};return r});AJS.namespace("GH.QuickCreateIssueInEpic",null,require("jira-agile/viewissue/quick-create-issue-in-epic"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/viewissue/QuickCreateIssueInEpic-init.js' */
"use strict";require(["jira-agile/viewissue/quick-create-issue-in-epic","jira/util/init-on-dcl","jquery"],function(c,i,e){i(function(){c.init();JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(i,e,n){n===JIRA.CONTENT_ADDED_REASON.pageLoad&&c.init()});e(document).off("click","#gh-create-issue-in-epic-lnk");e(document).on("click","#gh-create-issue-in-epic-lnk",function(i){c.createQuickCreateIssueForEpicDialog().show();i.preventDefault()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/common.js' */
(function(c,b,d){var a=require("jira/util/events");if(typeof b.CONFIG==="undefined"){b.CONFIG={$planSelect:c(),$buildTypes:c(),buildResultsContainerId:"#bamboo-build-results",stagesContainerId:"#bamboo-plan-stages",variablesContainerId:"#bamboo-override-variables",initialised:false,updateTimeout:null,init:function(){if(b.CONFIG.initialised){return}b.CONFIG.initialised=true}};b.CONFIG.Spinner=function(e,f){this.beforeShow=f;this.add=function(){return c(bamboo.components.icon({type:"loading"})).appendTo(e)}};b.CONFIG.Spinner.prototype.show=function(){var e=this.$spinner;this.beforeShow();if(!e||(e&&(!e.length||!e.parent().length))){this.$spinner=this.add()}else{e.show()}return this};b.CONFIG.Spinner.prototype.hide=function(){if(this.$spinner){this.$spinner.hide()}return this}}b.CONFIG.Stages=(function(){var f={container:{id:null,insertAfter:null,i18n:{legend:"Stages"}},selectedStages:null},m,l,h,i=function(){l=c("<fieldset/>",{id:m.container.id,"class":"group",html:h}).insertAfter(m.container.insertAfter).delegate("input:checkbox","click",j)},e=function(o){var n=false,x,q,z;for(q=0,z=o.length;q<z;q++){var s=o[q],t=!!(s.state&&s.state!="Unknown"),y=!!(s.manual),p=!!(!s.manual||t),r,v,w="stage-"+q,u;if(!n&&s.manual&&!t){n=true}v=c('<input type="checkbox" />').attr({name:"selectedStages",id:w,"class":"checkbox",checked:y,disabled:p}).val(s.name);u=c("<label />",{text:s.name,"for":w});r=c("<div/>",{"class":"checkbox"+(s.manual?(t?" already-run":" manual"):"")+(!n?" selected":"")}).append(v).append(u).appendTo(l);if(!t&&y){x=r}}if(x){x.find("input:checkbox").trigger("click",true)}},g=function(){l.find("div.checkbox,p").remove()},j=function(r,n){if(n){r.preventDefault()}var o=c(this),q=o.is(":checked"),p=false;o.closest("div.checkbox").toggleClass("selected",q).prevAll("div.checkbox").each(function(u){var t=c(this),v=t.children("input:checkbox"),s=t.hasClass("manual");if(q){t.addClass("selected");if(s){v.attr("checked","checked").attr("disabled","disabled")}}else{if(s&&!p){v.removeAttr("disabled");p=true}}}).end().nextAll("div.checkbox").each(function(t){var s=c(this);if(s.hasClass("manual")){return false}else{s.toggleClass("selected",q)}})},k;return{init:function(n){m=c.extend(true,f,n);h="<legend><span>"+m.container.i18n.legend+"</span></legend>";i();k=new b.CONFIG.Spinner(l,g)},show:function(n){l.html(h).show();e(n)},hide:function(){l.hide().html(h)},showNoStagesMsg:function(){k.hide();l.append(c("<p/>",{text:"No stages found."}))},showSpinner:function(){k.show()},updateSelectedStages:function(n){m.selectedStages=n}}})();b.CONFIG.Variables=(function(){var e={container:{id:null,insertAfter:null,i18n:{legend:"Build Variables"}},selectedVariables:null},n,l,m,i,j=function(){l=c("<fieldset/>",{id:n.container.id,"class":"group",html:i}).insertAfter(n.container.insertAfter).delegate("#override-another","click",k).delegate(".bamboo-icon-variable-delete","click",h).delegate("select","change",g)},f=function(t){var o,s,q,r;m=c("<select/>",{"class":"select"});for(q=0,r=t.length;q<r;q++){var p=t[q];if(o!=p.variableType){o=p.variableType;s=c("<optgroup/>",{label:o}).appendTo(m)}c("<option/>",{text:p.key,data:{"server-value":p.value}}).appendTo(s)}},k=function(){var p=m.clone(true),q,r,s,o="";if(arguments.length==2){r=p.find("option[text='"+arguments[0]+"']");o=arguments[1]}else{r=p.find("option:first")}r.attr("selected","selected");s=c('<input type="text" />').attr({name:"variable_"+r.val(),placeholder:r.data("server-value"),"class":"text medium-field"}).val(o);q=c("<div/>",{"class":"field-group"}).append(p).append(s).append(bamboo.components.icon({type:"variable-delete"})).insertBefore(l.children("a"))},h=function(o){c(this).closest(".field-group").remove()},g=function(q){var o=c(this),p=o.find("option:selected");o.nextAll(".text").attr({name:"variable_"+p.val(),placeholder:p.data("server-value")})};return{init:function(o){n=c.extend(true,e,o);i="<legend><span>"+n.container.i18n.legend+'</span></legend><a id="override-another" class="aui-button aui-button-link">Override variable<span class="icon icon-edit-sml"></span></a>';j()},show:function(o){f(o);if(n.selectedVariables&&n.selectedVariables.variables){c.each(n.selectedVariables.variables,k)}l.show()},hide:function(){l.hide().html(i)},updateSelectedVariables:function(o){n.selectedVariables=o}}})();b.CONFIG.BuildResults=(function(){var h={container:{id:null,insertAfter:null,i18n:{legend:"Existing build"}},selectedBuildResult:null},n,m,j,k=function(){m=c("<fieldset/>",{id:n.container.id,"class":"group",html:j}).insertAfter(n.container.insertAfter).delegate("input:radio","change",i).delegate("a","click",function(o){o.preventDefault();window.open(this.href)})},g=function(u){var s,v,q="build-result-"+u.number,o,p=(u.lifeCycleState=="Finished"?(u.continuable?"SuccessfulPartial":u.state):u.lifeCycleState),r=(u.key==n.selectedBuildResult),t=(u.stages.stage&&u.stages.stage.length?u.stages.stage:[]);v=c('<input type="radio" />').attr({name:"buildResult",id:q,"class":"radio",checked:r}).val(u.key).data("stages",t);o=c("<label />",{html:'<a href="'+b.bambooBaseURL+"/browse/"+u.key+'" class="'+p+'">#'+u.number+'</a><span class="trigger-reason">'+b.replaceWithBambooIcon(u.buildReason)+"</span>","for":q}).prepend(bamboo.components.icon({type:p}));s=c("<div/>",{"class":"radio"}).append(v).append(o).appendTo(m);if(r){f(t)}},f=function(o){if(o&&o.length){b.CONFIG.Stages.show(o)}else{b.CONFIG.Stages.showNoStagesMsg()}},e=function(){m.find("div.radio,p").remove()},i=function(o){var p=c(this).data("stages");f(p)},l;return{init:function(o){n=c.extend(true,h,o);j="<legend><span>"+n.container.i18n.legend+"</span></legend>";k();l=new b.CONFIG.Spinner(m,e)},show:function(q){m.html(j).show();if(q.length>0&&!n.selectedBuildResult){n.selectedBuildResult=q[0].key}for(var o=0,p=q.length;o<p;o++){g(q[o])}},hide:function(){m.hide().html(j)},showNoResultsMsg:function(){l.hide();m.append(c("<p/>",{text:"No builds found with unbuilt manual stages."})).show()},showSpinner:function(){l.show()},updateSelectedBuildResult:function(o){n.selectedBuildResult=o}}})();b.flagNotification=function(g,f,e){require(["aui/flag"],function(h){h({type:g,title:f,close:"manual",body:e})})};b.getNewUrlObject=function(f,h){var k=URI.parse(f);var j=URI.parseQuery(k.query);if(h&&h.length>0){for(var g=0;g<h.length;g++){delete j[h[g]];if(k.fragment){var e=new URI("?"+k.fragment);e.removeQuery(h[g]);k.fragment=e.toString().substring(1)}}}k.query=URI.buildQuery(j);return k};b.excludeParamsFromUrl=function(e,f){var g=b.getNewUrlObject(e,f);return URI.build(g)};b.getReloadUrl=function(){return b.excludeParamsFromUrl(window.location.href,["showReleaseDialog"])};b.replaceState=function(e,f){if(window.history.replaceState){var h=b.getNewUrlObject(e,f);var g=URI.build(h);window.history.replaceState(h,"",g)}};b.CheckReleaseBuildStatus=function(f,e){c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+f,dataType:"json",success:function(j){var h=j.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),g;if((h.lifeCycleState!="InProgress"&&h.lifeCycleState!="Queued")||(j.jira&&j.jira.forceRefresh)){AJS.reloadViaWindowLocation(b.getReloadUrl());return}else{if(h.lifeCycleState=="InProgress"&&h.progress){if(!e){g=c("#build-details");e=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(g).find("dd");g.find(".build + dd > span.bamboo-icon").replaceWith(bamboo.components.icon({type:i}))}else{e.html(h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(f,e)},5000)}}},error:function(m,n){var j,l,h,i,g=c("#build-details").empty();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})};b.ShowBuildReleaseDetails=function(g){var f=c("#build-details"),e=c(bamboo.components.icon({type:"loading"}));if(f.length){e.appendTo(f);c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+g,dataType:"json",success:function(m){var h=m.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),l;if(m.jira&&m.jira.forceRefresh){AJS.reloadViaWindowLocation(b.getReloadUrl());return}e.remove();var k=(h.plan.master===undefined);var j=k?h.planName:h.plan.master.shortName+" - "+h.planName;f.append(bamboo.components.buildDetail({key:"Build",keyClass:"build",value:bamboo.components.icon({type:i})+' <a class="build-link" href="'+b.bambooBaseURL+"/browse/"+g+'" title="'+j+'"><span class="'+i+'">#'+h.number+"</span> "+(k?h.planName:h.plan.master.shortName+'<span class="aui-icon aui-icon-small aui-iconfont-devtools-branch"/> '+h.planName)+"</a>"}));if(h.lifeCycleState=="InProgress"||h.lifeCycleState=="Queued"){if(h.lifeCycleState=="InProgress"&&h.progress){l=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(f).find("dd")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(g,l)},5000)}else{if(h.lifeCycleState=="Finished"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}else{if(h.lifeCycleState=="NotBuilt"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}}}if(h.artifacts.artifact&&h.artifacts.artifact.length){f.append(bamboo.components.buildDetail({key:"Artifacts",keyClass:"artifacts",value:bamboo.components.artifacts({artifacts:h.artifacts.artifact})}))}},error:function(m,n){var j,l,h,i;e.remove();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})}};b.replaceWithBambooIcon=function(e){return e.replace(/(\b)icon(\b)/g,"$1bamboo-icon$2")};b.clearReleaseErrors=function(){var e=b.restURL+"errors/"+b.jiraVersionId;c.ajax({url:e,type:"DELETE"}).done(function(f){})};b.publishAnalyticsForReleaseClicked=function(f,g,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.clicked",data:{versionId:f,overdue:g,daysRemaining:e}})};b.publishAnalyticsForReleaseDialogClicked=function(f,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.dialog.clicked",data:{versionId:f,released:e}})};b.init=function(f){b.CONFIG.init();var e=c("#runRelease",f);if(e.length){b.CONFIG.FormDialog=new JIRA.FormDialog({trigger:e,widthClass:"large",autoClose:true});a.bind("dialogContentReady",function(g,p,l){var n=AJS.$('#release-form-date-picker input[title="currentReleaseDate"]').val();var j=AJS.$('#release-form-date-picker input[title="formattedReleaseDate"]').val();var k=AJS.$('#release-form-date-picker input[title="firstDay"]').val();var o=AJS.$('#release-form-date-picker input[title="currentMillis"]').val();var i=AJS.$('#release-form-date-picker input[title="useISO8601"]').val();var h=AJS.$('#release-form-date-picker input[title="dateFormat"]').val();var m=AJS.$("#release-form-release-date-field")[0];d.setup({singleClick:true,align:"Bl",firstDay:k,button:AJS.$("#release-form-release-date-trigger")[0],inputField:m,currentMillis:o,useISO8601WeekNumbers:i,ifFormat:h});if(typeof j==="string"&&j.length>0){m.value=j}});if(e.attr("href").indexOf("redirectUrlOnSuccess")===-1){e.attr("href",e.attr("href")+"&redirectUrlOnSuccess="+URI.encode(b.getReloadUrl()))}if(/showReleaseDialog=true/.test(window.location.href)){b.replaceState(window.location.href,["showReleaseDialog"]);e.click()}}};c(function(){b.init(AJS.$(document))});JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(h,f,g){if(g===JIRA.CONTENT_ADDED_REASON.tabUpdated){b.init(f)}})}(AJS.$,window.JBAM=(window.JBAM||{}),Calendar));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/uri/URI.js' */
/*! URI.js v1.14.1 http://medialize.github.io/URI.js/ */
(function(b,a){"object"===typeof exports?module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b)})(this,function(R,o,K,S){function U(e,d){if(!(this instanceof U)){return new U(e,d)}void 0===e&&(e="undefined"!==typeof location?location.href+"":"");this.href(e);return void 0!==d?this.absoluteTo(d):this}function N(d){return d.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(d){return void 0===d?"Undefined":String(Object.prototype.toString.call(d)).slice(8,-1)}function T(d){return"Array"===g(d)}function i(l,d){var q,p;if(T(d)){q=0;for(p=d.length;q<p;q++){if(!i(l,d[q])){return !1}}return !0}var m=g(d);q=0;for(p=l.length;q<p;q++){if("RegExp"===m){if("string"===typeof l[q]&&l[q].match(d)){return !0}}else{if(l[q]===d){return !0}}}return !1}function Q(l,d){if(!T(l)||!T(d)||l.length!==d.length){return !1}l.sort();d.sort();for(var p=0,m=l.length;p<m;p++){if(l[p]!==d[p]){return !1}}return !0}function s(d){return escape(d)}function c(d){return encodeURIComponent(d).replace(/[!'()*]/g,s).replace(/\*/g,"%2A")}function k(d){return function(e,l){if(void 0===e){return this._parts[d]||""}this._parts[d]=e||null;this.build(!l);return this}}function O(e,d){return function(m,l){if(void 0===m){return this._parts[e]||""}null!==m&&(m+="",m.charAt(0)===d&&(m=m.substring(1)));this._parts[e]=m;this.build(!l);return this}}var n=S&&S.URI;U.version="1.14.1";var V=U.prototype,P=Object.prototype.hasOwnProperty;U._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:U.duplicateQueryParameters,escapeQuerySpace:U.escapeQuerySpace}};U.duplicateQueryParameters=!1;U.escapeQuerySpace=!0;U.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;U.idn_expression=/[^a-z0-9\.-]/i;U.punycode_expression=/(xn--)/i;U.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;U.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;U.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;U.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};U.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};U.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;U.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};U.getDomAttribute=function(e){if(e&&e.nodeName){var d=e.nodeName.toLowerCase();return"input"===d&&"image"!==e.type?void 0:U.domAttributes[d]}};U.encode=c;U.decode=decodeURIComponent;U.iso8859=function(){U.encode=escape;U.decode=unescape};U.unicode=function(){U.encode=c;U.decode=decodeURIComponent};U.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};U.encodeQuery=function(e,d){var l=U.encode(e+"");void 0===d&&(d=U.escapeQuerySpace);return d?l.replace(/%20/g,"+"):l};U.decodeQuery=function(e,d){e+="";void 0===d&&(d=U.escapeQuerySpace);try{return U.decode(d?e.replace(/\+/g,"%20"):e)}catch(l){return e}};U.recodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.encodePathSegment(U.decode(e[d]))}return e.join("/")};U.decodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.decodePathSegment(e[d])}return e.join("/")};var M={encode:"encode",decode:"decode"},a,L=function(e,d){return function(m){try{return U[d](m+"").replace(U.characters[e][d].expression,function(p){return U.characters[e][d].map[p]})}catch(l){return m}}};for(a in M){U[a+"PathSegment"]=L("pathname",M[a])}U.encodeReserved=L("reserved","encode");U.parse=function(e,d){var l;d||(d={});l=e.indexOf("#");-1<l&&(d.fragment=e.substring(l+1)||null,e=e.substring(0,l));l=e.indexOf("?");-1<l&&(d.query=e.substring(l+1)||null,e=e.substring(0,l));"//"===e.substring(0,2)?(d.protocol=null,e=e.substring(2),e=U.parseAuthority(e,d)):(l=e.indexOf(":"),-1<l&&(d.protocol=e.substring(0,l)||null,d.protocol&&!d.protocol.match(U.protocol_expression)?d.protocol=void 0:"//"===e.substring(l+1,l+3)?(e=e.substring(l+3),e=U.parseAuthority(e,d)):(e=e.substring(l+1),d.urn=!0)));d.path=e;return d};U.parseHost=function(l,d){var p=l.indexOf("/"),m;-1===p&&(p=l.length);"["===l.charAt(0)?(m=l.indexOf("]"),d.hostname=l.substring(1,m)||null,d.port=l.substring(m+2,p)||null,"/"===d.port&&(d.port=null)):l.indexOf(":")!==l.lastIndexOf(":")?(d.hostname=l.substring(0,p)||null,d.port=null):(m=l.substring(0,p).split(":"),d.hostname=m[0]||null,d.port=m[1]||null);d.hostname&&"/"!==l.substring(p).charAt(0)&&(p++,l="/"+l);return l.substring(p)||"/"};U.parseAuthority=function(e,d){e=U.parseUserinfo(e,d);return U.parseHost(e,d)};U.parseUserinfo=function(e,d){var m=e.indexOf("/"),l=e.lastIndexOf("@",-1<m?m:e.length-1);-1<l&&(-1===m||l<m)?(m=e.substring(0,l).split(":"),d.username=m[0]?U.decode(m[0]):null,m.shift(),d.password=m[0]?U.decode(m.join(":")):null,e=e.substring(l+1)):(d.username=null,d.password=null);return e};U.parseQuery=function(l,e){if(!l){return{}}l=l.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!l){return{}}for(var u={},q=l.split("&"),p=q.length,r,m,t=0;t<p;t++){r=q[t].split("="),m=U.decodeQuery(r.shift(),e),r=r.length?U.decodeQuery(r.join("="),e):null,P.call(u,m)?("string"===typeof u[m]&&(u[m]=[u[m]]),u[m].push(r)):u[m]=r}return u};U.build=function(e){var d="";e.protocol&&(d+=e.protocol+":");e.urn||!d&&!e.hostname||(d+="//");d+=U.buildAuthority(e)||"";"string"===typeof e.path&&("/"!==e.path.charAt(0)&&"string"===typeof e.hostname&&(d+="/"),d+=e.path);"string"===typeof e.query&&e.query&&(d+="?"+e.query);"string"===typeof e.fragment&&e.fragment&&(d+="#"+e.fragment);return d};U.buildHost=function(e){var d="";if(e.hostname){d=U.ip6_expression.test(e.hostname)?d+("["+e.hostname+"]"):d+e.hostname}else{return""}e.port&&(d+=":"+e.port);return d};U.buildAuthority=function(d){return U.buildUserinfo(d)+U.buildHost(d)};U.buildUserinfo=function(e){var d="";e.username&&(d+=U.encode(e.username),e.password&&(d+=":"+U.encode(e.password)),d+="@");return d};U.buildQuery=function(l,e,u){var q="",p,r,m,t;for(r in l){if(P.call(l,r)&&r){if(T(l[r])){for(p={},m=0,t=l[r].length;m<t;m++){void 0!==l[r][m]&&void 0===p[l[r][m]+""]&&(q+="&"+U.buildQueryParameter(r,l[r][m],u),!0!==e&&(p[l[r][m]+""]=!0))}}else{void 0!==l[r]&&(q+="&"+U.buildQueryParameter(r,l[r],u))}}}return q.substring(1)};U.buildQueryParameter=function(e,d,l){return U.encodeQuery(e,l)+(null!==d?"="+U.encodeQuery(d,l):"")};U.addQuery=function(e,d,m){if("object"===typeof d){for(var l in d){P.call(d,l)&&U.addQuery(e,l,d[l])}}else{if("string"===typeof d){void 0===e[d]?e[d]=m:("string"===typeof e[d]&&(e[d]=[e[d]]),T(m)||(m=[m]),e[d]=(e[d]||[]).concat(m))}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}};U.removeQuery=function(l,e,t){var q;if(T(e)){for(t=0,q=e.length;t<q;t++){l[e[t]]=void 0}}else{if("object"===typeof e){for(q in e){P.call(e,q)&&U.removeQuery(l,q,e[q])}}else{if("string"===typeof e){if(void 0!==t){if(l[e]===t){l[e]=void 0}else{if(T(l[e])){q=l[e];var r={},p,m;if(T(t)){for(p=0,m=t.length;p<m;p++){r[t[p]]=!0}}else{r[t]=!0}p=0;for(m=q.length;p<m;p++){void 0!==r[q[p]]&&(q.splice(p,1),m--,p--)}l[e]=q}}}else{l[e]=void 0}}else{throw new TypeError("URI.removeQuery() accepts an object, string as the first parameter")}}}};U.hasQuery=function(l,e,q,m){if("object"===typeof e){for(var p in e){if(P.call(e,p)&&!U.hasQuery(l,p,e[p])){return !1}}return !0}if("string"!==typeof e){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter")}switch(g(q)){case"Undefined":return e in l;case"Boolean":return l=Boolean(T(l[e])?l[e].length:l[e]),q===l;case"Function":return !!q(l[e],e,l);case"Array":return T(l[e])?(m?i:Q)(l[e],q):!1;case"RegExp":return T(l[e])?m?i(l[e],q):!1:Boolean(l[e]&&l[e].match(q));case"Number":q=String(q);case"String":return T(l[e])?m?i(l[e],q):!1:l[e]===q;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};U.commonPath=function(l,d){var p=Math.min(l.length,d.length),m;for(m=0;m<p;m++){if(l.charAt(m)!==d.charAt(m)){m--;break}}if(1>m){return l.charAt(0)===d.charAt(0)&&"/"===l.charAt(0)?"/":""}if("/"!==l.charAt(m)||"/"!==d.charAt(m)){m=l.substring(0,m).lastIndexOf("/")}return l.substring(0,m+1)};U.withinString=function(y,x,w){w||(w={});var u=w.start||U.findUri.start,v=w.end||U.findUri.end,t=w.trim||U.findUri.trim,r=/[a-z0-9-]=["']?$/i;for(u.lastIndex=0;;){var e=u.exec(y);if(!e){break}e=e.index;if(w.ignoreHtml){var q=y.slice(Math.max(e-3,0),e);if(q&&r.test(q)){continue}}var q=e+y.slice(e).search(v),p=y.slice(e,q).replace(t,"");w.ignore&&w.ignore.test(p)||(q=e+p.length,p=x(p,e,q,y),y=y.slice(0,e)+p+y.slice(q),u.lastIndex=e+p.length)}u.lastIndex=0;return y};U.ensureValidHostname=function(d){if(d.match(U.invalid_hostname_characters)){if(!R){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available')}if(R.toASCII(d).match(U.invalid_hostname_characters)){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-]')}}};U.noConflict=function(d){if(d){return d={URI:this.noConflict()},S.URITemplate&&"function"===typeof S.URITemplate.noConflict&&(d.URITemplate=S.URITemplate.noConflict()),S.IPv6&&"function"===typeof S.IPv6.noConflict&&(d.IPv6=S.IPv6.noConflict()),S.SecondLevelDomains&&"function"===typeof S.SecondLevelDomains.noConflict&&(d.SecondLevelDomains=S.SecondLevelDomains.noConflict()),d}S.URI===this&&(S.URI=n);return this};V.build=function(d){if(!0===d){this._deferred_build=!0}else{if(void 0===d||this._deferred_build){this._string=U.build(this._parts),this._deferred_build=!1}}return this};V.clone=function(){return new U(this)};V.valueOf=V.toString=function(){return this.build(!1)._string};V.protocol=k("protocol");V.username=k("username");V.password=k("password");V.hostname=k("hostname");V.port=k("port");V.query=O("query","?");V.fragment=O("fragment","#");V.search=function(e,d){var l=this.query(e,d);return"string"===typeof l&&l.length?"?"+l:l};V.hash=function(e,d){var l=this.fragment(e,d);return"string"===typeof l&&l.length?"#"+l:l};V.pathname=function(e,d){if(void 0===e||!0===e){var l=this._parts.path||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}this._parts.path=e?U.recodePath(e):"/";this.build(!d);return this};V.path=V.pathname;V.href=function(l,e){var q;if(void 0===l){return this.toString()}this._string="";this._parts=U._parts();var m=l instanceof U,p="object"===typeof l&&(l.hostname||l.path||l.pathname);l.nodeName&&(p=U.getDomAttribute(l),l=l[p]||"",p=!1);!m&&p&&void 0!==l.pathname&&(l=l.toString());if("string"===typeof l||l instanceof String){this._parts=U.parse(String(l),this._parts)}else{if(m||p){for(q in m=m?l._parts:l,m){P.call(this._parts,q)&&(this._parts[q]=m[q])}}else{throw new TypeError("invalid input")}}this.build(!e);return this};V.is=function(x){var w=!1,v=!1,t=!1,u=!1,r=!1,q=!1,p=!1,e=!this._parts.urn;this._parts.hostname&&(e=!1,v=U.ip4_expression.test(this._parts.hostname),t=U.ip6_expression.test(this._parts.hostname),w=v||t,r=(u=!w)&&K&&K.has(this._parts.hostname),q=u&&U.idn_expression.test(this._parts.hostname),p=u&&U.punycode_expression.test(this._parts.hostname));switch(x.toLowerCase()){case"relative":return e;case"absolute":return !e;case"domain":case"name":return u;case"sld":return r;case"ip":return w;case"ip4":case"ipv4":case"inet4":return v;case"ip6":case"ipv6":case"inet6":return t;case"idn":return q;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return p}return null};var j=V.protocol,h=V.port,f=V.hostname;V.protocol=function(e,d){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(U.protocol_expression))){throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return j.call(this,e,d)};V.scheme=V.protocol;V.port=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/)))){throw new TypeError('Port "'+e+'" contains characters other than [0-9]')}return h.call(this,e,d)};V.hostname=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e){var l={};U.parseHost(e,l);e=l.hostname}return f.call(this,e,d)};V.host=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildHost(this._parts):""}U.parseHost(e,this._parts);this.build(!d);return this};V.authority=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildAuthority(this._parts):""}U.parseAuthority(e,this._parts);this.build(!d);return this};V.userinfo=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.username){return""}var l=U.buildUserinfo(this._parts);return l.substring(0,l.length-1)}"@"!==e[e.length-1]&&(e+="@");U.parseUserinfo(e,this._parts);this.build(!d);return this};V.resource=function(e,d){var l;if(void 0===e){return this.path()+this.search()+this.hash()}l=U.parse(e);this._parts.path=l.path;this._parts.query=l.query;this._parts.fragment=l.fragment;this.build(!d);return this};V.subdomain=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,l)||""}l=this._parts.hostname.length-this.domain().length;l=this._parts.hostname.substring(0,l);l=new RegExp("^"+N(l));e&&"."!==e.charAt(e.length-1)&&(e+=".");e&&U.ensureValidHostname(e);this._parts.hostname=this._parts.hostname.replace(l,e);this.build(!d);return this};V.domain=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.match(/\./g);if(l&&2>l.length){return this._parts.hostname}l=this._parts.hostname.length-this.tld(d).length-1;l=this._parts.hostname.lastIndexOf(".",l-1)+1;return this._parts.hostname.substring(l)||""}if(!e){throw new TypeError("cannot set domain empty")}U.ensureValidHostname(e);!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(l=new RegExp(N(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e));this.build(!d);return this};V.tld=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.lastIndexOf("."),l=this._parts.hostname.substring(l+1);return !0!==d&&K&&K.list[l.toLowerCase()]?K.get(this._parts.hostname)||l:l}if(e){if(e.match(/[^a-zA-Z0-9-]/)){if(K&&K.is(e)){l=new RegExp(N(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e)}else{throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]')}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host")}l=new RegExp(N(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(l,e)}}else{throw new TypeError("cannot set TLD empty")}this.build(!d);return this};V.directory=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname){return""}if("/"===this._parts.path){return"/"}var l=this._parts.path.length-this.filename().length-1,l=this._parts.path.substring(0,l)||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}l=this._parts.path.length-this.filename().length;l=this._parts.path.substring(0,l);l=new RegExp("^"+N(l));this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e));e&&"/"!==e.charAt(e.length-1)&&(e+="/");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);this.build(!d);return this};V.filename=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this._parts.path.lastIndexOf("/"),m=this._parts.path.substring(m+1);return e?U.decodePathSegment(m):m}m=!1;"/"===e.charAt(0)&&(e=e.substring(1));e.match(/\.?\//)&&(m=!0);var l=new RegExp(N(this.filename())+"$");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);m?this.normalizePath(d):this.build(!d);return this};V.suffix=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this.filename(),l=m.lastIndexOf(".");if(-1===l){return""}m=m.substring(l+1);m=/^[a-z0-9%]+$/i.test(m)?m:"";return e?U.decodePathSegment(m):m}"."===e.charAt(0)&&(e=e.substring(1));if(m=this.suffix()){l=e?new RegExp(N(m)+"$"):new RegExp(N("."+m)+"$")}else{if(!e){return this}this._parts.path+="."+U.recodePath(e)}l&&(e=U.recodePath(e),this._parts.path=this._parts.path.replace(l,e));this.build(!d);return this};V.segment=function(m,l,u){var r=this._parts.urn?":":"/",t=this.path(),q="/"===t.substring(0,1),t=t.split(r);void 0!==m&&"number"!==typeof m&&(u=l,l=m,m=void 0);if(void 0!==m&&"number"!==typeof m){throw Error('Bad segment "'+m+'", must be 0-based integer')}q&&t.shift();0>m&&(m=Math.max(t.length+m,0));if(void 0===l){return void 0===m?t:t[m]}if(null===m||void 0===t[m]){if(T(l)){t=[];m=0;for(var p=l.length;m<p;m++){if(l[m].length||t.length&&t[t.length-1].length){t.length&&!t[t.length-1].length&&t.pop(),t.push(l[m])}}}else{if(l||"string"===typeof l){""===t[t.length-1]?t[t.length-1]=l:t.push(l)}}}else{l?t[m]=l:t.splice(m,1)}q&&t.unshift("");return this.path(t.join(r),u)};V.segmentCoded=function(l,e,q){var p,m;"number"!==typeof l&&(q=e,e=l,l=void 0);if(void 0===e){l=this.segment(l,e,q);if(T(l)){for(p=0,m=l.length;p<m;p++){l[p]=U.decode(l[p])}}else{l=void 0!==l?U.decode(l):void 0}return l}if(T(e)){for(p=0,m=e.length;p<m;p++){e[p]=U.decode(e[p])}}else{e="string"===typeof e||e instanceof String?U.encode(e):e}return this.segment(l,e,q)};var b=V.query;V.query=function(l,e){if(!0===l){return U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)}if("function"===typeof l){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace),m=l.call(this,p);this._parts.query=U.buildQuery(m||p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!e);return this}return void 0!==l&&"string"!==typeof l?(this._parts.query=U.buildQuery(l,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):b.call(this,l,e)};V.setQuery=function(l,e,q){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof l||l instanceof String){p[l]=void 0!==e?e:null}else{if("object"===typeof l){for(var m in l){P.call(l,m)&&(p[m]=l[m])}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}this._parts.query=U.buildQuery(p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(q=e);this.build(!q);return this};V.addQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.addQuery(m,l,void 0===e?null:e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.removeQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.removeQuery(m,l,e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.hasQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return U.hasQuery(m,l,e,p)};V.setSearch=V.setQuery;V.addSearch=V.addQuery;V.removeSearch=V.removeQuery;V.hasSearch=V.hasQuery;V.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};V.normalizeProtocol=function(d){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!d));return this};V.normalizeHostname=function(d){this._parts.hostname&&(this.is("IDN")&&R?this._parts.hostname=R.toASCII(this._parts.hostname):this.is("IPv6")&&o&&(this._parts.hostname=o.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!d));return this};V.normalizePort=function(d){"string"===typeof this._parts.protocol&&this._parts.port===U.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!d));return this};V.normalizePath=function(l){if(this._parts.urn||!this._parts.path||"/"===this._parts.path){return this}var e,r=this._parts.path,q="",m,p;"/"!==r.charAt(0)&&(e=!0,r="/"+r);r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");e&&(q=r.substring(1).match(/^(\.\.\/)+/)||"")&&(q=q[0]);for(;;){m=r.indexOf("/..");if(-1===m){break}else{if(0===m){r=r.substring(3);continue}}p=r.substring(0,m).lastIndexOf("/");-1===p&&(p=m);r=r.substring(0,p)+r.substring(m+3)}e&&this.is("relative")&&(r=q+r.substring(1));r=U.recodePath(r);this._parts.path=r;this.build(!l);return this};V.normalizePathname=V.normalizePath;V.normalizeQuery=function(d){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!d));return this};V.normalizeFragment=function(d){this._parts.fragment||(this._parts.fragment=null,this.build(!d));return this};V.normalizeSearch=V.normalizeQuery;V.normalizeHash=V.normalizeFragment;V.iso8859=function(){var e=U.encode,d=U.decode;U.encode=escape;U.decode=decodeURIComponent;this.normalize();U.encode=e;U.decode=d;return this};V.unicode=function(){var e=U.encode,d=U.decode;U.encode=c;U.decode=unescape;this.normalize();U.encode=e;U.decode=d;return this};V.readable=function(){var l=this.clone();l.username("").password("").normalize();var e="";l._parts.protocol&&(e+=l._parts.protocol+"://");l._parts.hostname&&(l.is("punycode")&&R?(e+=R.toUnicode(l._parts.hostname),l._parts.port&&(e+=":"+l._parts.port)):e+=l.host());l._parts.hostname&&l._parts.path&&"/"!==l._parts.path.charAt(0)&&(e+="/");e+=l.path(!0);if(l._parts.query){for(var t="",r=0,p=l._parts.query.split("&"),q=p.length;r<q;r++){var m=(p[r]||"").split("="),t=t+("&"+U.decodeQuery(m[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==m[1]&&(t+="="+U.decodeQuery(m[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}e+="?"+t.substring(1)}return e+=U.decodeQuery(l.hash(),!0)};V.absoluteTo=function(l){var e=this.clone(),q=["protocol","username","password","hostname","port"],p,m;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l instanceof U||(l=new U(l));e._parts.protocol||(e._parts.protocol=l._parts.protocol);if(this._parts.hostname){return e}for(p=0;m=q[p];p++){e._parts[m]=l._parts[m]}e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=l._parts.path,e._parts.query||(e._parts.query=l._parts.query));"/"!==e.path().charAt(0)&&(l=l.directory(),e._parts.path=(l?l+"/":"")+e._parts.path,e.normalizePath());e.build();return e};V.relativeTo=function(l){var e=this.clone().normalize(),r,q,m,p;if(e._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l=(new U(l)).normalize();r=e._parts;q=l._parts;m=e.path();p=l.path();if("/"!==m.charAt(0)){throw Error("URI is already relative")}if("/"!==p.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI")}r.protocol===q.protocol&&(r.protocol=null);if(r.username===q.username&&r.password===q.password&&null===r.protocol&&null===r.username&&null===r.password&&r.hostname===q.hostname&&r.port===q.port){r.hostname=null,r.port=null}else{return e.build()}if(m===p){return r.path="",e.build()}l=U.commonPath(e.path(),l.path());if(!l){return e.build()}q=q.path.substring(l.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");r.path=q+r.path.substring(l.length);return e.build()};V.equals=function(l){var e=this.clone();l=new U(l);var r={},q={},m={},p;e.normalize();l.normalize();if(e.toString()===l.toString()){return !0}r=e.query();q=l.query();e.query("");l.query("");if(e.toString()!==l.toString()||r.length!==q.length){return !1}r=U.parseQuery(r,this._parts.escapeQuerySpace);q=U.parseQuery(q,this._parts.escapeQuerySpace);for(p in r){if(P.call(r,p)){if(!T(r[p])){if(r[p]!==q[p]){return !1}}else{if(!Q(r[p],q[p])){return !1}}m[p]=!0}}for(p in q){if(P.call(q,p)&&!m[p]){return !1}}return !0};V.duplicateQueryParameters=function(d){this._parts.duplicateQueryParameters=!!d;return this};V.escapeQuerySpace=function(d){this._parts.escapeQuerySpace=!!d;return this};return U});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:brace-resources', location = '/templates/plugins/bamboo/script/backbone-brace/backbone.brace.min.js' */
//     Backbone Brace - 2012/10/29
//     Copyright 2012 Atlassian Software Systems Pty Ltd
//     Licensed under the Apache License, Version 2.0
define('jira/bamboo-plugin/brace', ['underscore', 'backbone'], function(_, Backbone){function i(e){return n.isArray(e)?n.reduce(e,function(e,t){return e[t]=null,e},{}):e}function s(e,t){if(!e||t==null)return t;if(typeof e=="string"||e instanceof String){if(typeof t!=""+e)throw"The typeof "+t+" is "+typeof t+" but expected it to be "+e;return t}if(n.isArray(e)||e===Array){if(!u(t))throw"Array type expected, but nonnull, non-Array value provided.";return e===Array||!e[0]?t:n.map(t,n.bind(s,null,e[0]))}if(typeof e!="function")throw"Invalid expected type "+e+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return t instanceof e?t:o(e)?new e(s([e.model],t)):new e(t)}function o(e,t){return e&&(e.__super__ instanceof(t||r.Collection)||e.__super__===(t||r.Collection).prototype||e===(t||r.Collection))}function u(e){return n.has(e,"length")&&!(e instanceof String||n.has({string:1,"function":1},typeof e)||e instanceof r.Collection)}function a(e,t){var r={};return n.each(e,function(e,n){if(!!t[n]&&!f(e,t[n])){if(!e||f(t[n],e))return;throw n+" has conflicted type descriptors."}r[n]=e}),r}function f(e,t){return!t||t===e?!0:!e||typeof e=="string"?!1:e instanceof Array?t===Array||t instanceof Array&&f(e[0],t[0]):typeof t!="function"?!1:o(t)?o(e,t):e.prototype instanceof t}function l(e){return n.isObject(e)?n.reduce(e,function(e,t,r){return t&&n.isFunction(t.toJSON)?e[r]=t.toJSON():n.isArray(t)&&(e[r]=n.map(t,function(e){return e&&n.isFunction(e.toJSON)?e.toJSON():e})),e},e):e}function c(e){return function(){var n=e.call(this);return l(n)}}function h(e){return function r(s,o){var u,a=n.extend({},s),f;return s&&s.mixins&&(f=s.mixins,delete a.mixins),u=e.call(this,a,o),this.prototype.namedEvents&&t.Mixins.applyMixin(u,{namedEvents:this.prototype.namedEvents}),this.prototype.namedAttributes&&t.Mixins.applyMixin(u,{namedAttributes:this.prototype.namedAttributes}),f&&n.each(s.mixins,function(e){t.Mixins.applyMixin(u,e)}),u.prototype.namedEvents&&t.Mixins.applyMixin(u,t.EventsMixinCreator.create(u.prototype.namedEvents)),u.prototype.namedAttributes&&(u.prototype.namedAttributes=i(u.prototype.namedAttributes),t.Mixins.applyMixin(u,t.AttributesMixinCreator.create(u.prototype.namedAttributes))),u.prototype.toJSON&&(u.prototype.toJSON=c(u.prototype.toJSON)),u.extend=r,u}}function p(e,t){var r=e.prototype,i=t.prototype,o=r.set;i.set=function(e,t,r){var i,u=this.namedAttributes;if(!u||e==null)return o.apply(this,arguments);n.isObject(e)?(i=n.clone(e),r=t):(i={},i[e]=t);for(var a in i){if(!n.has(i,a))continue;if(!n.has(u,a))throw"Attribute '"+a+"' does not exist";i[a]=s(u[a],i[a])}return o.call(this,i,r)};var u=r.get;i.get=function(e){if(this.namedAttributes&&!n.has(this.namedAttributes,e))throw"Attribute '"+e+"' does not exist";return u.apply(this,arguments)}}function d(e){var t=e.extend(),n=e.extend;return t.extend=h(n),t}function v(e){var t=d(e);return p(e,t),t}var e=this,t;typeof exports!="undefined"?t=exports:t=e.Brace={};var n=_;!n&&typeof require!="undefined"&&(n=require("underscore"));var r=Backbone;!r&&typeof require!="undefined"&&(r=require("backbone")),t.Mixins={createMethodName:function(e,t){return e+t.charAt(0).toUpperCase()+t.substr(1)},applyMixin:function(e,t){n.forEach(n.keys(t),function(r){var s=e.prototype;if("initialize"===r){var o=s.initialize;s.initialize=function(){o&&o.apply(this,arguments),t.initialize.apply(this,arguments)};return}if("validate"===r){var u=s.validate;s.validate=function(){if(u){var e=u.apply(this,arguments);if(e)return e}return t.validate.apply(this,arguments)};return}if("defaults"===r){var f=s.defaults||(s.defaults={}),l=t[r];for(var c in l){if(f.hasOwnProperty(c))throw"Mixin error: class already has default '"+c+"' defined";f[c]=l[c]}return}if("namedAttributes"===r){var h=i(s.namedAttributes)||{},p=i(t[r]);s.namedAttributes=n.extend(h,a(p,h));return}if("namedEvents"===r){if(!n.isArray(t[r]))throw"Expects events member on mixin to be an array";s.namedEvents||(s.namedEvents=[]),s.namedEvents=n.uniq(s.namedEvents.concat(t[r]));return}if(s.hasOwnProperty(r))throw"Mixin error: class already has property '"+r+"' defined";s[r]=t[r]},this)}},t.AttributesMixinCreator={create:function(e){var r={};return e||(e={}),n.has(e,"id")||(e.id=null),n.each(e,function(e,n){var i=t.Mixins.createMethodName("set",n);r[i]=function(e,t){return this.set(n,e,t)};var s=t.Mixins.createMethodName("get",n);r[s]=function(){return this.get(n)}}),r},ensureType:s},t.EventsMixinCreator={create:function(e){var r={},i=function(e){var i=t.Mixins.createMethodName("on",e);r[i]=function(){return this.on.apply(this,[e].concat(n.toArray(arguments)))};var s=t.Mixins.createMethodName("trigger",e);r[s]=function(){return this.trigger.apply(this,[e].concat(n.toArray(arguments)))}};return n.each(e,n.bind(i,this)),r}},t.Model=v(r.Model),t.Collection=d(r.Collection),t.View=d(r.View),t.Router=d(r.Router);return t;});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/script/deployments.js' */
require(["jquery","underscore","jira/bamboo-plugin/brace"],function(d,a,c){window.JBAM_DEPLOYMENT=(window.JBAM_DEPLOYMENT||{});JBAM_DEPLOYMENT.Model={};JBAM_DEPLOYMENT.Model.DeploymentProject=c.Model.extend({namedAttributes:{name:"string",bambooId:"number",url:"string",environmentCount:"number",upToDateEnvironmentCount:"number",applinkId:"string"}});JBAM_DEPLOYMENT.Model.Version=c.Model.extend({namedAttributes:{name:"string",id:"number",url:"string"}});JBAM_DEPLOYMENT.Model.Environment=c.Model.extend({namedAttributes:{name:"string",id:"number",issueStatus:"string",statusOk:"boolean",url:"string",version:JBAM_DEPLOYMENT.Model.Version}});JBAM_DEPLOYMENT.Model.IssueDeploymentStatus=c.Model.extend({fetchUrl:"",namedAttributes:{deploymentProject:JBAM_DEPLOYMENT.Model.DeploymentProject,versions:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.Version}),environments:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.Environment})},url:function(){return this.fetchUrl},initialize:function(f,e){this.fetchUrl=e.fetchUrl}});JBAM_DEPLOYMENT.Model.ErrorMessage=c.Model.extend({namedAttributes:{message:"string",messageBody:"string"}});JBAM_DEPLOYMENT.Model.OauthCallback=c.Model.extend({namedAttributes:{oauthCallback:"string",serverName:"string"}});JBAM_DEPLOYMENT.Model.RelatedDeploymentProjects=c.Model.extend({fetchUrl:"",namedAttributes:{deploymentProjects:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.DeploymentProject}),errorMessages:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.ErrorMessage}),oauthCallbacks:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.OauthCallback})},url:function(){return this.fetchUrl},initialize:function(f,e){this.fetchUrl=e.fetchUrl}});JBAM_DEPLOYMENT.IssueDeploymentStatus={};JBAM_DEPLOYMENT.IssueDeploymentStatus.View=c.View.extend({oAuthDanceReturnUrl:"",initialize:function(e){this.options.bootstrap=e.bootstrap||[];this.oAuthDanceReturnUrl=e.oAuthDanceReturnUrl||"";this.model=new JBAM_DEPLOYMENT.Model.IssueDeploymentStatus(this.options.bootstrap,{fetchUrl:e.fetchUrl});this.update()},render:function(){this.$el.html(bamboo.deployments.issueDetailsDialogContent({data:this.model.toJSON()}));return this},update:function(){return this.model.fetch({cache:false}).done(a.bind(this.render,this)).fail(a.bind(this.removeSpinner,this)).fail(a.bind(this.clearError,this)).fail(a.bind(this.displayError,this))},displayError:function(e,g,f){b(e,g,f,this.$el)},clearError:function(){this.$el.children(".aui-message").remove()},removeSpinner:function(){this.$el.children(".bamboo-icon-loading").remove()}});JBAM_DEPLOYMENT.RelatedDeploymentProjects={};JBAM_DEPLOYMENT.RelatedDeploymentProjects.PopupDialog=JBAM_DEPLOYMENT.RelatedDeploymentProjects.PopupDialog||new JIRA.FormDialog({trigger:".bamboo-deployments-details-link",width:640,autoClose:true});JBAM_DEPLOYMENT.RelatedDeploymentProjects.View=c.View.extend({initialize:function(e){this.options.bootstrap=e.bootstrap||[];this.oAuthDanceReturnUrl=e.oAuthDanceReturnUrl||"";this.issueId=e.issueId||"";this.selector=e.el;this.model=new JBAM_DEPLOYMENT.Model.RelatedDeploymentProjects(this.options.bootstrap,{fetchUrl:e.fetchUrl});this.update()},render:function(){d(this.selector).html(bamboo.deployments.issuePanelContent({data:this.model.toJSON(),issueId:this.issueId,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}));return this.showPanelIfNotEmpty()},showPanelIfNotEmpty:function(){if(!d(this.selector).is(":empty")){d("#bamboo-deployment-projects-right").show()}else{d("#bamboo-deployment-projects-right").hide()}return this},update:function(){return this.model.fetch({cache:false}).done(a.bind(this.render,this)).fail(a.bind(this.displayError,this))},displayError:function(e,g,f){d(this.selector).children(".aui-message").remove();b(e,g,f,d(this.selector))}});function b(i,m,k,h){var g,l,f;try{f=i.responseText||i.response;if(f){g=d.parseJSON(f);h.append(bamboo.components.errorResponseMessage({errorMessage:g,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}))}else{l="Unknown error: no response from server"}}catch(j){l="An error occurred while trying to retrieve the deployment project information."}if(l){AJS.messages.warning(h,{title:l,closeable:false})}d("#bamboo-deployment-projects-right").show()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/deployments/deployments.soy' */
// This file was automatically generated from deployments.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.deployments.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.deployments == 'undefined') { bamboo.deployments = {}; }


bamboo.deployments.issueDetailsDialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Issue deployment details') + '</h2><div id=\'bamboo-deployments-issue-status-container\'><span class="bamboo-icon bamboo-icon-loading" title="loading"><span> </span></span></div><script>new JBAM_DEPLOYMENT.IssueDeploymentStatus.View({el: \'#bamboo-deployments-issue-status-container\', fetchUrl: \'' + soy.$$escapeHtml("" + '/rest/bamboo/latest/deploy/' + opt_data.issueKey + '/' + opt_data.applinkId + '/' + opt_data.deploymentProjectId) + '\', oAuthDanceReturnUrl: \'' + soy.$$escapeHtml(opt_data.returnUrl) + '\'});<\/script>';
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialog.soyTemplateName = 'bamboo.deployments.issueDetailsDialog';
}


bamboo.deployments.issuePanelContent = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.data.deploymentProjects) {
    output += '<ul class=\'property-list\'>';
    var deploymentProjectList14 = opt_data.data.deploymentProjects;
    var deploymentProjectListLen14 = deploymentProjectList14.length;
    for (var deploymentProjectIndex14 = 0; deploymentProjectIndex14 < deploymentProjectListLen14; deploymentProjectIndex14++) {
      var deploymentProjectData14 = deploymentProjectList14[deploymentProjectIndex14];
      output += '<li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml(deploymentProjectData14.name) + '</strong><span class=\'value\'>' + ((deploymentProjectData14.environmentCount == 0) ? '<span class="aui-icon aui-icon-info"> </span> ' + soy.$$escapeHtml('No environments defined') : (deploymentProjectData14.upToDateEnvironmentCount == 0) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml('None of the environments have all related commits.') : (deploymentProjectData14.environmentCount > deploymentProjectData14.upToDateEnvironmentCount) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml(AJS.format('{0} of {1} environments don\x27\x27t have all related commits.',deploymentProjectData14.environmentCount - deploymentProjectData14.upToDateEnvironmentCount,deploymentProjectData14.environmentCount)) : '<span class="aui-icon aui-icon-success"> </span> ' + soy.$$escapeHtml('All environments have all related commits.')) + ' <a id="bamboo-deployment-details_' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '" class="bamboo-deployments-details-link" href="' + soy.$$escapeHtml("") + '/secure/ViewIssueDeploymentStatus.jspa?id=' + soy.$$escapeHtml(opt_data.issueId) + '&deploymentProjectId=' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '&applicationLinkId=' + soy.$$escapeHtml(deploymentProjectData14.applinkId) + '">' + soy.$$filterNoAutoescape('Details\x26hellip;') + '</a></span></div></li>';
    }
    output += '</ul>';
  }
  if (opt_data.data.errorMessages) {
    var errorMessageList49 = opt_data.data.errorMessages;
    var errorMessageListLen49 = errorMessageList49.length;
    for (var errorMessageIndex49 = 0; errorMessageIndex49 < errorMessageListLen49; errorMessageIndex49++) {
      var errorMessageData49 = errorMessageList49[errorMessageIndex49];
      output += bamboo.components.errorResponseMessage({errorMessage: errorMessageData49, oAuthDanceReturnUrl: opt_data.oAuthDanceReturnUrl});
    }
  }
  if (opt_data.data.oauthCallbacks && opt_data.data.oauthCallbacks.length) {
    output += '<div class="aui-message aui-message-warning no-border no-background"> ' + soy.$$escapeHtml('For more deployment information, you need to log in to and approve the following servers:') + '<ul>';
    var oauthCallbackList59 = opt_data.data.oauthCallbacks;
    var oauthCallbackListLen59 = oauthCallbackList59.length;
    for (var oauthCallbackIndex59 = 0; oauthCallbackIndex59 < oauthCallbackListLen59; oauthCallbackIndex59++) {
      var oauthCallbackData59 = oauthCallbackList59[oauthCallbackIndex59];
      output += '<li><a href="' + soy.$$filterNoAutoescape(oauthCallbackData59.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml(oauthCallbackData59.serverName) + '</a></li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issuePanelContent.soyTemplateName = 'bamboo.deployments.issuePanelContent';
}


bamboo.deployments.issueDetailsDialogContent = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml('Bamboo releases with related commits') + '</h3><ul class=\'property-list\'><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml('Deployment project') + '</strong><span class=\'value\'>' + bamboo.deployments.itemLink({item: opt_data.data.deploymentProject}) + '</span></div></li><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml('Releases with commits') + '</strong><span class=\'value\'>';
  var versionList82 = opt_data.data.versions;
  var versionListLen82 = versionList82.length;
  if (versionListLen82 > 0) {
    for (var versionIndex82 = 0; versionIndex82 < versionListLen82; versionIndex82++) {
      var versionData82 = versionList82[versionIndex82];
      output += bamboo.deployments.itemLink({item: versionData82}) + ((! (versionIndex82 == versionListLen82 - 1)) ? ', ' : '');
    }
  } else {
    output += soy.$$escapeHtml('No related releases found');
  }
  output += '</span></div></li></ul>' + bamboo.deployments.environmentsTable({environments: opt_data.data.environments});
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialogContent.soyTemplateName = 'bamboo.deployments.issueDetailsDialogContent';
}


bamboo.deployments.environmentsTable = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml('Issue availability across environments') + '</h3>';
  if (opt_data.environments.length > 0) {
    output += '<table width=\'100%\' class=\'aui\'><colgroup><col width=\'45%\'><col width=\'30%\'><col width=\'25%\'></colgroup><thead><tr><th>' + soy.$$escapeHtml('Environment') + '</th><th>' + soy.$$escapeHtml('Issue availability') + '</th><th>' + soy.$$escapeHtml('Current release') + '</th></tr></thead><tbody>';
    var environmentList107 = opt_data.environments;
    var environmentListLen107 = environmentList107.length;
    for (var environmentIndex107 = 0; environmentIndex107 < environmentListLen107; environmentIndex107++) {
      var environmentData107 = environmentList107[environmentIndex107];
      output += '<tr><td>' + bamboo.deployments.itemLink({item: environmentData107}) + ((! environmentData107.statusOk) ? ' <span class="aui-icon aui-icon-error">Error</span>' : '') + '</td><td>' + bamboo.deployments.issueAvailabilityLozenge({issueStatus: environmentData107.issueStatus}) + '</td><td>' + ((environmentData107.version) ? bamboo.deployments.itemLink({item: environmentData107.version}) : '<em>' + soy.$$escapeHtml('Never deployed') + '</em>') + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<p>' + soy.$$escapeHtml('No environments defined') + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.environmentsTable.soyTemplateName = 'bamboo.deployments.environmentsTable';
}


bamboo.deployments.issueAvailabilityLozenge = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issueStatus == 'AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-success">' + soy.$$escapeHtml('deployed') + '</span>' : (opt_data.issueStatus == 'PARTIALLY_AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml('partly deployed') + '</span>' : '<span class="aui-lozenge">' + soy.$$escapeHtml('not deployed') + '</span>');
};
if (goog.DEBUG) {
  bamboo.deployments.issueAvailabilityLozenge.soyTemplateName = 'bamboo.deployments.issueAvailabilityLozenge';
}


bamboo.deployments.itemLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.item.url) ? '<a href="' + soy.$$filterNoAutoescape(opt_data.item.url) + '">' + soy.$$escapeHtml(opt_data.item.name) + '</a>' : soy.$$escapeHtml(opt_data.item.name));
};
if (goog.DEBUG) {
  bamboo.deployments.itemLink.soyTemplateName = 'bamboo.deployments.itemLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-jslibs.js' */
define('applinks/lib/lodash', ['atlassian/libs/underscore-1.5.2'], function(lodash) {
        return lodash;
    });
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
// NOTE: this is in "lib" because it's required by aui-amd.js. This module _cannot_ have any dependencies on non-lib
// modules (like "common")
define('applinks/lib/version', [
    'applinks/lib/lodash'
], function(
    _
) {

    function checkIntValue(value, desc) {
        if (_.isUndefined(value)) {
            return 0;
        } else if (typeof value !== 'number' || isNaN(value)) {
            throw new Error(desc + ': expected a number, was: <' + value + '>');
        } else {
            return Math.floor(value);
        }
    }

    function checkVersionObject(object, desc) {
        if (!object || !(object instanceof Version)) {
            throw new Error(desc + ': expected a Version object, was: <' + object + '>');
        }
        return object;
    }

    function compareInt(intOne, intTwo) {
        return intOne > intTwo ? 1 : intOne == intTwo ? 0 : -1;
    }

    /**
     * Constructs a version object that contains version information and can be compared with other version objects.
     *
     * @param major major version component
     * @param minor minor version component
     * @param bugfix bugfix version component
     * @constructor
     */
    function Version(major, minor, bugfix) {
        this.major = checkIntValue(major, 'major');
        this.minor = checkIntValue(minor, 'minor');
        this.bugfix = checkIntValue(bugfix, 'bugfix');
    }

    /**
     * Constructs a Version by parsing a version string.
     *
     * @param versionString version string to parse, expected to be in the form of <major>.<minor>.<bugfix>
     * @param versionDesc what version does the `versionString` represent
     */
    Version.parse = function(versionString, versionDesc) {
        versionDesc = versionDesc || 'versionString';
        if (!versionString) {
            throw new Error(versionDesc + ': expected a non-empty string');
        }
        var versionSplit = versionString.split('.');
        if (versionSplit.length !== 3) {
            throw new Error(versionDesc + ': expected <major>.<minor>.<bugfix> string, was: <' + versionString + '>');
        }
        return new Version(parseInt(versionSplit[0]), parseInt(versionSplit[1]), parseInt(versionSplit[2]));
    };

    /**
     * Comparator function to sort Version objects.
     *
     * @param versionOne first version object
     * @param versionTwo second version object
     * @returns {Number} comparison result
     * @see Version.compareTo(that)
     */
    Version.comparator = function(versionOne, versionTwo) {
        return checkVersionObject(versionOne, 'versionOne').compareTo(checkVersionObject(versionTwo, 'versionTwo'));
    };

    /**
     * Return -1, 0 or 1 as this Version object represents a version less than, equal to, or greater than `that`.
     *
     * @param that the other version to compare to
     * @returns {Number} comparison result
     */
    Version.prototype.compareTo = function(that) {
        checkVersionObject(that, 'that');
        var majorResult = compareInt(this.major, that.major);
        if (majorResult != 0) {
            return majorResult;
        }
        var minorResult = compareInt(this.minor, that.minor);
        if (minorResult != 0) {
            return minorResult;
        }
        return compareInt(this.bugfix, that.bugfix);
    };

    Version.prototype.greaterThan = function(that) {
        return this.compareTo(that) > 0;
    };

    Version.prototype.greaterThanOrEqual = function(that) {
        return this.compareTo(that) >= 0;
    };

    Version.prototype.lessThan = function(that) {
        return this.compareTo(that) < 0;
    };

    Version.prototype.lessThanOrEqual = function(that) {
        return this.compareTo(that) <= 0;
    };

    Version.prototype.equals = function(that) {
        return this.compareTo(that) == 0;
    };

    Version.prototype.toMinor = function() {
        return new Version(this.major, this.minor);
    };

    Version.prototype.toMajor = function() {
        return new Version(this.major);
    };

    Version.prototype.toString = function() {
        return this.major + '.' + this.minor + '.' + this.bugfix;
    };

    return Version;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define('applinks/lib/aui-version-details', [
    'applinks/lib/version'
], function(
    Version
) {
    // minimum 5.9.x AUI versions - lower versions ship with bugs that break some of the Applinks functionality.
    var MINIMUM_59_VERSION = new Version(5, 9, 13);
    var VERSION_58 = new Version(5, 8);
    var VERSION_59 = new Version(5, 9);

    function checkVersion(version) {
        // if 5.9, must be >= the minimum required 5.9.x version
        if (version.lessThan(MINIMUM_59_VERSION) || version.lessThan(VERSION_59)) {
            throw new Error('AUI version ' + version + ' is too low, you need to upgrade AUI to ' + MINIMUM_59_VERSION
                + ' for Applinks to work');
        }
    }

    function addVersionDetails(AJS) {
        var ajsVersion = Version.parse(AJS.version, 'AUI version');
        checkVersion(ajsVersion);

        AJS.versionDetails = ajsVersion;
        AJS.versionDetails.is58 = ajsVersion.toMinor().equals(VERSION_58);
        AJS.versionDetails.is59 = ajsVersion.toMinor().equals(VERSION_59);

        return AJS;
    }

    return  {
        /**
         * Check AUI version for compatibility with Applinks and add `versionDetails` field.
         */
        addVersionDetails: addVersionDetails
    };
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define('applinks/lib/console', function() {
    return window.console;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define('applinks/lib/jquery', function() {
   return window.jQuery;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define('applinks/lib/aui', [
    'applinks/lib/window',
    'applinks/lib/aui-version-details'
], function(
    window,
    VersionDetails
) {
    var AJS = window.AJS;
    if (!AJS) {
        throw new Error('window.AJS not defined, cannot load AUI');
    }

    return VersionDetails.addVersionDetails(AJS);
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
/**
 * Define Web resource manager as an AMD dependency. This should also be present in apps using Atlassian Plugins Web
 * Resources framework.
 */
define('applinks/lib/wrm', function() {
   return window.WRM;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define('applinks/lib/skate', function() {
   // window.skate is not exposed as a global from AUI 5.9, this will return undefined with that version or later
   return window.skate;
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
/**
 * Define window as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/window', function() {
    return window;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/spi-amd.js' */
/**
 * Define the Applinks SPI functions as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/spi', function() {
    return {get:
        function (){
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.SPI;
    }}
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/applinks-creation-amd.js' */
/**
 * Define the Applinks creation resources  as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/creation', function() {
    return {
        get: function () {
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.Creation;
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-public', location = 'js/applinks.public.js' */
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

/**
 * Support code to provide appropriate behavior for HTML elements created by
 * ApplicationLinkUIService; also, public functions that can be used from JS code
 * in other plugins to create the same kinds of HTML elements, in case it's not
 * convenient to do so on the back end.
 */
var ApplinksUtils = ApplinksUtils || (function($) {

    var pendingRequests = {},
        pendingConfirmations = {};
    
    // Provide a well-defined name for the authentication window/tab we create with
    // window.open() - may be useful in debugging, and is used by integration tests.
    // Note, IE8 does not allow this name to contain hyphens or periods.
    var authWindowName = "com_atlassian_applinks_authentication";

    /**
     * This function is basically duplicated from messages.js in AJS, because some products
     * only provide a stub version of messages.js within gadgets.
     */
    function makeCloseable(message) {
        var closeButton = '<button type="button" class="aui-close-button" aria-label="'+"Close"+'" />';
        var $icon = $(closeButton).on('click', function () {
            message.trigger("messageClose", [this]).remove();
        });
        message.append($icon);
    }

    /**
     * Helper function to get the DOM object of the current iframe.
     * @return {Object} a DOM object, or null if we are not in an iframe
     */
    function getCurrentIframe() {
        if (window === parent.window) {
            return null;
        }
        var ret = null,
            myFrameWindow = window;
        $('iframe', parent.document.body).each(function(index) {
            if (this.contentWindow.window === myFrameWindow) {
                ret = this;
            }
        });
        return ret;
    }

    /**
     * Event handler that is called by the applinks authorization completion servlet.  It triggers
     * the completion function for any pending authorization request that matches the given applink
     * ID, and also redispatches the event to any other iframes in the current window.
     * @param {Object} eventObject  JQuery event object
     * @param {string} applinkId  application link ID
     * @param {boolean} success  true if the request was approved
     * @param {string} authAdminUri  URI of the "OAuth Access Tokens" page (will be displayed in the
     *   confirmation message)
     * @param {boolean} wasRedispatched  true if the event has been retriggered from another frame
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one 
     */
    function onAuthCompletion(eventObject, applinkId, success, authAdminUri, wasRedispatched, messages) {
        if (applinkId in pendingRequests) {
            var request = pendingRequests[applinkId];
            if (success) {
                request.authAdminUri = authAdminUri;
                delete pendingRequests[applinkId];
            }
            completeAuthRequest(request, success, messages);
        }
        if (!wasRedispatched && parent && (parent !== window)) {
            var myWindow = window;
            $('iframe', parent.document.body).each(function(index, frame) {
                var scope = frame.contentWindow;
                if (scope !== myWindow) {
                    if (scope.AJS && scope.AJS.$) {
                        scope.AJS.$(scope.document).trigger('applinks.auth.completion',
                            [applinkId, success, authAdminUri, true, messages]);
                    }
                }
            });
        }
    }
      
    /**
     * Fires the appropriate event when the authorization flow has completed.  On approval, reloads
     * the window/frame unless an event handler calls {@code preventDefault()} on the event.
     * @param {Object} applinkProperties  has the same properties passed to {@link createAuthRequestBanner}
     * @param {boolean} approved  true if the request was approved
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one
     */
    function completeAuthRequest(applinkProperties, approved, messages) {
        var $scope = $(document);
        if (approved) {
            // Temporarily bind an event handler so our handler runs after any other handlers that
            // may exist.
            var defaultApprovalHandler = function (eventObject) {
                if (eventObject.isDefaultPrevented()) {
                    // Don't reload, just show the confirmation message
                    showAuthConfirmationBanner(applinkProperties);
                } else {
                    // Reload, but first save a reminder to make us show a confirmation message
                    // after we've reloaded.
                    registerPendingConfirmation(applinkProperties);
                    document.location.reload(true);
                }
            };
            $scope.bind('applinks.auth.approved', defaultApprovalHandler);
            $scope.trigger('applinks.auth.approved', applinkProperties);
            $scope.unbind('applinks.auth.approved', defaultApprovalHandler);
        } else {
            // There's no default behavior for a request that was denied, but fire an event in case
            // anyone is interested.
            $scope.trigger('applinks.auth.denied', [applinkProperties, messages]);
        }
    }

    /**
     * Used internally to make the applink support code aware of a "please authenticate" message
     * element that has been displayed, by wiring the appropriate event handlers and adding the
     * applink's properties to an internal list of authentication requests.
     * @param $element {Object}  a JQuery object
     * @param applinkProperties {Object}  has the same properties passed to {@link createAuthRequestBanner}
     */
    function initAuthRequest($element, applinkProperties) {
        var $authLink = $element.find("a.applink-authenticate");
        
        if ($element.hasClass('aui-message')) {
            // Workaround for incomplete AJS availability in some products
            makeCloseable($element);
        }

        $authLink.on('click', function(e) {
            window.open(applinkProperties.authUri, authWindowName);
            e.preventDefault();
        });
        
        pendingRequests[applinkProperties.id] = applinkProperties;
        
        return $element;
    }
    
    /**
     * Used internally to ensure that {@link initAuthRequest} is called for every
     * authorisation request element that was generated as HTML from the back end,
     * rather than by calling {@link createAuthRequestBanner} or
     * {@link createAuthRequestInline}.  The parameters of the request are passed
     * from the back end in hidden input elements.
     */
    function initAuthRequestElements() {
        $('.applinks-auth-request').each(function(index) {
            var $e = $(this),
                applinkId = $e.find(".applinkId").val(),
                appName = $e.find(".appName").val(),
                appUri = $e.find(".appUri").val(),
                authUri = $e.find(".authUri").val();
            // Ignore request banners that have already been created (by {@link createAuthRequestBanner} or
            // {@link createAuthRequestInline})
            if (applinkId && authUri) {
                initAuthRequest($e, {
                    id: applinkId,
                    appName: appName,
                    appUri: appUri,
                    authUri: authUri});
            }
        });
    }

    /**
     * Builds a "please authenticate" banner (in a standard AUI message box) containing a link that
     * that will start authorization for an application link that needs credentials.
     * <p>
     * On completion of the authorization flow, a JQuery event will be triggered on the document,
     * with the event type "applinks.auth.approved" or "applinks.auth.denied", and an additional
     * parameter equal to the {@code applinkProperties} parameter that was passed here.
     * <p>
     * If authorization is granted (event "applinks.auth.approved"), the default behavior is for the
     * window or frame to be reloaded; also, a confirmation banner will be displayed either within
     * a &lt;div&gt; element of class "applinks-auth-confirmation-container" if one exists, or at the top of
     * the document otherwise.  Reloading of the window/frame can be disabled by having an event
     * handler call {@code preventDefault()} on the event.
     *
     * @param {Object} applinkProperties contains the following application link properties:
     *   {@code id}: the application link identifier;
     *   {@code appName}: the name of the remote application;
     *   {@code appUri}: the base URI of the remote application;
     *   {@code authUri}: the URI for starting the authorization flow
     * @return {Object} a JQuery object referring to a {@code <div>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestBanner(applinkProperties) {
        // Note that we can't just use the AJS.messages.warning() function, because it will put a
        // standard warning icon in the message box and we want a custom icon.
        var message = AJS.format("Additional information may be available, please \u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",
            AJS.escapeHtml(applinkProperties.authUri),
            AJS.escapeHtml(applinkProperties.appUri),
            AJS.escapeHtml(applinkProperties.appName))
        var $banner = $('<div class="aui-message aui-message-warning closeable applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span> '
            + message + '</p></div>');
        initAuthRequest($banner, applinkProperties);
        return $banner;
    }

    /**
     * Builds a "please authenticate" message suitable for displaying inline (in a span
     * with the class "applinks-auth-request"), containing a link that will start authorization.
     * This behaves identically to {@link createAuthRequestBanner}, except it creates a {@code <span>}
     * element instead of a {@code div} and also allows additional text to be displayed.
     * 
     * @param {string} content  optional HTML content to be displayed within the inline
     *   element (e.g. a description of the entity for which authorization is required);
     *   will not be escaped; may be null
     * @param {Object} applinkProperties  see {@link createAuthRequestBanner}
     * @return {Object} a JQuery object referring to a {@code <span>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestInline(content, applinkProperties) {
        var $lozenge = $('<span class="applinks-auth-request"></span>'),
            $contentSpan = $('<span class="applinks-request-description"></span>'),
            message = AJS.format("\u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eAuthenticate\u003c/a\u003e to see additional information.", AJS.escapeHtml(applinkProperties.authUri));
        if (content) {
            $contentSpan.append(content);
            $contentSpan.append(" - ");
        }
        $contentSpan.append(message);
        $lozenge.append($contentSpan);
        initAuthRequest($lozenge, applinkProperties);
        return $lozenge;
    }

    /**
     * Used internally to remember the fact that we have just completed authorizing an
     * applink and are about to refresh the iframe associated with it, so that we can
     * display a confirmation message after the iframe is refreshed.
     */
    function registerPendingConfirmation(applinkProperties) {
        var frame = getCurrentIframe();
        if ((!frame) || (!frame.id)) {
            return;
        }
        if (! parent.ApplinksUtils.pendingConfirmations) {
            parent.ApplinksUtils.pendingConfirmations = { };
        }
        if (!(frame.id in parent.ApplinksUtils.pendingConfirmations)) {
            parent.ApplinksUtils.pendingConfirmations[frame.id] = [];
        }
        parent.ApplinksUtils.pendingConfirmations[frame.id].push(applinkProperties);
        return;
    }

    /**
     * Called after a page load, to see if we've been refreshed due to a successful authorization.
     * If we're in an iframe, a variable will have been set on the parent window to tell us that
     * this happened.  If so, insert a confirmation banner at the top of the iframe.
     */
    function checkForPendingConfirmations() {
        if (parent && parent.ApplinksUtils && parent.ApplinksUtils.pendingConfirmations) {
            var myFrame = getCurrentIframe();
            if (myFrame) {
                if (myFrame.id in parent.ApplinksUtils.pendingConfirmations) {
                    var pendingConfirmations = parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    delete parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    for (var i = 0, n = pendingConfirmations.length; i < n; i++) {
                        showAuthConfirmationBanner(pendingConfirmations[i]);
                    }
                }
            }
        }
    }

    /**
     * Displays a confirmation banner.  If an element exists with the class
     * "applinks-auth-confirmation-contianer", it is inserted there, otherwise at the top of the
     * document.
     */
    function showAuthConfirmationBanner(applinkProperties) {
        var scope = $(document),
            banner = $('<div class="aui-message aui-message-success closeable applinks-auth-confirmation"><p><span class="aui-icon icon-applinks-key-success"></span></p></div>'),
            container = scope.find('div.applinks-auth-confirmation-container');
        if (!container.length) {
            container = scope.find('body');
        }
        banner.append(AJS.format("This application is now using \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e\'\'s credentials. Revoke access at any time by going to \u003ca href=\"{2}\"\u003eOAuth access tokens\u003c/a\u003e.",
                                        AJS.escapeHtml(applinkProperties.appUri),
                                        AJS.escapeHtml(applinkProperties.appName),
                                        AJS.escapeHtml(applinkProperties.authAdminUri)));
        makeCloseable(banner);
        container.prepend(banner);
        setTimeout(function() {
            banner.fadeOut(1000, function() {
                $(this).remove();
            });
        }, 5000);
    }
    
    /**
     * Initialization function to be called once at document ready time.
     */
    function setup() {
        // If we're in an iframe, set up an object in the parent window that we can use to
        // keep track of state even if the iframe is refreshed.
        if (parent && !(parent === window)) {
            if (! parent.ApplinksUtils) {
                parent.ApplinksUtils = { };
            }
        }
        
        $(document).bind('applinks.auth.completion', onAuthCompletion);

        initAuthRequestElements();
        checkForPendingConfirmations();
    }

    // initialise on document ready
    $(setup);

    return {
        createAuthRequestBanner: createAuthRequestBanner,
        createAuthRequestInline: createAuthRequestInline
    };
})(AJS.$);

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/buildLink/auth-link-component.js' */
define("jira/bamboo-plugin/component/issue-link/auth-link",["jira/skate","jquery"],function(a,b){return a("jbp-issue-link-auth",{type:a.type.CLASSNAME,attached:function(c){ApplinksUtils.createAuthRequestInline(null,{id:c.getAttribute("data-app-link-id"),appName:c.getAttribute("data-application-name"),appUri:c.getAttribute("data-application-url"),authUri:c.getAttribute("data-authentication-url")}).each(function(d,e){b(c).append(e)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/deployments/panel-component.js' */
define("jira/bamboo-plugin/component/deployments/panel",["jira/skate"],function(a){return a("jbp-deployments-panel",{type:a.type.CLASSNAME,attached:function(b){new JBAM_DEPLOYMENT.RelatedDeploymentProjects.View({el:".jbp-deployments-panel",fetchUrl:b.getAttribute("data-fetch-url"),oAuthDanceReturnUrl:b.getAttribute("data-oauth-dance-return-url"),issueId:b.getAttribute("data-issue-id")})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/view-issue-components-init.js' */
require(["jira/bamboo-plugin/component/issue-link/auth-link","jira/bamboo-plugin/component/deployments/panel"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:underscore', location = 'js/lib/underscore-adapter.js' */
define("workflow-designer/underscore",["underscore"],function(A){return A});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-loader', location = 'js/require.js' */
define("workflow-designer/application-loader",["wrm/require","require"],function(A,B){return{load:function C(D){return A(["wrc!com.atlassian.jira.plugins.jira-workflow-designer.workflow-designer"],function(){D&&D(B("workflow-designer/application"))})}}});AJS.namespace("JIRA.WorkflowDesigner.require",null,require("workflow-designer/application-loader").load);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-templates', location = 'js/templates-amd.js' */
define("workflow-designer/templates",[],function(){AJS.namespace("JIRA.WorkflowDesigner.Templates");return JIRA.WorkflowDesigner.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/util/DialogSizeCalculator.js' */
define("workflow-designer/dialog-size-calculator",["workflow-designer/underscore","jquery"],function(A,B){return{DISTANCE_FROM_EDGE:100,calculateDialogSize:function(D,C){this.dialog=D;C=A.defaults(C||{},{windowHeight:this._getWindowHeight(),windowWidth:this._getWindowWidth(),dialogHeaderHeight:this._getDialogHeaderHeight(),dialogFooterHeight:this._getDialogFooterHeight()});return{height:this._calculateDialogHeight(C.windowHeight,C.dialogHeaderHeight,C.dialogFooterHeight),width:this._calculateDialogWidth(C.windowWidth)}},_calculateDialogHeight:function(E,C,D){return E-C-D-(this.DISTANCE_FROM_EDGE*2)},_calculateDialogWidth:function(C){return C-(this.DISTANCE_FROM_EDGE*2)},_getWindowHeight:function(){return B(window).height()},_getWindowWidth:function(){return B(window).width()},_getDialogHeaderHeight:function(){return this.dialog.$popupHeading.outerHeight()},_getDialogFooterHeight:function(){return this.dialog.$buttonContainer.outerHeight()}}});AJS.namespace("JIRA.WorkflowDesigner.DialogSizeCalculator",null,require("workflow-designer/dialog-size-calculator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/views/dialogs/Dialog.js' */
define("workflow-designer/dialog",["workflow-designer/dialog-size-calculator","jira/dialog/form-dialog","workflow-designer/application-loader","workflow-designer/templates","jira/dialog/dialog","workflow-designer/underscore","jquery"],function(A,F,E,D,B,C,G){return F.extend({init:function(H){C.bindAll(this,"_sizeAndPositionDialog");H=C.defaults({},H,{content:this.createDialogContent,isDraft:false,onContentRefresh:this._showWorkflowDesigner,widthClass:"large"});this.options=H;this.sizeAndPositionDialog=C.throttle(this._sizeAndPositionDialog,100);this._super(H);this.onContentReady(this._addLabelHint)},createDialogContent:function(H){H(D.Dialog.workflowDialog({title:C.result(this.options,"workflowId")}))},show:function(){this._super.apply(this,arguments);G(window).on("resize",this.sizeAndPositionDialog)},hide:function(){this._designer&&this._designer.destroy();this._super.apply(this,arguments);G(window).off("resize",this.sizeAndPositionDialog)},_sizeAndPositionDialog:function(){var H,I;if(B.current===this){I=A.calculateDialogSize(this);this.options.width=I.width;H=this.$popup.find(".form-body");H.css({height:I.height,maxHeight:""});this._positionInCenter()}},_showWorkflowDesigner:function(){var H=this;this._sizeAndPositionDialog();E.load(function(I){if(H.isCurrent()){H._designer=new I({actions:false,element:H.get$popup().find(".form-body"),immutable:true,draft:C.result(H.options,"isDraft"),layoutData:C.result(H.options,"layoutData"),workflowId:C.result(H.options,"workflowId"),currentStepId:C.result(H.options,"currentStepId")})}})},_addLabelHint:function(){this.getButtonsContainer().prepend(D.Dialog.labelMouseOverHint())}})});AJS.namespace("JIRA.WorkflowDesigner.Dialog",null,require("workflow-designer/dialog"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'soy/Dialog.soy' */
// This file was automatically generated from Dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.WorkflowDesigner.Templates.Dialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.WorkflowDesigner == 'undefined') { JIRA.WorkflowDesigner = {}; }
if (typeof JIRA.WorkflowDesigner.Templates == 'undefined') { JIRA.WorkflowDesigner.Templates = {}; }
if (typeof JIRA.WorkflowDesigner.Templates.Dialog == 'undefined') { JIRA.WorkflowDesigner.Templates.Dialog = {}; }


JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2><div class="form-body"></div></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog';
}


JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint = function(opt_data, opt_ignored) {
  return '<div class="buttons-container-left"><small>' + soy.$$escapeHtml('Mouse over objects to see transition names.') + '</small></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-browser-is-supported', location = 'js/browserIsSupported.js' */
define("workflow-designer/browser-support",["jira/util/navigator"],function(A){return{browserIsSupported:function B(){return !(A.isIE()&&parseInt(A.majorVersion(),10)<10)}}});AJS.namespace("JIRA.WorkflowDesigner.browserIsSupported",null,require("workflow-designer/browser-support").browserIsSupported);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer', location = 'js/views/ViewIssue.js' */
(function(){var K=require("workflow-designer/application-loader");var I=require("workflow-designer/dialog");var O=require("jquery");var E=require("jira/skate");var D;var C;var B;function A(){D=require("workflow-designer/io/workflow-data-reader");C=require("workflow-designer/io/ajax/workflow-ajax-manager");B=require("workflow-designer/messages")}var N;var G;var M;var J;function F(Q,P){var R=parseUri(Q).queryKey[P]||"";return decodeURIComponent(R.replace(/\+/g,"%20"))}function L(){var P;if(G){return O.Deferred().resolve(G).promise()}else{P=C.load(J);P.done(function(R,Q){G=Q});return P}}M=new I({content:function(Q){var P=this;K.load().pipe(A).pipe(L).done(function(){P.createDialogContent(Q)}).fail(function(R){R=R||"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";B.showErrorMessage(R);M.hide(true)})},id:"view-workflow-dialog",workflowId:function(){return J},currentStepId:function(){return N},layoutData:function(){return D.read(G)}});var H=(E.type)?E.type.CLASSNAME:E.types.CLASS;E("jira-workflow-designer-link",{type:H,created:function(P){var Q=(this instanceof Element)?this:P;Q.classList.add("new-workflow-designer")},attached:function(P){var Q=(this instanceof Element)?this:P;var R=Q.getAttribute("href");J=F(R,"workflowName");N=parseInt(F(R,"stepId"),10);G=null},events:{click:function(P,Q){M&&M.show();Q.preventDefault()}}})}());AJS.namespace("JIRA.WorkflowDesigner.ViewIssue.replaceViewWorkflowLink",null,jQuery.noop);AJS.namespace("JIRA.WorkflowDesigner.Templates.ViewIssue.viewWorkflowLink",null,jQuery.noop);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/rpc.js' */
var gadgets=gadgets||{};gadgets.rpc=function(){var CALLBACK_NAME="__cb";var DEFAULT_NAME="";var FE_G2C_CHANNEL="__g2c_rpc";var FE_C2G_CHANNEL="__c2g_rpc";var services={};var iframePool=[];var relayUrl={};var useLegacyProtocol={};var authToken={};var callId=0;var callbacks={};var setup={};var sameDomain={};var params={};if(gadgets.util){params=gadgets.util.getUrlParameters()}authToken[".."]=params.rpctoken||params.ifpctok||0;function getRelayChannel(){return typeof window.postMessage==="function"?"wpm":typeof document.postMessage==="function"?"dpm":navigator.product==="Gecko"?"fe":"ifpc"}function setupChannel(){if(relayChannel==="dpm"||relayChannel==="wpm"){window.addEventListener("message",function(packet){try{if(packet&&packet.origin&&packet.origin!=="null"&&typeof packet.data==="string"){if(packet.origin===location.origin){process(gadgets.json.parse(packet.data))}else{AJS.$.get(AJS.contextPath()+"/rest/whitelist/1/check",{url:packet.origin}).done(function(result){if(result&&result.inbound&&result.inbound===true){process(gadgets.json.parse(packet.data))}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}).fail(function(jqXHR,textStatus,errorThrown){AJS.log("RPC: REST "+textStatus,errorThrown)})}}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}catch(e){if(AJS.debug){var origin=packet&&packet.origin?packet.origin:"undefined origin";AJS.log("Error processing gadget rpc message from '"+origin+"': "+e)}}},false)}}var relayChannel=getRelayChannel();setupChannel();services[DEFAULT_NAME]=function(){throw new Error("Unknown RPC service: "+this.s)};services[CALLBACK_NAME]=function(callbackId,result){var callback=callbacks[callbackId];if(callback){delete callbacks[callbackId];callback(result)}};function setupFrame(frameId){if(setup[frameId]){return }if(relayChannel==="fe"){try{var frame=document.getElementById(frameId);frame[FE_G2C_CHANNEL]=function(args){process(gadgets.json.parse(args))}}catch(e){}}setup[frameId]=true}function encodeLegacyData(args){var stringify=gadgets.json.stringify;var argsEscaped=[];for(var i=0,j=args.length;i<j;++i){argsEscaped.push(encodeURIComponent(stringify(args[i])))}return argsEscaped.join("&")}function process(rpc){if(rpc&&typeof rpc.s==="string"&&typeof rpc.f==="string"&&rpc.a instanceof Array){if(authToken[rpc.f]){if(authToken[rpc.f]!=rpc.t){if(AJS.debug){console.log("Invalid auth token received for operation: "+rpc.s)}return }}if(rpc.c){rpc.callback=function(result){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}var result=(services[rpc.s]||services[DEFAULT_NAME]).apply(rpc,rpc.a);if(rpc.c&&typeof result!="undefined"){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}}function callFrameElement(targetId,serviceName,from,rpcData,callArgs){try{if(from!=".."){var fe=window.frameElement;if(typeof fe[FE_G2C_CHANNEL]==="function"){if(typeof fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]!=="function"){fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]=function(args){process(gadgets.json.parse(args))}}fe[FE_G2C_CHANNEL](rpcData);return }}else{var frame=document.getElementById(targetId);if(typeof frame[FE_G2C_CHANNEL]==="function"&&typeof frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL]==="function"){frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL](rpcData);return }}}catch(e){}callIfpc(targetId,serviceName,from,rpcData,callArgs)}function callIfpc(targetId,serviceName,from,rpcData,callArgs){var relay=gadgets.rpc.getRelayUrl(targetId);if(!relay){throw new Error("No relay file assigned for IFPC")}var src=null;if(useLegacyProtocol[targetId]){src=[relay,"#",encodeLegacyData([from,callId,1,0,encodeLegacyData([from,serviceName,"","",from].concat(callArgs))])].join("")}else{src=[relay,"#",targetId,"&",from,"@",callId,"&1&0&",encodeURIComponent(rpcData)].join("")}emitInvisibleIframe(src)}function emitInvisibleIframe(src){var iframe;for(var i=iframePool.length-1;i>=0;--i){var ifr=iframePool[i];try{if(ifr&&(ifr.recyclable||ifr.readyState==="complete")){ifr.parentNode.removeChild(ifr);if(window.ActiveXObject){iframePool[i]=ifr=null;iframePool.splice(i,1)}else{ifr.recyclable=false;iframe=ifr;break}}}catch(e){}}if(!iframe){iframe=document.createElement("iframe");iframe.style.border=iframe.style.width=iframe.style.height="0px";iframe.style.visibility="hidden";iframe.style.position="absolute";iframe.onload=function(){this.recyclable=true};iframePool.push(iframe)}iframe.src=src;setTimeout(function(){document.body.appendChild(iframe)},0)}function callSameDomain(target,rpc){if(typeof sameDomain[target]==="undefined"){sameDomain[target]=false;var targetEl=null;if(target===".."){targetEl=parent}else{targetEl=frames[target]}try{sameDomain[target]=targetEl.gadgets.rpc.receiveSameDomain}catch(e){}}if(typeof sameDomain[target]==="function"){sameDomain[target](rpc);return true}return false}if(gadgets.config){function init(config){if(config.rpc.parentRelayUrl.substring(0,7)==="http://"){relayUrl[".."]=config.rpc.parentRelayUrl}else{var params=document.location.search.substring(0).split("&");var parentParam="";for(var i=0,param;param=params[i];++i){if(param.indexOf("parent=")===0){parentParam=decodeURIComponent(param.substring(7));break}}relayUrl[".."]=parentParam+config.rpc.parentRelayUrl}useLegacyProtocol[".."]=!!config.rpc.useLegacyProtocol}var requiredConfig={parentRelayUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("rpc",requiredConfig,init)}return{register:function(serviceName,handler){if(serviceName==CALLBACK_NAME){throw new Error("Cannot overwrite callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot overwrite default service:"+" use registerDefault")}services[serviceName]=handler},unregister:function(serviceName){if(serviceName==CALLBACK_NAME){throw new Error("Cannot delete callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot delete default service:"+" use unregisterDefault")}delete services[serviceName]},registerDefault:function(handler){services[""]=handler},unregisterDefault:function(){delete services[""]},call:function(targetId,serviceName,callback,var_args){++callId;targetId=targetId||"..";if(callback){callbacks[callId]=callback}var from="..";if(targetId===".."){from=window.name}var rpc={s:serviceName,f:from,c:callback?callId:0,a:Array.prototype.slice.call(arguments,3),t:authToken[targetId]};if(callSameDomain(targetId,rpc)){return }var rpcData=gadgets.json.stringify(rpc);var channelType=relayChannel;if(useLegacyProtocol[targetId]){channelType="ifpc"}switch(channelType){case"dpm":var targetDoc=targetId===".."?parent.document:frames[targetId].document;targetDoc.postMessage(rpcData);break;case"wpm":var targetWin=targetId===".."?parent:frames[targetId];targetWin.postMessage(rpcData,relayUrl[targetId]);break;case"fe":callFrameElement(targetId,serviceName,from,rpcData,rpc.a);break;default:callIfpc(targetId,serviceName,from,rpcData,rpc.a);break}},getRelayUrl:function(targetId){return relayUrl[targetId]},setRelayUrl:function(targetId,url,opt_useLegacy){relayUrl[targetId]=url;useLegacyProtocol[targetId]=!!opt_useLegacy},setAuthToken:function(targetId,token){authToken[targetId]=token;setupFrame(targetId)},getRelayChannel:function(){return relayChannel},receive:function(fragment){if(fragment.length>4){process(gadgets.json.parse(decodeURIComponent(fragment[fragment.length-1])))}},receiveSameDomain:function(rpc){rpc.a=Array.prototype.slice.call(rpc.a);window.setTimeout(function(){process(rpc)},0)}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/util.js' */
Function.prototype.inherits=function(parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;this.superClass_=parentCtor.prototype;this.prototype=new tempCtor();this.prototype.constructor=this};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/json.js' */
var gadgets=gadgets||{};gadgets.json=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i])||"null")}return"["+a.join(",")+"]"}for(k in value){if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")}return false}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/gadgets-core.js' */
var gadgets=gadgets||{};gadgets.error={};gadgets.error.SUBCLASS_RESPONSIBILITY="subclass responsibility";gadgets.error.TO_BE_DONE="to be done";gadgets.log=function(message){if(window.console&&console.log){console.log(message)}else{var logEntry=document.createElement("div");logEntry.className="gadgets-log-entry";logEntry.innerHTML=message;document.body.appendChild(logEntry)}};gadgets.Extensible=function(){};gadgets.Extensible.prototype.setDependencies=function(dependencies){for(var p in dependencies){this[p]=dependencies[p]}};gadgets.Extensible.prototype.getDependencies=function(name){return this[name]};gadgets.UserPrefStore=function(){};gadgets.UserPrefStore.prototype.getPrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.UserPrefStore.prototype.savePrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.DefaultUserPrefStore=function(){gadgets.UserPrefStore.call(this)};gadgets.DefaultUserPrefStore.inherits(gadgets.UserPrefStore);gadgets.DefaultUserPrefStore.prototype.getPrefs=function(gadget){};gadgets.DefaultUserPrefStore.prototype.savePrefs=function(gadget){};gadgets.GadgetService=function(){};gadgets.GadgetService.prototype.setHeight=function(elementId,height){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setTitle=function(gadget,title){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setUserPref=function(id){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.IfrGadgetService=function(){gadgets.GadgetService.call(this);var service=this;gadgets.rpc.register("resize_iframe",function(){service.setHeight.apply(this,arguments)});gadgets.rpc.register("set_pref",function(){service.setUserPref.apply(this,arguments)});gadgets.rpc.register("set_title",function(){service.setTitle.apply(this,arguments)});gadgets.rpc.register("requestNavigateTo",function(){service.requestNavigateTo.apply(this,arguments)})};gadgets.IfrGadgetService.inherits(gadgets.GadgetService);gadgets.IfrGadgetService.prototype.setHeight=function(height){if(height>gadgets.container.maxheight_){height=gadgets.container.maxheight_}var element=document.getElementById(this.f);if(element){element.style.height=height+"px"}};gadgets.IfrGadgetService.prototype.requestNavigateTo=function(view,opt_params){var id=this.getGadgetIdFromModuleId(this.f);var url=this.getUrlForView(view);if(opt_params){var paramStr=JSON.stringify(opt_params);if(paramStr.length>0){url+="&appParams="+encodeURIComponent(paramStr)}}if(url&&document.location.href.indexOf(url)==-1){document.location.href=url}};gadgets.IfrGadgetService.prototype.getUrlForView=function(view){if(view==="canvas"){return"/canvas"}else{if(view==="profile"){return"/profile"}else{return null}}};gadgets.IfrGadgetService.prototype.getGadgetIdFromModuleId=function(moduleId){return parseInt(moduleId.match(/_([0-9]+)$/)[1],10)};gadgets.LayoutManager=function(){};gadgets.LayoutManager.prototype.getGadgetChrome=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.StaticLayoutManager=function(){gadgets.LayoutManager.call(this)};gadgets.StaticLayoutManager.inherits(gadgets.LayoutManager);gadgets.StaticLayoutManager.prototype.setGadgetChromeIds=function(gadgetChromeIds){this.gadgetChromeIds_=gadgetChromeIds};gadgets.StaticLayoutManager.prototype.getGadgetChrome=function(gadget){var chromeId=this.gadgetChromeIds_[gadget.id];return chromeId?document.getElementById(chromeId):null};gadgets.FloatLeftLayoutManager=function(layoutRootId){gadgets.LayoutManager.call(this);this.layoutRootId_=layoutRootId};gadgets.FloatLeftLayoutManager.inherits(gadgets.LayoutManager);gadgets.FloatLeftLayoutManager.prototype.getGadgetChrome=function(gadget){var layoutRoot=document.getElementById(this.layoutRootId_);if(layoutRoot){var chrome=document.createElement("div");chrome.className="gadgets-gadget-chrome";chrome.style.cssFloat="left";layoutRoot.appendChild(chrome);return chrome}else{return null}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-container-resources', location = 'js/gadgets-container.js' */
gadgets.Container=function(){this.parentUrl_="http://"+document.location.host;this.country_="ALL";this.language_="ALL";this.view_="default";this.nocache_=1;this.maxheight_=2147483647};gadgets.Container.inherits(gadgets.Extensible);gadgets.Container.prototype.userPrefStore=new gadgets.DefaultUserPrefStore();gadgets.Container.prototype.gadgetService=new gadgets.GadgetService();gadgets.Container.prototype.layoutManager=new gadgets.StaticLayoutManager();gadgets.Container.prototype.setParentUrl=function(url){this.parentUrl_=url};gadgets.Container.prototype.setCountry=function(country){this.country_=country};gadgets.Container.prototype.setNoCache=function(nocache){this.nocache_=nocache};gadgets.Container.prototype.setLanguage=function(language){this.language_=language};gadgets.Container.prototype.setView=function(view){this.view_=view};gadgets.Container.prototype.setMaxHeight=function(maxheight){this.maxheight_=maxheight};gadgets.Container.prototype.getGadgetKey_=function(instanceId){return"gadget_"+instanceId};gadgets.IfrContainer=function(){gadgets.Container.call(this)};gadgets.IfrContainer.inherits(gadgets.Container);gadgets.IfrContainer.prototype.gadgetService=new gadgets.IfrGadgetService();gadgets.IfrContainer.prototype.setParentUrl=function(url){if(!url.match(/^http[s]?:\/\//)){url=document.location.href.match(/^[^?#]+\//)[0]+url}this.parentUrl_=url};gadgets.container=new gadgets.IfrContainer();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-standalone-resources', location = 'js/gadgets-standalone.js' */
new gadgets.IfrGadgetService();gadgets.IfrGadgetService.prototype.setTitle=function(title){};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue', location = 'js/init/edit.js' */
define("quick-edit/init/edit",["quick-edit/form/factory/edit-issue","quick-edit/util/dialog","aui/tabs","jquery"],function(a,b,c,d){return{initDialog:function(){var e=a().asDialog({windowTitle:function(){return b.getIssueActionTitle("Edit Issue")},id:"edit-issue-dialog"});d(document).bind("dialogContentReady",function(){c.setup()});return e}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application-init', location = 'js/projectIssueNavInit.js' */
define("jira/projectissuenavigator/init",["require"],function(a){var d=a("jira/projectissuenavigator"),b=a("jira/util/data/meta"),c=a("wrm/data"),e=a("jquery");e(function(){e("fieldset.parameters input[title\x3dloggedInUser]").val(b.get("remote-user"))});return function(a){var b=new d({el:e(a),canCreateIssues:c.claim("com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"),emptyViewContent:c.claim("com.atlassian.jira.jira-projects-issue-navigator:empty-state-panel-html")});b.start();
JIRA.API.getSidebar().done(function(a){a=a.getAUISidebar();a.on("collapse-end",function(){b.adjustSize()});a.on("expand-end",function(){b.adjustSize()})})}});require(["jira/components/issueviewer/services/darkfeatures","jira/projectissuenavigator/init","jira/skate","jquery"],function(a,d,b,c){a.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()?b("issue-navigator-init",{type:b.type.CLASSNAME,attached:function(){d(c(".issue-navigator").get(0))}}):c(function(){d(c(".issue-navigator").get(0))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:split_vendors~jira-quicksearch-plugin', location = 'frontend/bundle.vendors~jira-quicksearch-plugin.js' */
(window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664||[]).push([[2],{1:function(e,t,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a=n(11),s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),i=null,d=0,u=!1,f=function(){},l="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],r=s[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(h(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(h(n.parts[a]));s[n.id]={id:n.id,refs:1,parts:o}}}}function c(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function h(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(u)return f;r.parentNode.removeChild(r)}if(l){var a=d++;r=i||(i=c()),t=g.bind(null,r,a,!1),n=g.bind(null,r,a,!0)}else r=c(),t=m.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}e.exports=function(e,t,n){u=n;var r=a(e,t);return p(r),function(t){for(var n=[],o=0;o<r.length;o++){var i=r[o];(d=s[i.id]).refs--,n.push(d)}t?p(r=a(e,t)):r=[];for(o=0;o<n.length;o++){var d;if(0===(d=n[o]).refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete s[d.id]}}}};var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function g(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var s=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function m(e,t){var n=t.css,r=t.media,a=t.sourceMap;if(r&&e.setAttribute("media",r),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},11:function(e,t){e.exports=function(e,t){for(var n=[],r={},a=0;a<t.length;a++){var s=t[a],o=s[0],i={id:e+":"+a,css:s[1],media:s[2],sourceMap:s[3]};r[o]?r[o].parts.push(i):n.push(r[o]={id:o,parts:[i]})}return n}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:entrypoint-jira-quicksearch-plugin', location = 'frontend/bundle.jira-quicksearch-plugin.js' */
!function(e){function t(t){for(var n,o,a=t[0],s=t[1],l=t[2],f=0,_=[];f<a.length;f++)o=a[f],Object.prototype.hasOwnProperty.call(u,o)&&u[o]&&_.push(u[o][0]),u[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);_.length;)_.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==u[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},u={1:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];return 0===u[e]?Promise.resolve():u[e]?u[e][2]:(t.push(new Promise((function(t,r){u[e]=[t,r]})),new Promise((function(t,r){WRM.require("wrc!com.atlassian.jira.plugins.jira-quicksearch-plugin:"+e).then(t,r)}))),u[e][2]=Promise.all(t))},o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(o.p=AJS.contextPath()+"/s/179fe1b6-7abb-442c-85c5-843e59280e21/_/download/resources/com.atlassian.jira.plugins.jira-quicksearch-plugin:assets-179fe1b6-7abb-442c-85c5-843e59280e21/");var a=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=s;i.push([7,2]),r()}([function(e,t){e.exports=require("jquery")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_SEARCH_RESULTS_EMPTY_STATE=t.QUICK_SEARCH_PARENT_LOADING_CLASS=t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=t.QUICK_SEARCH_SPINNER_CLASS=t.QUICK_SEARCH_INPUT_LOCATOR=t.QUICK_SEARCH_INPUT_ID=t.QUICK_SEARCH_FEATURE_FLAG=void 0;var n=u(r(6));function u(e){return e&&e.__esModule?e:{default:e}}var i=u(r(3)).default,o=(t.QUICK_SEARCH_FEATURE_FLAG="jira.quick.search",t.QUICK_SEARCH_INPUT_ID="quickSearchInput"),a=t.QUICK_SEARCH_INPUT_LOCATOR="#"+o,s=t.QUICK_SEARCH_SPINNER_CLASS="quick-search-spinner";t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=a+" ~ ."+s,t.QUICK_SEARCH_PARENT_LOADING_CLASS="quicksearch-loading",t.QUICK_SEARCH_RESULTS_EMPTY_STATE=Object.freeze([{id:"quick-search-issues",items:[],name:"Issues",url:(0,n.default)()+"/issues/?jql=order+by+lastViewed+DESC",viewAllTitle:"View all issues"},{id:"quick-search-projects",items:[],name:"ultimate.search.group.projects.name",url:(0,n.default)()+"/projects?selectedCategory=all&selectedProjectType=all&contains=",viewAllTitle:"View all projects"}])},function(e,t){e.exports=require("jira/util/formatter")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("jira/analytics")},function(e,t){e.exports=require("wrm/context-path")},function(e,t,r){"use strict";var n=s(r(0)),u=s(r(4)),i=s(r(5)),o=s(r(8));r(9);var a=r(2);function s(e){return e&&e.__esModule?e:{default:e}}o.default.isFeatureEnabled(a.QUICK_SEARCH_FEATURE_FLAG)&&((0,n.default)((function(){var e=(0,n.default)(a.QUICK_SEARCH_INPUT_LOCATOR);e.after('<div class="'+a.QUICK_SEARCH_SPINNER_CLASS+'"></div>'),e.on("beforeBlurInput",(function(e){e.preventDefault()}));var t=u.default.once((function(){r.e(0).then(r.t.bind(null,12,7)).then((function(e){return(0,e.spinStart)()})),Promise.all([r.e(4),r.e(0),r.e(3)]).then(r.t.bind(null,13,7))}));e.focus(t),e.is(":focus")&&t()})),(0,n.default)(window).load((function(){r.e(5).then(r.t.bind(null,14,7)).then((function(e){return(0,e.showOnboardingTip)()})),i.default.send({name:"quicksearch.enabled"})})))},function(e,t){e.exports=require("jira/featureflags/feature-manager")},function(e,t,r){var n=r(10);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(1)("391be713",n,!0)},function(e,t,r){"use strict";r.r(t)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.label', location = 'aui.chunk.39300df2da4fc9be2774--74411ccf73332101dcc1.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.pattern.label"],{Y5aH:function(i,u,n){"use strict";n.r(u);n("FStl"),n("Q0fs"),n("nqD9")}},[["Y5aH","runtime","aui.splitchunk.fbbef27525","aui.splitchunk.056561461c","aui.splitchunk.949297951c"]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml('Application Links') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml('Shortcuts') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('Linked Applications') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy74 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy74, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList82 = opt_data.list;
  var linkListLen82 = linkList82.length;
  for (var linkIndex82 = 0; linkIndex82 < linkListLen82; linkIndex82++) {
    var linkData82 = linkList82[linkIndex82];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData82.href) + '" title="' + soy.$$escapeHtml(linkData82.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData82.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    if (AJS.DarkFeatures.isEnabled('rotp.sidebar')) {
      var sidebarContents__soy97 = '' + navlinks.templates.appswitcher.sidebarContents(null);
      var triggerContent__soy99 = '' + navlinks.templates.appswitcher.trigger(null);
      output += navlinks.templates.appswitcher.sidebar({sidebar: {id: 'app-switcher', content: sidebarContents__soy97}, trigger: {showIcon: false, content: triggerContent__soy99}});
    } else {
      output += navlinks.templates.appswitcher_old.switcher(null);
    }
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.sidebar = function(opt_data, opt_ignored) {
  return '<button class="sidebar-trigger app-switcher-trigger" aria-owns="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" aria-haspopup="true" >' + soy.$$filterNoAutoescape(opt_data.trigger.content) + '</button><div id=' + soy.$$escapeHtml(opt_data.sidebar.id) + ' class="app-switcher-sidebar aui-style-default sidebar-offscreen" data-is-sidebar="true" data-is-user-admin="' + soy.$$escapeHtml(false) + '">' + soy.$$filterNoAutoescape(opt_data.sidebar.content) + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebar.soyTemplateName = 'navlinks.templates.appswitcher.sidebar';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
(function(e,a){var d="is-user-admin";var c="#app-switcher";a.SideBar=function(f){var g=this;this.$sidebar=null;f=e.extend({sidebarContents:null},f);this.getLinks=function(){return e.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateAppLinks).fail(this.showAppSwitcherError)};this.populateProjectHeader=function(i,h){g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").after(navlinks.templates.appswitcher.projectHeaderSection({avatarUrl:h,name:i}))};this.getProjectData=function(){var h=e(".project-shortcut-dialog-trigger"),i=h.data("key"),j=h.data("entity-type");if(h.size()==0||!i||!j){e(".app-switcher-shortcuts").remove();return}var l,k;k=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+i,cache:false,data:{entityType:j},dataType:"json"});l=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+i,cache:false,data:{entityType:j},dataType:"json"});e.when(k,l).then(function(n,m){g.updateProjectShortcuts(n,m,{key:i,entityType:j,name:h.data("name"),avatarUrl:h.find("img").prop("src")})},g.showProjectShortcutsError)};this.getSidebar=function(){if(!this.$sidebar){this.$sidebar=e(f.sidebarContents)}return this.$sidebar};this.addApplicationsCog=function(){e(".app-switcher-applications .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-applications-admin-dropdown",links:[{href:AJS.contextPath()+"/plugins/servlet/customize-application-navigator",label:"Customize navigator",title:"Add new entries, hide existing or restrict who sees what"},{href:AJS.contextPath()+"/plugins/servlet/applinks/listApplicationLinks",label:"Manage application links",title:"Link to more Atlassian applications"}]}))};this.addProjectShortcutsCog=function(h,j){var i=[{href:AJS.contextPath()+"/plugins/servlet/custom-content-links-admin?entityKey="+h,label:"Customize shortcuts",title:""}];if(g.entityMappings[j]){i.push({href:g.generateEntityLinksUrl(h,g.entityMappings[j]),label:"Manage product links",title:""})}g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-project-shortcuts-admin-dropdown",links:i}))};this.updateAppLinks=function(h){e(function(){g.getSidebar().find(".app-switcher-applications").html(navlinks.templates.appswitcher.linkSection({title:"Application Links",list:h}));if(g.getSidebar().data(d)){g.addApplicationsCog()}g.bindAnalyticsHandlers(g.getSidebar(),h)})};this.updateProjectShortcuts=function(k,i,j){var l=k[0].shortcuts,h=i[0].shortcuts;g.getSidebar().find(".app-switcher-shortcuts").html(navlinks.templates.appswitcher.linkSection({title:"Shortcuts",list:l.concat(h)}));if(g.getSidebar().data(d)){g.addProjectShortcutsCog(j.key,j.entityType)}g.populateProjectHeader(j.name,j.avatarUrl);g.bindAnalyticsHandlers(g.getSidebar(),data)};this.entityMappings={"confluence.space":"com.atlassian.applinks.api.application.confluence.ConfluenceSpaceEntityType","jira.project":"com.atlassian.applinks.api.application.jira.JiraProjectEntityType","bamboo.project":"com.atlassian.applinks.api.application.bamboo.BambooProjectEntityType","stash.project":"com.atlassian.applinks.api.application.stash.StashProjectEntityType"};this.generateEntityLinksUrl=function(h,i){if(i===g.entityMappings["confluence.space"]){return AJS.contextPath()+"/spaces/listentitylinks.action?typeId="+i+"&key="+h}else{return AJS.contextPath()+"/plugins/servlet/applinks/listEntityLinks/"+i+"/"+h}};this.showAppSwitcherError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-applications .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.showProjectShortcutsError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-shortcuts .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.retryLoading=function(h){this.getSidebar().html(navlinks.templates.appswitcher.sidebarContents());this.getLinks();this.getProjectData();h&&h.stopPropagation()};this.bindAnalyticsHandlers=function(h,i){};this.getLinks();e(this.getProjectData);this.toggleSidebar=function(j){j.preventDefault();var k=g.getSidebar(),i=e("body"),h=e(window.document);if(!i.hasClass("app-switcher-open")){var m=e("#header");k.css("left",-k.width());k.parent("body").length||k.appendTo("body");b({data:k});k.animate({left:0},300);function l(n){var p=n.target&&e(n.target),o=n.keyCode;if(n.originalEvent===j.originalEvent){return}if(p&&!o&&!(p.closest(k).length||p.closest(m).length)&&j.which==1&&!(n.shiftKey||n.ctrlKey||n.metaKey)){g.toggleSidebar()}else{if(o===27){g.toggleSidebar()}}}h.on("click.appSwitcher",l);h.on("keydown.appSwitcher",l);h.on("scroll.appSwitcher",k,b)}else{h.off(".appSwitcher")}i.toggleClass("app-switcher-open")};e("#header").on("click",".app-switcher-trigger",this.toggleSidebar)};function b(h){var f=e(document).scrollTop(),i=e("#header"),g=(i.height()+i.offset().top)-f;if(g>=0){h.data.css({top:g,position:"fixed"})}else{h.data.css({top:0,left:0,position:"fixed"})}}e(function(){if(e(c).data("is-sidebar")===true){new a.SideBar({sidebarContents:c})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click";var APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show";var APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error";var APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click";var APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";(function(c,f){var b="isAppSuggestionAvailable";var d="isSiteAdminUser";var e="isUserAdmin";var a="#app-switcher";f.AppSwitcher=function(j){var l=AJS.contextPath()+"/plugins/servlet/customize-application-navigator";var k="unified.usermanagement";var m=this;this.$dropdown=null;j=c.extend({dropdownContents:null},j);this.getLinks=function(){return c.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){if(!this.$dropdown){this.$dropdown=c(j.dropdownContents);this.envData=this.$dropdown.data("environment")}return this.$dropdown};this.updateDropdown=function(n){c(function(){m.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:n,showAdminLink:m.envData[e],adminLink:l}));m.bindAnalyticsHandlers();if(m.envData[b]===true){m.handleSuggestionApps(n)}})};this.bindAnalyticsHandlers=function(){c(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});c("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});c("#app-switcher .nav-link").on("click",function(){var p="custom";var q=c(this).find("a");var o=q.attr("href");var n=window.location.hostname;if(o&&o.indexOf("bitbucket.org")>-1){p="bitbucket-cloud"}else{if(o.indexOf(n+"/wiki")>-1){p="confluence"}else{if(o.indexOf(n+"/build")>-1){p="bamboo"}else{if(o.indexOf(n)>-1){p="jira"}}}}AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:p}})});c(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.isBillingSystemEnabled=function(){return(this.envData[d]===true)&&AJS.DarkFeatures.isEnabled(k)};this.handleSuggestionApps=function(q){var r=_.map(q,function(s){return s.applicationType.toLowerCase()});var o=c("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");o.html(navlinks.templates.appswitcher_old.suggestionApps);var p=o.find(".suggestion-apps");var n=false;_.each(g,function(s){if(!_.contains(r,s.appName)){n=true;p.append(navlinks.templates.appswitcher_old.suggestionApp({suggestionApp:s,isBillingSystemEnabled:m.isBillingSystemEnabled()}))}});if(!n){return}c("#app-switcher").append(o);c(".app-discovery-suggestion-app").click(function(){var t=c(this).find("a");var s;if(m.envData[d]===true){s="appswitcher.discovery.siteadmin.select.inproduct."}else{s="appswitcher.discovery.user.select."}s=s+t.attr("id").toLowerCase();AJS.trigger("analytics",{name:s})});c(".app-discovery-suggestion-app").hover(function(){c(this).find("a").removeClass("active").removeClass("aui-dropdown2-active")});c(".app-discovery-cancel-button").click(function(){AJS.trigger("analytics",{name:"appswitcher.discovery.nothanks.button.click"});i(h,"true");o.remove()})};this.showError=function(){c(function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});m.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",c.proxy(m.retryLoading,m))})};this.retryLoading=function(n){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();n&&n.stopPropagation()};this.getLinks()};var h="key-no-thanks";var g=[{appName:"jira",appDesc:"Issue & Project Tracking Software",discoveryUrl:"https://www.atlassian.com/software/jira",billingSystemDiscoveryUrl:"/admin/billing/addapplication"},{appName:"confluence",appDesc:"Collaboration and content sharing",discoveryUrl:"https://www.atlassian.com/software/confluence",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=confluence.ondemand"},{appName:"bamboo",appDesc:"Continuous integration",discoveryUrl:"https://www.atlassian.com/software/bamboo",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=bamboo.ondemand"}];var i=function(j,k){c.ajax({url:AJS.contextPath()+"/rest/menu/latest/userdata/",type:"PUT",contentType:"application/json",data:JSON.stringify({key:j,value:k})})};c(function(){if(c(a).data("is-switcher")===true){new f.AppSwitcher({dropdownContents:a})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape('Configure\x26hellip;') + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape('Loading\x26hellip;') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('Linked Applications') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    var loadingContent__soy81 = '' + navlinks.templates.appswitcher_old.loading(null);
    var triggerContent__soy83 = '' + navlinks.templates.appswitcher_old.trigger(null);
    output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy81, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {tagName: 'button', showIcon: false, content: triggerContent__soy83, extraClasses: 'app-switcher-trigger aui-dropdown2-trigger-arrowless', extraAttributes: {href: '#app-switcher'}}});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}


navlinks.templates.appswitcher_old.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy89 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy89) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy89) + '" target="_blank"></a><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApp';
}


navlinks.templates.appswitcher_old.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml('Try other Atlassian apps') + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml('Don\x27t show this again') + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApps';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:header-templates', location = 'soy/headerDropdown.soy' */
// This file was automatically generated from headerDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Menu.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Menu == 'undefined') { JIRA.Templates.Menu = {}; }
if (typeof JIRA.Templates.Menu.Dropdowns == 'undefined') { JIRA.Templates.Menu.Dropdowns = {}; }


JIRA.Templates.Menu.Dropdowns.dropdown2Fragment = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList3 = opt_data.sections;
  var sectionListLen3 = sectionList3.length;
  for (var sectionIndex3 = 0; sectionIndex3 < sectionListLen3; sectionIndex3++) {
    var sectionData3 = sectionList3[sectionIndex3];
    output += JIRA.Templates.Menu.Dropdowns.dropdown2Section(sectionData3);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Fragment.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Fragment';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Section = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var hasItems__soy7 = opt_data.items && opt_data.items.length > 0;
  if (hasItems__soy7) {
    output += '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + ((opt_data.style) ? soy.$$escapeHtml(opt_data.style) : '') + '" >' + ((opt_data.label) ? '<strong>' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<ul class="aui-list-truncate">';
    var itemList27 = opt_data.items;
    var itemListLen27 = itemList27.length;
    for (var itemIndex27 = 0; itemIndex27 < itemListLen27; itemIndex27++) {
      var itemData27 = itemList27[itemIndex27];
      output += '<li' + ((itemData27.id) ? ' id="' + soy.$$escapeHtml(itemData27.id) + '"' : '') + ((itemData27.style) ? ' class="' + soy.$$escapeHtml(itemData27.style) + '"' : '') + '>' + JIRA.Templates.Menu.Dropdowns.dropdown2Item(itemData27) + '</li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Section.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Section';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Item = function(opt_data, opt_ignored) {
  var output = '<a href="' + soy.$$escapeHtml(opt_data.url) + '"' + ((opt_data.parameters && opt_data.parameters.trackClick) ? ' data-track-click="' + soy.$$escapeHtml(opt_data.parameters.trackClick) + '"' : '') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '_lnk"' : '') + ' class="' + ((opt_data.iconUrl) ? 'aui-icon-container' : '') + ((opt_data.parameters && opt_data.parameters['class']) ? ' ' + soy.$$escapeHtml(opt_data.parameters['class']) : '') + '"';
  if (opt_data.parameters) {
    var keyList69 = soy.$$getMapKeys(opt_data.parameters);
    var keyListLen69 = keyList69.length;
    for (var keyIndex69 = 0; keyIndex69 < keyListLen69; keyIndex69++) {
      var keyData69 = keyList69[keyIndex69];
      output += (keyData69 != 'class' && keyData69 != 'iconurl') ? ' ' + soy.$$escapeHtml(keyData69) + '="' + soy.$$escapeHtml(opt_data.parameters[keyData69]) + '"' : '';
    }
  }
  output += '>' + ((opt_data.iconUrl) ? '<img class="icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" alt="" />' : '') + soy.$$escapeHtml(opt_data.label) + '</a>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Item.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Item';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:analytics-header', location = 'js/header-analytics.js' */
define("jira/header/init-header-analytics",["jira/analytics","jira/util/logger","jquery"],function(n,t,e){"use strict";function i(n,t){var e=void 0;return n.forEach(function(n){n.id===t&&(e=n.analyticEventKey)}),e}function o(o){var m=e(o);m.on("click","#logo",function(){n.send({name:a+"home"}),t.trace(r)}),m.on("aui-dropdown2-show",l,function(){var n=e(this).attr("id");c(u,n)&&d(n,u,".open")}),m.on("aui-dropdown2-hide",l,function(){var n=e(this).attr("id");c(u,n)&&d(n,u,".close")}),m.on("aui-dropdown2-show",s,function(){var n=e(this);n.trigger("aui-dropdown2-show-before"),n.trigger("aui-dropdown2-show-after")}),m.on("click",y,function(){var n=this.getAttribute("aria-controls");c(u,n)&&d(n,u,".click")}),m.on("click",".aui-dropdown2 .aui-dropdown2-section a",function(o){var c=e(o.target).closest(l).first();if(null!==c){var d=c.find("a").index(o.target),s=c.attr("id"),y=i(u,s);n.send({name:a+y+".item.click",itemIndex:d}),t.trace(r)}})}var a="jira.navigation.header.",r="jira.header.analytics.event",c=function(n,t){return n.some(function(n){return n.id===t})},d=function(e,o,c){var d=i(o,e),u=a+d+c;n.send({name:u}),t.trace(r)},u=[{id:"home_link-content",analyticEventKey:"dashboards"},{id:"browse_link-content",analyticEventKey:"projects"},{id:"find_link-content",analyticEventKey:"issues"},{id:"tempo_menu-content",analyticEventKey:"tempo"},{id:"bonfire_top_menu_dropdown-content",analyticEventKey:"capture"},{id:"greenhopper_menu-content",analyticEventKey:"boards"},{id:"plugins-jira-webitem-main-content",analyticEventKey:"portfolio"},{id:"system-help-menu-content",analyticEventKey:"help"},{id:"system-admin-menu-content",analyticEventKey:"admin"}],s="#system-help-menu-content, #user-options-content, #system-admin-menu-content",l=u.map(function(n){return"#"+n.id}).join(", "),y=u.reduce(function(n,t){return n+"a.aui-dropdown2-trigger[aria-owns="+t.id+"]"},"");return{init:o}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/init-dropdown2.js' */
define("jira/header/dropdown/element",["jira/ajs/ajax/smart-ajax","jira/jquery/deferred","jira/skate","jira/util/data/meta","wrm/context-path","jquery"],function(e,a,t,n,o,r){"use strict";var i=0;return t("aui-dropdown2-ajax",{type:t.type.CLASSNAME,attached:function(t){function d(){document.activeElement===f.get(0)&&w.get(0).focusItem(0),s()&&u()}function u(){window.scrollTo(0,0)}function s(){return w.parents("#header").length>0}function c(){f.data("kbd-interacted",!1)}var w=r(document.getElementById(t.getAttribute("aria-controls"))),f=r(t),m=w.data("aui-dropdown2-ajax-key");i+=1;var p=".aui-dropdown2-ajax"+i;t.jiraInitDropdown2EventNamespace=p;f.on("keydown"+p,function(){f.data("kbd-interacted",!0),setTimeout(c,4)}),w.on("aui-dropdown2-show-after"+p,c),c(),w.on("aui-dropdown2-show"+p,function(){if(w.trigger("aui-dropdown2-show-before"),m){var t=new a,i=new a;setTimeout(function(){t.resolve(f.data("kbd-interacted"))},0),w.empty(),w.addClass("aui-dropdown2-loading"),f.attr("aria-busy","true"),e.makeRequest({url:o()+"/rest/api/1.0/menus/"+m,data:{inAdminMode:n.getBoolean("in-admin-mode")},dataType:"json",cache:!1,success:function(e){i.resolve(e)},error:i.reject}),r.when(t,i).done(function(e,a){w.html(JIRA.Templates.Menu.Dropdowns.dropdown2Fragment(a));var t=f.hasClass("aui-dropdown2-sub-trigger");e&&t?setTimeout(d,0):setTimeout(function(){w.focus(),u()},0)}).always(function(){f.attr("aria-busy","false"),w.removeClass("aui-dropdown2-loading"),w.trigger("aui-dropdown2-show-after")})}else w.trigger("aui-dropdown2-show-after")})},detached:function(e){var a=r(document.getElementById(e.getAttribute("aria-controls"))),t=r(e),n=e.jiraInitDropdown2EventNamespace;n&&(a.off(n),t.off(n))}})}),function(e){"use strict";e(document).on("aui-responsive-menu-item-created",".aui-header.aui-dropdown2-trigger-group",function(a){var t=a.originalEvent.detail;e(t.originalItem).find("> .aui-dropdown2-ajax").length>0&&e(t.newItem).find("> .aui-dropdown2-trigger").addClass("aui-dropdown2-ajax")})}(require("jquery"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/app-switcher-analytics.js' */
define("jira/header/init-app-switcher-analytics",["jira/analytics","jquery"],function(i,n){"use strict";function a(a){var e=n(a);e.on("aui-dropdown2-show-before","#app-switcher",function(){i.send({name:"navigation.header.appswitcher.open"})}),e.on("click","#app-switcher a, #app-switcher button",function(a){var e,t=n(a.target),o=t.closest("li").index();t.is(".nav-link-edit")?e="configure":t.is(".app-discovery-link")?e=this.id?this.id:"unknown.app.discovery":t.is(".app-discovery-cancel-button")?(e="dont.show",o=0):e="application",i.send({name:"navigation.header.appswitcher.click",data:{position:o,linkType:e}})}),e.on("aui-dropdown2-hide","#app-switcher",function(){i.send({name:"navigation.header.appswitcher.close"})})}return{init:a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/init-header.js' */
require(["jira/header/dropdown/element","jira/header/init-header-analytics","jira/header/init-app-switcher-analytics"],function(e,i,t){"use strict";i.init(document),t.init(document)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-1.3.1.js' */
(function(){var b={},d=window,h=d.document;b.disabled=!1;b.set=function(a,b){};b.get=function(a){};b.remove=function(a){};b.clear=function(){};b.transact=function(a,e){var c=b.get(a);"undefined"==typeof c&&(c={});e(c);b.set(a,c)};b.serialize=function(a){return JSON.stringify(a)};b.deserialize=function(a){if("string"==typeof a)return JSON.parse(a)};try{var k="localStorage"in d&&d.localStorage}catch(a){k=!1}if(k){var c=d.localStorage;b.set=function(a,e){if(void 0===e)return b.remove(a);c.setItem(a,
b.serialize(e))};b.get=function(a){return b.deserialize(c.getItem(a))};b.remove=function(a){c.removeItem(a)};b.clear=function(){c.clear()}}else{try{var l="globalStorage"in d&&d.globalStorage&&d.globalStorage[d.location.hostname]}catch(a){l=!1}if(l)c=d.globalStorage[d.location.hostname],b.set=function(a,e){if(void 0===e)return b.remove(a);c[a]=b.serialize(e)},b.get=function(a){return b.deserialize(c[a]&&c[a].value)},b.remove=function(a){delete c[a]},b.clear=function(){for(var a in c)delete c[a]};else if(h.documentElement.addBehavior){d=
function(a){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(c);f.appendChild(c);c.addBehavior("#default#userData");c.load("localStorage");e=a.apply(b,e);f.removeChild(c);return e}};try{var g=new ActiveXObject("htmlfile");g.open();g.write('\x3cscript\x3edocument.w\x3dwindow\x3c/script\x3e\x3ciframe src\x3d"/favicon.ico"\x3e\x3c/frame\x3e');g.close();var f=g.w.frames[0].document;c=f.createElement("div")}catch(a){c=h.createElement("div"),f=h.body}b.set=d(function(a,c,d){if(void 0===
d)return b.remove(c);a.setAttribute(c,b.serialize(d));a.save("localStorage")});b.get=d(function(a,c){return b.deserialize(a.getAttribute(c))});b.remove=d(function(a,b){a.removeAttribute(b);a.save("localStorage")});b.clear=d(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,d;d=b[c];c++)a.removeAttribute(d.name);a.save("localStorage")})}}try{b.set("__storejs__","__storejs__"),"__storejs__"!=b.get("__storejs__")&&(b.disabled=!0),b.remove("__storejs__")}catch(a){b.disabled=
!0}"undefined"!=typeof module?module.exports=b:"function"===typeof define&&define.amd?define(b):this.store=b})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=void 0!==document.hidden;return{supported:a,isHidden:function(){return a?document.hidden:!1}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(c){var d=XMLHttpRequest.prototype.send,e=window.fetch,a=!1;return{install:function(){!a&&c.supported&&(XMLHttpRequest.prototype.send=function(){c.isHidden()&&this.setRequestHeader("x-atlassian-mau-ignore",c.isHidden());d.apply(this,arguments)},e&&(window.fetch=function(a,b){b=b||{};var d=b.headers;c.isHidden()&&(b.headers=d?new Headers(d):new Headers,b.headers.set("x-atlassian-mau-ignore",c.isHidden()));
return e.call(this,a,b)}),a=!0)},uninstall:function(){a&&(XMLHttpRequest.prototype.send=d,e&&(window.fetch=e));a=!1}}});require("atlassian/analytics/user-activity-xhr-header").install();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(q){var r="function"===typeof AJS.contextPath?AJS.contextPath():"",d=null,h=null,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)}),k=function(){var a=[],b;if(0!=AJS.EventQueue.length){a=store.get(d)||a;var c=0;for(b=AJS.EventQueue.length;c<b;++c){var e=AJS.EventQueue[c];e.name&&(e={name:e.name,properties:e.properties,time:e.time||0},a.push(e))}AJS.EventQueue.length=0;store.set(d,a)}},p=0,l=0,m=function(){function a(){setTimeout(m,
Math.min(5E3*Math.pow(2,p=0),3E5))}if(store.get(h))var b=!1;else store.set(h,n),b=store.get(h)===n;if(b)l=0;else if(++l,20>l)return a();try{k();var c=store.get(d);if(!c||!c.length)return a();store.remove(d);if(!t(c))return a();var e=(new Date).getTime();for(b=0;b<c.length;b++)c[b].timeDelta=0<c[b].time?c[b].time-e:b-c.length,delete c[b].time;fetch(r+"/rest/analytics/1.0/publish/bulk",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"same-origin"}).then(b=>
{if(!b.ok)throw Error("A response outside OK range (200-299)");a()}).catch(()=>{AJS.EventQueue.concat(c);k();setTimeout(m,Math.min(5E3*Math.pow(2,++p),3E5))})}finally{store.set(h,null)}},t=function(a){for(var b=a.length-1;0<=b;b--){var c="",e=a[b],g=e.properties;if("undefined"===typeof e.name)c="you must provide a name for the event.";else if("undefined"!==typeof g&&null!==g)if(g.constructor!==Object)c="properties must be an object with key value pairs.";else{var d=void 0;for(d in g)if(g.hasOwnProperty(d)){var f=
g[d];"undefined"!==typeof f&&null!==f&&("number"===typeof f||"string"===typeof f||"boolean"===typeof f)||("undefined"!==typeof f&&null!==f&&f.toString?g[d]=f.toString():g[d]="")}}""!==c&&(AJS.log("WARN: Invalid analytics event detected and ignored, "+c+"\nEvent: "+JSON.stringify(e)),a.splice(b,1))}return a.length};AJS.EventQueue=AJS.EventQueue||[];var u=Array.prototype.push;AJS.EventQueue.push=function(a){a.time=(new Date).getTime();u.call(AJS.EventQueue,a)};AJS.toInit(function(){var a="unknown";
"jira"==document.body.id?a="jira":"com-atlassian-confluence"==document.body.id&&(a="confluence");d="atlassian-analytics."+a;h=d+".lock";setTimeout(m,500);-1<window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")?AJS.$("[data-property-id\x3d'analytics-enabled']").remove():-1<window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")&&(a=AJS.$(":contains(Enable Atlassian analytics)"),0<a.size()&&(a=a[a.size()-2])&&a.remove())});q(window).on("beforeunload",function(){k()});
AJS.Analytics={triggerPrivacyPolicySafeEvent:function(a,b){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:a,properties:b})}};AJS.bind("analytics",function(a,b){AJS.EventQueue.push({name:b.name,properties:b.data})});AJS.bind("analyticsEvent",function(a,b){AJS.EventQueue.push({name:b.name,properties:b.data})})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:policy-update-init', location = 'js/policy-update-init.js' */
AJS.toInit(function(){WRM.data.claim("com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider")&&WRM.require("wrc!com.atlassian.analytics.analytics-client:policy-update")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:programmatic-analytics-init', location = 'js/programmatic-analytics-init.js' */
(function(){WRM.data.claim("com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider")&&WRM.require("wrc!com.atlassian.analytics.analytics-client:programmatic-analytics")})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=(function(a){a.ApplicationHeader=function(b){b.Cog=(function(){var c=function(){var d=AJS.$("#system-admin-menu-content");if(d.length>0){return d}var e=AJS.$("#admin-menu-link-content");if(e.length>0){return e}return AJS.$("#bamboo\\.global\\.header-admin\\.menu")};return{getDropdown:c}}());return b}(a.ApplicationHeader||{});return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: 'Other applications', content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=(function(a){a.AdminShortcuts=(function(){var c=function(){return AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:false,dataType:"json"})};var b=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){c().done(function(e){e=_.reject(e,function(f){return f.local===true});if(e.length){var d=navlinks.templates.adminshortcuts.section({links:e});a.ApplicationHeader.Cog.getDropdown().append(d);b()}})}}}());return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){if(AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")){NavLinks.AdminShortcuts.render()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var c=[];var a=false;var b=false;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(d){c.push(d);if(a&&b===false){this.render()}},render:function(){c.sort(function(e,d){return e.weight-d.weight});a=true;if(c.length!==0){b=true;c[0].show()}}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(b){var c=function(a){return a.split(/\//).pop()};b.basename=c;b.dirname=function(a){var b=c(a);return a.substring(0,a.length-b.length)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'templates/soy/attach-screenshot-form.soy' */
// This file was automatically generated from attach-screenshot-form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Html5Screenshot.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Html5Screenshot == 'undefined') { JIRA.Templates.Html5Screenshot = {}; }


JIRA.Templates.Html5Screenshot.attachScreenshotForm = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml('Attach Screenshot') + '</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form" data-attach-secure-token="' + soy.$$escapeHtml(opt_data.attachUserToken) + '" data-submit-secure-token="' + soy.$$escapeHtml(opt_data.submitUserToken) + '"><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.id) + '"/><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '"><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>' + soy.$$escapeHtml('Take a screenshot:') + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3ePrtScn\x3c/kbd\x3e') + '</dd>' : '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3e\x26#8963; Ctrl\x3c/kbd\x3e + \x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3e\x26#8679; Shift\x3c/kbd\x3e + \x3ckbd\x3e3\x3c/kbd\x3e') + '</dd>') + '</dl></li><li><dl><dt>' + soy.$$escapeHtml('Paste the image:') + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3eCtrl\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e') + '</dd>' : '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e') + '</dd>') + '</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">' + soy.$$escapeHtml('Your image will be pasted here') + '</dt></dl></li></ul></div></div></div></div><div id=\'attach-max-size\' class="hidden">' + soy.$$escapeHtml(opt_data.maxSize) + '</div></div></div></div><fieldset><div><legend><span>' + soy.$$escapeHtml('Attach Screenshot') + '</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">' + soy.$$escapeHtml('File name') + ' <span class="aui-icon icon-required">' + soy.$$escapeHtml('Required') + '</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="' + soy.$$escapeHtml(opt_data.nextScreenshotName) + '"><div class="description">' + soy.$$escapeHtml('A file name to be used as attached image name') + '</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">' + soy.$$escapeHtml('Upload') + '</button><a href="#" class="cancel">' + soy.$$escapeHtml('Cancel') + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Html5Screenshot.attachScreenshotForm.soyTemplateName = 'JIRA.Templates.Html5Screenshot.attachScreenshotForm';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["require","exports"],function(e,a){var k=e("jira/util/formatter"),q=e("wrm/context-path"),m=e("jira/jquery/deferred"),c=e("jquery"),l=e("underscore"),r=e("dndattachment/ctrlv/base64decode"),h=e("dndattachment/ctrlv/utility"),t=e("jira/dialog/dialog-stack"),n=e("jira/dialog/dialog-register"),p=e("jira/ajs/ajax/smart-ajax"),u=e("jira/attachment/inline-attach");a.getFileFromEvent=function(a){var b=new m;h.isImagePasteEvent(a)?b.resolve(l(a.clipboardData.items).filter(function(a){return-1!==
a.type.indexOf("image")}).map(function(a){return a.getAsFile()})[0]||l(a.clipboardData.files).filter(function(a){return-1!==a.type.indexOf("image")})[0]):b.reject();return b.promise()};a.REQUEST_TIMEOUT_MILLIS=3E5;a.screenshotFileUpload={};a.screenshotFileUploadUri=null;a.$document=void 0;a.$window=void 0;a.$container=void 0;a.$fakeInput=void 0;a.uploadError=!1;a.uploadErrorMsg="";a.progressView={hidden:!1,progress:0,old:0,progressBarContainer:void 0,progressEl:void 0,container:void 0,options:void 0,
staticProgress:void 0,initProgress:function(){this.container=this.buildContainer();this.progressEl=this.buildProgress();this.container.append(this.progressEl);this.options={showPercentage:!1,height:"5px"};this.progressBarContainer=c("#attach-screenshot-progress-container");this.progressBarContainer.empty();this.progressBarContainer.append(this.container);this.staticProgress=this.container;this.hidden=!0},finish:function(){this.value(100)},progressHandler:function(a){this.value(Math.round(100*a.loaded/
a.total))},value:function(a){100<a?a=100:0>a&&(a=0);this.hidden&&(this.progressEl.show(),this.hidden=!1);this.old!==a&&(this.progressEl.progressBar(a,this.options),100<=a&&this.progressEl.fadeOut(),this.old=a)},buildContainer:function(){return c("\x3cdiv\x3e").addClass("file-progress")},buildProgress:function(){return c("\x3cdiv\x3e").attr("id","attach-screenshot-upload-progress")}};a.dialogView={pasteCatcher:{},presenter:void 0,getMaxSize:function(){return c("#attach-max-size").text()},getFileSize:function(){return c.isPlainObject(this.presenter.screenshotFileUpload)&&
l.isEmpty(this.presenter.screenshotFileUpload)?0:this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){c("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){c("#error-attach-screenshot-filename").remove()},displayErrors:function(a){"compatibility"in a&&h.showErrorMsg("",a.compatibility);"fileName"in a&&h.showErrorMsg("",a.fileName);"fileUpload"in
a&&h.showErrorMsg("",a.fileUpload)},appendBlobImage:function(a){var b=(window.URL||window.webkitURL).createObjectURL(a);this.presenter.screenshotFileUpload=a;this.createImage(b)},createImage:function(b){var d=new Image;d.onload=function(){};d.src=b;this.presenter.screenshotToUpload=d;b=c(d);b.addClass("attach-screenshot-pasted-image");d=c("#attach-screenshot-image-container");d.empty();d.append(b);this.presenter.$fakeInput.focus();l.defer(function(){a.imageCreatedHandler()})},checkInput:function(){var b=
a.dialogView.pasteCatcher.childNodes[0];if(b){if("IMG"===b.tagName&&0===b.src.indexOf("data:"))var d=b.src;a.dialogView.pasteCatcher.innerHTML=""}d||a.$fakeInput.focus();return d},onPaste:function(b){a.dialogView.cleanFileErrors();a.dialogView.cleanGeneralErrors();h.isImagePasteEvent(b)?a.getFileFromEvent(b).then(function(a){this.appendBlobImage(a)}.bind(this)):setTimeout(function(){var b=this.checkInput();b&&(a.screenshotFileUpload=r.decodeBase64DataUri(b),a.dialogView.createImage(b))}.bind(this),
0)},getFakeInput:function(){return c("#attach-screenshot-fake-input")},getContainer:function(){return c("#attach-screenshot-image-container")},getIssueKey:function(){return c("input[name\x3d'id']").val()},getDocument:function(){return c(document)},getWindow:function(){return c(window)},getFileNameInput:function(){return c("#attachscreenshotname")},hasPngExtension:function(a){return/\.png$/i.test(a)},setFileToConvert:function(a){c("input[name\x3d'filetoconvert']").val(a)},buildPasteCatcher:function(){if(document.getElementById("attach-screenshot-form")){var a=
document.createElement("div");a.setAttribute("contenteditable","true");a.style.width=0;a.style.height=0;a.style.position="absolute";a.style.top="-5000px";document.getElementById("attach-screenshot-form").appendChild(a);return a}},_getFormSubmits:function(){return c("#attach-screenshot-form").find("button.aui-button")},disable:function(){this._getFormSubmits().attr("disabled","disabled");return this},enable:function(){this._getFormSubmits().removeAttr("disabled");return this},isEnabled:function(){return this.isVisible()&&
!this._getFormSubmits().attr("disabled")},isVisible:function(){return 0<c("#attach-screenshot-form").length},initDialog:function(a){this.pasteCatcher={};this.presenter=a;this.pasteCatcher=this.buildPasteCatcher()}};a.initScreenshotPasteHandler=function(){var b=a.dialogView;a.screenshotFileUpload={};a.resetUploadErrors();a.dialogView.initDialog(a);a.$document=b.getDocument();a.$window=b.getWindow();a.$container=b.getContainer();a.$fakeInput=b.getFakeInput();a.bindOnce(a.$container,"click",a.setFocusOnClickHandler);
a.bindOnce(a.$fakeInput,"focus",a.showFocusOnFieldHandler);a.bindOnce(a.$fakeInput,"blur",a.hideFocusOnFieldHandler);a.bindOnce(a.$fakeInput,"keydown",a.keyDownHandler);h.browserIsSupported()?a.bindOnce(a.$window,"paste",a.pasteHandler):b.displayErrors({compatibility:k.format("Your browser is not supported. Consider using an alternative supported browser such as {0}Google Chrome{1} or {2}Firefox{3}.",'\x3ca href\x3d"//www.google.com/chrome/browser/"\x3e',"\x3c/a\x3e",'\x3ca href\x3d"//www.mozilla.org/firefox/"\x3e',"\x3c/a\x3e")})};a.resetUploadErrors=function(){a.uploadError=
!1;a.uploadErrorMsg=void 0};a.setUploadError=function(b){a.uploadError=!0;a.uploadErrorMsg=b};a.bindOnce=function(a,d,c){a.unbind(d,c);a.bind(d,c)};a.showFocusOnFieldHandler=function(){a.$container.addClass("focus")};a.hideFocusOnFieldHandler=function(){a.$container.addClass("focus")};a.setFocusOnClickHandler=function(){a.$fakeInput.focus()};a.pasteHandler=function(b){a.dialogView.isEnabled()&&(b=h.normalizePasteEvent(b),a.dialogView.onPaste(b))};a.polyPasteHandler=function(b,d,c){a.dialogView.isEnabled()&&
(a.screenshotFileUpload={length:-1},a.screenshotFileUploadUri=d,a.dialogView.createImage(c))};a.keyDownHandler=function(b){h.isKeyPasteEvent(b)&&a.dialogView.pasteCatcher.focus&&a.dialogView.pasteCatcher.focus()};a.imageCreatedHandler=function(){a.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())};a.getMimeType=function(){return"image/png"};a.createData=function(){return a.screenshotFileUpload};a.clipboardDataIsEmpty=function(a){return null!=window.clipboardData?
!1:!(a&&a.clipboardData&&a.clipboardData.types&&0<a.clipboardData.types.length)};a.validateFileSize=function(b,d,c){d=d||a.dialogView.getFileSize();c=c||a.dialogView.getMaxSize();d>c&&(d=u.Text.fileSize(c,d),b.fileUpload=k.format("Screenshot is too large to attach. Attachment is {0} but the largest allowed attachment is {1}.",d[1],d[0]))};a.validateFormData=function(b,d){var g={};c.isPlainObject(b)&&l.isEmpty(b)&&(g.fileUpload="Please paste the image you wish to upload");a.validateFileSize(g);a.uploadError&&(g.fileUpload="The error occurred during image upload - you will need to try the pasting image again. Sorry for the inconvenience.");
""==d&&(g.fileName="You must specify a filename of the image.");h.isValidFileName(d)||(g.fileName="Filename must not contain the characters \'\\\', \'/\', \'\"\', \':\', \'?\', \'*\', \'\u003c\', \'|\', \'\u003e\', \'!\'");return g};a.doAjaxUpload=function(b,d){a.dialogView.disable();b={};a.validateFileSize(b);if(l.isEmpty(b)){b=a.createData();var g=a.getMimeType(),f=c("#attach-screenshot-form").data("attach-secure-token"),e=c("#attach-screenshot-form").find("input[name\x3d'formToken']").attr("value");d=q()+"/rest/internal/1.0/AttachTemporaryFile?size\x3d"+
a.dialogView.getFileSize()+"\x26filename\x3d"+encodeURIComponent(d)+"\x26atl_token\x3d"+encodeURIComponent(atl_token())+"\x26issueId\x3d"+encodeURIComponent(this.dialogView.getIssueKey())+(f?"\x26secureToken\x3d"+encodeURIComponent(f):"")+(e?"\x26formToken\x3d"+encodeURIComponent(e):"");a.resetUploadErrors();a.executeAjaxUpload(b,d,g).progress(function(b){"init"==b&&a.progressView.initProgress()}).done(function(b){"string"==typeof b&&(b=JSON.parse(b));a.dialogView.setFileToConvert(b.id)}).fail(function(b,
c,d,f){if("abort"==f.statusText)var e="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.";else f.hasData&&(b=JSON.parse(f.data),e=b.errorMessage?b.errorMessage:p.buildSimpleErrorContent(f,{alert:!1}));a.setUploadError(e);a.dialogView.displayErrors({fileUpload:e})}).always(function(){a.dialogView.enable();a.progressView.finish()}).progress(function(b){"init"!=b&&a.progressView.progressHandler(b)})}else a.dialogView.displayErrors(b),a.dialogView.enable()};a.executeAjaxUpload=function(b,d,e){var f=m(),
g=p.makeRequest({type:"POST",url:d,contentType:e,processData:!1,data:b,timeout:a.REQUEST_TIMEOUT_MILLIS,success:f.resolve.bind(f),error:f.reject.bind(f),xhr:function(){var a=c.ajaxSettings.xhr();f.notify("init");a.upload.addEventListener("progress",f.notify.bind(f));return a}});f.always(function(){c.ajaxSettings.xhr().removeEventListener("progress",a.progressView.progressHandler);c(n.attachScreenshotDialog).off("Dialog.hide",g.abort)});c(n.attachScreenshotDialog).one("Dialog.hide",g.abort);return f.promise()};
a.show=function(){var b=new m,d=c(".issueaction-attach-screenshot-html5");if(null!=t.current||0==d.length)return b.reject().promise();l.defer(function(){d.trigger("click")});c(document).on("dialogContentReady",function(c,d){d===n.attachScreenshotDialog&&a.dialogView.isEnabled()?b.resolve(d):b.reject()});c(document).on("ajaxComplete.jira.screenshot.dialog",function(a,c,e){-1<e.url.indexOf(d.attr("href"))&&setTimeout(function(){"resolved"===!b.state()&&b.reject()},1E3)});b.always(function(){c(document).off("ajaxComplete.jira.screenshot.dialog")});
return b.promise()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["require","exports"],function(g,p){function l(a,c){c.stateName=a;var b=function(){var b=c.apply(null,arguments);b.stateName=a;return b};b.stateName=a;return b}function q(a,c,b){return l(a,function(){var f=setTimeout(function(){e(9)},b),d=c.apply(null,arguments),g=function(a,b){if(a=d(a,b))return clearTimeout(f),a};g.stateName=a;return g})}function e(a,c){if(e.eventQueue)e.eventQueue.push({type:a,object:c});else{for(e.eventQueue=[{type:a,object:c}];0<e.eventQueue.length;)a=
e.eventQueue.splice(0,1)[0],(a=r(a.type,a.object))&&(r=a);delete e.eventQueue}}var k=g("jquery"),t=g("dndattachment/ctrlv/trace"),u=g("dndattachment/ctrlv/tracking"),f=g("dndattachment/ctrlv/utility"),y=g("dndattachment/ctrlv/html5"),z=g("dndattachment/ctrlv/base64decode");g("jira/dialog/dialog");var v=g("jira/util/events"),A=g("dndattachment/util/events/types"),h=l("idle",function(){function a(a){if(!k(a.target).is(":input:not(.wiki-textfield, #summary)")&&!f.isContentEditable(a.target))return!0}
return function(c,b){if(0==c&&f.isKeyPasteEvent(b)){if(f.browserIsNativePaste()||!a(b)||!f.browserIsSupported())return;u.trigger("attach.screenshot.html5.catchClipboard");return new w(b)}if(1==c){if(f.isImagePasteEvent(b)){u.trigger("attach.screenshot.html5.handlePaste");if(!a(b)){t("jira/attach-images-plugin/pasteIgnored");return}k(b.target).is(":input.wiki-textfield")&&b.preventDefault();return new n(b)}t("jira/attach-images-plugin/pasteIgnoredNotImage")}}}),w=q("catchClipboard",function(a){var c=
document.activeElement;a.selectionStart=a.target.selectionStart;a.selectionEnd=a.target.selectionEnd;var b=k('\x3cdiv contenteditable\x3d"true" class\x3d"attach-screenshot-paste-catcher"\x3e\x3c/div\x3e').appendTo("body");b.focus();k(c).is(":focusable:input,:aui-focusable:input")&&setTimeout(function(){c.focus()});return function(e,d){if(1==e){if(f.isImagePasteEvent(d))return b.remove(),d.target=c,new n(d);if(f.isHtmlImagePasteEvent(d))return b.remove(),d.target=c,new x(d);if(f.isTextPasteEvent(d))return b.remove(),
e=f.getTextPasteContent(d),f.insertToInput(e,a.target,a.selectionStart,a.selectionEnd),d.preventDefault(),new h}if(9==e){b.remove();d=b.find("\x3eimg");if(d.is(":only-child")){d=d.attr("src");if(0===d.toLowerCase().indexOf("http"))return h();d=z.decodeBase64DataUri(d);d=new Blob([d],{type:"image/png"});return new m(d,a)}d=f.getTextContent(b[0]);f.insertToInput(d,a.target,a.selectionStart,a.selectionEnd);return h()}}}),x=l("imageLoading",function(a){var c=f.getHtmlImagePaste(a);c?f.loadImage(c).then(function(a){e(4,
a)},e.bind(null,5)):e(5);return function(b,c){if(4==b)return(b=f.convertImageToBlob(c))?new m(b,a):new h;if(9==b||5==b)return new h}}),n=q("fileLoading",function(a){y.getFileFromEvent(a).done(function(a){e(2,a)}).fail(function(){e(3)});return function(c,b){if(2==c)return new m(b,a);if(3==c||9==c)return new h}},1E3),m=l("attachImage",function(a,c){c=c.target;var b=f.generateFileName()+".png";a=f.convertBlobToImage(a,b);v.trigger(A.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[a],isWikiTextfieldFocused:f.isWikiTextfield(k(c)),
wikiTextfield:c,isPaste:!0,successCallback:function(){e(6)}});return function(a,b){return new h}}),r=new h;p._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:0,EVENT_WINDOW_PASTE:1,EVENT_FILE_LOADED:2,EVENT_FILE_LOAD_ERROR:3,EVENT_IMAGE_LOADED:4,EVENT_IMAGE_LOAD_ERROR:5,EVENT_DIALOG_LOADED:6,EVENT_DIALOG_CLOSED:7,EVENT_DIALOG_CANCELED:8,EVENT_TIMEOUT:9},states:{StateIdle:h,StateCatchClipboard:w,StateImageLoading:x,StateFileLoading:n,StateAttachImage:m}}};p.initIssuePaste=function(){k(window).on("keydown",
function(a){e(0,a)});k(window).on("paste",function(a){e(1,f.normalizePasteEvent(a))});v.bind("Dialog.hide",function(a,c,b){b?e(8,c):e(7,c)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",["require"],function(a){return a("jira/util/logger").trace});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["require","exports"],function(a,b){var c=a("jira/analytics");b.trigger=function(a,b){c.send({name:a,data:b||{}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["require","exports"],function(a,c){var g=a("jira/jquery/deferred"),b=a("jquery"),h=a("jira/util/events"),k=a("dndattachment/ctrlv/html5"),l=a("dndattachment/upload/handler");c.register=function(){l.registerExecutor({name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(a,b){return!!b.isPaste},processFiles:function(a,c){var d=g();k.show().done(function(c){var e=b("#attach-screenshot-placeholder-message"),f=b.Event("paste");f.clipboardData={files:a};
e.focus();setTimeout(function(){e.trigger(f)});h.bind("Dialog.hide",function(a,b,c){c?d.reject():d.resolve([b.find("#attachscreenshotname").val()+".png"])})});return d}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["require","exports"],function(a,b){var g=a("jira/jquery/deferred"),d=a("jquery"),h=a("underscore");a("dndattachment/ctrlv/utility");var c=a("dndattachment/ctrlv/html5"),k=a("dndattachment/ctrlv/issue-paste"),e=a("dndattachment/ctrlv/tracking"),l=a("dndattachment/ctrlv/executor"),f=a("jira/dialog/dialog-register"),m=a("jira/dialog/form-dialog");b.init=function(){var a=m.extend({options:{}});window.JIRA.ScreenshotDialog=a;k.initIssuePaste();d(document).ready(function(){var b=
g();b.resolve();f.attachScreenshotDialog=new a({id:"attach-screenshot-dialog",trigger:".issueaction-attach-screenshot-html5",isIssueDialog:!0,onContentRefresh:function(){this.$form.bind("before-submit",function(a){var b=c.validateFormData(c.screenshotFileUpload,d.trim(c.dialogView.getFileNameInput().val()));return 0==c.dialogView.getFileSize()?(a.preventDefault(),!1):h.isEmpty(b)?!0:(c.dialogView.displayErrors(b),a.preventDefault(),!1)})},delayShowUntil:function(){return b}});d(document).bind("dialogContentReady",
function(a,b){b===f.attachScreenshotDialog&&null!==document.getElementById("attach-screenshot-form")&&(e.trigger("attach.screenshot.html5.contentReady"),c.initScreenshotPasteHandler())});d(document).ready(function(){d(document).on("click","#attach-screenshot-html5",function(){e.trigger("attach.screenshot.html5.display")})})});l.register()}});require(["dndattachment/ctrlv/initialize","jquery"],function(a,b){b(function(){a.init()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-menu-link-init', location = 'js/menu/initAttachmentMenuLink.js' */
require(["jquery","jira/analytics","jira/util/events","dndattachment/util/events/types"],function(a,e,f,g){var h=function(){var b=a('\x3cinput type\x3d"file" multiple /\x3e');b.change(function(a){f.trigger(g.ATTACHMENT_FOR_PAGE_RECEIVED,{files:b[0].files})});b.click()},d=function(){a(document).on("click",".unified-attach-file",function(b){e.send({name:"issue.dnd.attachment.opsbar.attachFiles.linkClick",data:{}});var c=a(b.target);c.hasClass("issueaction-attach-file")||(b.preventDefault(),a(".issue-drop-zone").length&&
!c.data("issuekey")?h():(c.addClass("issueaction-attach-file"),c.click()))})},k=function(){d()};a.isReady?d():a(k)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-plugin:i18n', location = 'js/data/i18n.js' */
(function(){var a={getText:function(b){console.warn('Call to "getText" function was not replaced with either raw translation or a call to the "format" function. Have you included the "jsI18n" transformation in your webresource configuration?');return 1<arguments.length?a.format.apply(null,arguments):b},format:WRM.format};"function"===typeof define&&define("wrm/i18n",[],function(){return a});WRM.I18n=a;AJS.I18n=a})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-scripts-common', location = '/teams/scripts-plugin/field-common.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r,o;r=[],void 0!==(o=function(){var e,t,n,r,o,i,s,a,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,o){if(o!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},o=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},a=function(t){var n,o;return n=t.ajaxOptions,o=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=o(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:s,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:o,createDropdownClass:a}}.apply(t,r))&&(e.exports=o)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-team', location = '/teams/scripts-plugin/field-team.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){var r,a;r=[],void 0!==(a=function(){var e,t,n,r,a,i,o,s,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,a){if(a!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},o=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},a=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},s=function(t){var n,a;return n=t.ajaxOptions,a=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=a(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:o,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:a,createDropdownClass:s}}.apply(t,r))&&(e.exports=a)},function(e,t,n){var r,a;r=[n(0)],void 0!==(a=function(e){var t,n,r,a,i,o,s,u,l,c,p,d,m,f,h;return t=AJS.$,a=AJS.ItemDescriptor,r=AJS.GroupDescriptor,l=AJS.contextPath,i=100,o=".jpo-team-selection-dropdown",s=l()+"/rest/teams/1.0/teams/find",n=l()+"/download/resources/com.atlassian.teams:jpo-wr-images-and-fonts/images/teams/default-avatar.svg",h=function(e){var t,n,a;return a=e.teams,t=new r({weight:0,items:[c()]}),n=new r({weight:1,label:"Shared teams",items:f({teams:a})}),[t,n]},m=function(e){var t,r,i;return r=e.id,i=e.title,t=e.avatarUrl,new a({value:""+r,fieldText:i,label:i,icon:t||n})},f=function(t){var n,r,a;return a=t.teams,n=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)r=a[e],n.push(m(r));return n}(),e.addNoMatchesItemIfEmpty({items:n}),n},c=function(){return e.createInfoMessageListItem({text:"Plan-specific teams can only be selected through a Portfolio plan",additionalStyles:"jpo-dropdown-item-italic"})},p=function(e){var t;return t=e.query,JSON.stringify({query:t,excludedIds:[],maxResults:i})},u=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:s,createQueryData:p,formatResponse:h}),getNoMatchingValueMessage:function(e){return AJS.format("No team matching query \'\'{0}\'\' was found.",e)}}),d=function(e){return t(o,e).each(function(){return new u({element:t(this)})})},e.bindInitializationCallback(function(e){var t;return t=e.context,d(t)})}.apply(t,r))&&(e.exports=a)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics-init.js' */
require(["jquery","jira/analytics","jira/util/data/meta"],function(a,t,c){"use strict";function n(a){var t=c.get("analytics-prefix");return t&&(a=t+a),a}function i(){a("[data-track-pageview]").each(function(c,i){t.send({name:n(a(i).data("track-pageview"))})})}a(document).on("click","[data-track-click]",function(){t.send({name:n(a(this).data("track-click"))})}),a(document).on("auxclick","[data-track-auxclick]",function(){t.send({name:n(a(this).data("track-auxclick"))})}),a(i)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/jquery/plugins/avataror/avataror.js' */
jQuery.fn.avataror=function(i){var e=jQuery,t=e(document);this.each(function(){var r=e(this),a=r.find("img").attr("src");r.css({"-moz-border-radius":"10px","-webkit-border-radius":"10px"}),r.html("<p>Loading?</p>");var g={previewSize:48};g.preview=e("<div/>").addClass("avataror-preview").css({border:"solid 1px #000",float:"left",height:g.previewSize+"px",overflow:"hidden",width:g.previewSize+"px",position:"relative",top:"-9999em",left:"-9999em"}),g.preview.prependTo(i.previewElement),g.img=e('<img alt="Avatar Source"/>'),g.img.load(function(){g.image=e("<div/>").css({background:"url('"+a+"') no-repeat",clear:"left",position:"relative"}),g.marker=e("<div/>").css({cursor:"move",position:"relative"}),g.dash=e("<div/>"),g.shadow=e("<div/>"),g.dash.add(g.shadow).css({cursor:"move",opacity:.5,left:0,top:0,position:"absolute"}),g.image.append(g.shadow).append(g.dash).append(g.marker),r.append(g.image),g.marker.html("<div></div><div></div><div></div><div></div>"),e("div",g.marker).each(function(i){var t=e(this);t.css({background:"#000",border:"solid 1px #fff",width:"10px",height:"10px",position:"absolute","font-size":"1px"}),t.css(["left","right","right","left"][i],"-6px"),t.css(["top","top","bottom","bottom"][i],"-6px"),t.css("cursor",["nw-resize","ne-resize","se-resize","sw-resize"][i]),t.mousedown(function(e){e.preventDefault(),e.stopPropagation(),g.dragging={x:e.pageX,y:e.pageY,ax:g.x,ay:g.y,w:g.width,h:g.height,i:i+1},g.shadow.hide()})}),g.marker.add(g.image).mousedown(function(i){i.preventDefault(),g.dragging={x:i.pageX,y:i.pageY,ax:g.x,ay:g.y,w:g.width,h:g.height},g.shadow.hide()}),t.mouseup(function(i){g.handleMouseUp(i)}),t.mousemove(function(i){g.dragging&&(g.handleMouseMove(i.pageX,i.pageY),i.preventDefault())}),g.imgwidth=g.img[0].naturalWidth,g.imgheight=g.img[0].naturalHeight,g.x=parseInt(e("#avatar-offsetX").val()),g.y=parseInt(e("#avatar-offsetY").val()),g.width=parseInt(e("#avatar-width").val()),g.height=g.width,g.image.css({width:g.imgwidth+"px",height:g.imgheight+"px"}),g.setMarker(),r.css({width:g.imgwidth+"px"}),g.preview.css({position:"static"}),e("p",r).remove(),r.trigger("AvatarImageLoaded"),g.adjustPreview()}),g.img.attr("src",a),g.preview.append(g.img),g.setMarker=function(){g.marker.css("border","dashed 1px #fff"),g.dash.css("border","solid 1px #000"),g.shadow.css("border","solid 1px #000"),g.marker.add(this.dash).css("left",this.x-1+"px"),g.marker.add(g.dash).css("top",g.y-1+"px"),g.shadow.css("border-left-width",g.x+"px"),g.shadow.css("border-right-width",g.imgwidth-g.x-g.width+"px"),g.shadow.css("border-top-width",g.y+"px"),g.shadow.css("border-bottom-width",g.imgheight-g.y-g.height+"px"),g.shadow.css("width",g.width+"px"),g.shadow.css("height",g.height+"px"),g.marker.add(g.dash).css("width",g.width+"px"),g.marker.add(g.dash).css("height",g.height+"px")},g.adjustPreview=function(){g.img.attr("width",g.imgwidth*g.previewSize/g.width),g.img.attr("height",g.imgheight*g.previewSize/g.height),g.img.css("margin-left","-"+g.x*g.previewSize/g.width+"px"),g.img.css("margin-top","-"+g.y*g.previewSize/g.height+"px"),g.preview.select()},g.handleMouseMove=function(i,e){if(g.dragging.nextExec=g.dragging.nextExec||0,0!=g.dragging.nextExec)return void g.dragging.nextExec--;g.dragging.nextExec=3;var t=i-g.dragging.x,r=e-g.dragging.y;if(this.dragging.i){(0,g.resizeHandlers[this.dragging.i-1])(t,r)}else g.x=g.dragging.ax+t,g.y=g.dragging.ay+r,g.x+g.width>g.imgwidth&&(g.x=g.imgwidth-g.width),g.y+g.height>g.imgheight&&(g.y=g.imgheight-g.height),g.x<0&&(g.x=0),g.y<0&&(g.y=0);g.setMarker(),g.adjustPreview()},g.handleMouseUp=function(i){e("#avatar-offsetX").val(g.x),e("#avatar-offsetY").val(g.y),e("#avatar-width").val(g.width),g.dragging=null,g.shadow.show()},g.originX=function(){return g.dragging.ax},g.originY=function(){return g.dragging.ay},g.originBottomX=function(){return g.dragging.ax+g.dragging.w},g.originBottomY=function(){return g.dragging.ay+g.dragging.h},g.originNw=function(){return{x:g.originX(),y:g.originY()}},g.originNe=function(){return{x:g.originBottomX(),y:g.originY()}},g.originSe=function(){return{x:g.originBottomX(),y:g.originBottomY()}},g.originSw=function(){return{x:g.originX(),y:g.originBottomY()}},g.nwHandler=function(i,e){var t=g.originSe(),r={x:g.originX()+i,y:g.originY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x-n<0&&(n=t.x),t.y-n<0&&(n=t.y),g.x=t.x-n,g.y=t.y-n,g.width=g.height=n},g.neHandler=function(i,e){var t=g.originSw(),r={x:g.originBottomX()+i,y:g.originY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x+n>g.imgwidth&&(n=g.imgwidth-t.x),t.y-n<0&&(n=t.y),g.y=t.y-n,g.width=g.height=n},g.seHandler=function(i,e){var t=g.originNw(),r={x:g.originBottomX()+i,y:g.originBottomY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x+n>g.imgwidth&&(n=g.imgwidth-t.x),t.y+n>g.imgheight&&(n=g.imgheight-t.y),g.width=g.height=n},g.swHandler=function(i,e){var t=g.originNe(),r={x:g.originX()+i,y:g.originBottomY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x-n<0&&(n=t.x),t.y+n>g.imgheight&&(n=g.imgheight-t.y),g.x=t.x-n,g.width=g.height=n},g.resizeHandlers=[g.nwHandler,g.neHandler,g.seHandler,g.swHandler]})};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/Avatar.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/ajs/avatarpicker/avatar",["jira/lib/class"],function(t){"use strict";return t.extend({init:function(t){this._id=t.id,this._isSystemAvatar=t.isSystemAvatar,this._isSelected=t.isSelected,this._urls=t.urls},setUnSelected:function(){this._isSelected=!1},setSelected:function(){this._isSelected=!0},isSelected:function(){return!!this._isSelected},isSystemAvatar:function(){return this._isSystemAvatar},getId:function(){return this._id},getUrl:function(t){return this._urls[t]},toJSON:function(){return{id:this._id,isSystemAvatar:this._isSystemAvatar,isSelected:this._isSelected,urls:this._urls}}})}),define("jira/ajs/avatarpicker/avatar-factory",["jira/ajs/avatarpicker/avatar","exports"],function(t,e){"use strict";e.createCustomAvatar=function(e){return e.isSystemAvatar=!1,new t(e)},e.createSystemAvatar=function(e){return e.isSystemAvatar=!0,new t(e)}}),define("jira/ajs/avatarpicker/avatar/sizes",["exports"],function(t){"use strict";t.getSizeObjectFromName=function(e){return"object"===(void 0===e?"undefined":_typeof(e))?e:t.LARGE.param===e?t.LARGE:t.MEDIUM.param===e?t.MEDIUM:t.SMALL.param===e?t.SMALL:"xsmall"===e?t.SMALL:t.LARGE},t.LARGE={param:"large",height:48,width:48},t.MEDIUM={param:"medium",width:32,height:32},t.SMALL={param:"small",width:16,height:16}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarManager.js' */
define("jira/ajs/avatarpicker/avatar-manager",["jira/util/formatter","jira/lib/class","wrm/context-path","jquery"],function(t,a,r,e){"use strict";var s=r();return a.extend({init:function(t){this.store=t.store,this.ownerId=t.ownerId,this.username=t.username,this.anonymousAvatarId=t.anonymousAvatarId,this.avatarSrcBaseUrl=t.avatarSrcBaseUrl},selectAvatar:function(t,a){return this.store.selectAvatar(t,a)},getById:function(t){return this.store.getById(t)},destroy:function(t,a){this.store.destroy(t,a)},update:function(t,a){this.store.update(t,a)},add:function(t,a){this.store._add(t,a)},getAllSystemAvatars:function(){return this.store.getAllSystemAvatars()},getAllCustomAvatars:function(){return this.store.getAllCustomAvatars()},getSelectedAvatar:function(){return this.store.getSelectedAvatar()},getAllAvatars:function(){return this.store.getAllAvatars()},getAllAvatarsRenderData:function(t){var a,r=this,e=this.getAllAvatars(),s={system:[],custom:[]};for(a=0;a<e.system.length;a++)s.system.push(r.getAvatarRenderData(e.system[a],t));for(a=0;a<e.custom.length;a++)s.custom.push(r.getAvatarRenderData(e.custom[a],t));return s},getAvatarRenderData:function(t,a){var r=t.toJSON();return r.src=this.getAvatarSrc(t,a),r.width=a.width,r.height=a.height,r},refreshStore:function(t){this.store.refresh(t)},getAvatarSrc:function(a,r){return this.store.isTempAvatar(a)?s+"/secure/temporaryavatar?"+e.param({cropped:!0,magic:(new Date).getTime(),size:r.param}):a.getUrl(t.format("{0}x{1}",r.height,r.width))},createTemporaryAvatar:function(t,a){this.store.createTemporaryAvatar(t,a)},createAvatarFromTemporary:function(t,a){this.store.createAvatarFromTemporary(t,a)},getAnonymousAvatarId:function(){return this.anonymousAvatarId}})}),define("jira/ajs/avatarpicker/avatar-manager-factory",["jira/ajs/avatarpicker/avatar-store","jira/ajs/avatarpicker/avatar-manager","wrm/context-path","exports"],function(t,a,r,e){"use strict";var s=r();e.createUniversalAvatarManager=function(r){var e,n="",o="",i="",v="";if(r.projectId){var u=s+"/rest/api/latest/universal_avatar/type/"+r.avatarType+"/owner/"+r.projectId;e=u;var c=u+"/avatar";n=null,o=u+"/temp",i=c,v=c}else e=s+"/rest/api/latest/avatar/project/system",o=s+"/rest/api/latest/avatar/project/temporary",i=s+"/rest/api/latest/avatar/project/temporaryCrop";var l=new t({restQueryUrl:e,restUpdateUrl:n,restCreateTempUrl:o,restUpdateTempUrl:i,restSingleAvatarUrl:v,defaultAvatarId:r.defaultAvatarId});return new a({store:l,ownerId:r.projectId,avatarSrcBaseUrl:s+"/secure/projectavatar"})},e.createProjectAvatarManager=function(t){return t.avatarType="project",e.createUniversalAvatarManager(t)},e.createUserAvatarManager=function(r){var e=s+"/rest/api/latest/user",n=new t({restQueryUrl:e+"/avatars",restUpdateUrl:e+"/avatar",restCreateTempUrl:e+"/avatar/temporary",restUpdateTempUrl:e+"/avatar",restSingleAvatarUrl:e+"/avatar",restParams:{username:r.username},defaultAvatarId:r.defaultAvatarId});return new a({store:n,username:r.username,avatarSrcBaseUrl:s+"/secure/useravatar"})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarStore.js' */
define("jira/ajs/avatarpicker/avatar-store",["jira/util/urls","jira/util/formatter","jira/ajs/avatarpicker/avatar-util","jira/ajs/avatarpicker/avatar-factory","jira/ajs/ajax/smart-ajax","jira/lib/class","jquery"],function(t,e,r,a,s,i,o){"use strict";return i.extend({TEMP_ID:"TEMP",init:function(e){if(!e.restQueryUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restQueryUrl], The rest url for querying avatars (see class description)");if(!e.restCreateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restCreateTempUrl], The rest url for creating a temporary avatar (see class description)");if(!e.restUpdateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restUpdateTempUrl], The rest url for updating a temporary avatar (see class description)");if(!e.defaultAvatarId)throw new Error("JIRA.AvatarStore.init: You must specify [defaultAvatarId] to the contructor so the store knows what to select if you delete the selected one");this.restQueryUrl=e.restQueryUrl,this.restUpdateUrl=e.restUpdateUrl,this.restCreateTempUrl=e.restCreateTempUrl,this.restUpdateTempUrl=e.restUpdateTempUrl,this.restSingleAvatarUrl=e.restSingleAvatarUrl,this.restParams=e.restParams||{},this.restParams.atl_token=t.atl_token(),this.defaultAvatarId=e.defaultAvatarId,this.avatars={system:[],custom:[]}},_buildCompleteUrl:function(t){var r=t;if(this.restParams){var a="";for(var s in this.restParams)Object.prototype.hasOwnProperty.call(this.restParams,s)&&(a+=e.format("&{0}={1}",encodeURIComponent(s),encodeURIComponent(this.restParams[s])));r+="?"+a.substr(1)}return r},getById:function(t){var e;return o.each(this.avatars.system,function(r,a){if(this.getId()===t)return e=a,!1}),e||o.each(this.avatars.custom,function(r,a){if(this.getId()===t)return e=a,!1}),e},isTempAvatar:function(t){return t.getId()===this.TEMP_ID},_selectAvatar:function(t){var e=this.getSelectedAvatar();e&&e.setUnSelected(),t.setSelected()},selectAvatar:function(t,e){var r=this;if(!t)throw new Error("JIRA.AvatarStore.selectAvatar: Cannot select Avatar that does not exist");this.restUpdateUrl?s.makeRequest({type:"PUT",contentType:"application/json",dataType:"json",url:this._buildCompleteUrl(this.restUpdateUrl),data:JSON.stringify(t.toJSON()),success:function(){r._selectAvatar(t),e.success&&e.success.call(this,t)},error:e.error}):(r._selectAvatar(t),e.success&&e.success.call(this,t))},_destory:function(t){var e=o.inArray(t,this.avatars.custom);if(-1===e)throw new Error("JIRA.AvatarStore._destroy: Cannot remove avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");this.avatars.custom.splice(e,1)},destroy:function(t,e){var r=this;if(e=e||{},!t)throw new Error("JIRA.AvatarStore.destroy: Cannot delete Avatar that does not exist");s.makeRequest({type:"DELETE",url:this.getRestUrlForAvatar(t),success:function(){r._destory(t),t.isSelected()?r.selectAvatar(r.getById(r.defaultAvatarId),e):e.success&&e.success.apply(this,arguments)},error:e.error})},getSelectedAvatar:function(){for(var t=0;t<this.avatars.custom.length;t++)if(this.avatars.custom[t].isSelected())return this.avatars.custom[t];for(t=0;t<this.avatars.system.length;t++)if(this.avatars.system[t].isSelected())return this.avatars.system[t]},_update:function(t){var e=this;if(!this.getById(t.getId()))throw new Error("JIRA.AvatarStore._update: Cannot update avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");o.each(this.avatars.custom,function(r){this.getId()===t.getId()&&(e.avatars.custom[r]=t)})},update:function(t,e){var r=this;e=e||{},s.makeRequest({type:"PUT",url:this.getRestUrlForAvatar(t),error:e.error,success:function(){r._update(t),e.success&&e.success.apply(this,arguments)}})},_add:function(t){t.isSystemAvatar()?this.avatars.system.push(t):this.avatars.custom.push(t)},createAvatarFromTemporary:function(t,e){var r=this;e=e||{},this.restUpdateTempUrl&&s.makeRequest({type:"POST",url:this._buildCompleteUrl(this.restUpdateTempUrl),data:JSON.stringify(t),contentType:"application/json",dataType:"json",success:function(t){t||(t={id:r.TEMP_ID,isSelected:!0});var s=a.createCustomAvatar(t);r._add(s),e.success&&e.success.call(this,t)},error:e.error})},createTemporaryAvatar:function(t,e){e=o.extend(!0,{},e,{params:this.restParams}),r.uploadTemporaryAvatar(this.restCreateTempUrl,t,e)},_refresh:function(t){var e=this;e.avatars.system=[],e.avatars.custom=[],t.system&&o.each(t.system,function(t,r){e.avatars.system.push(a.createSystemAvatar(r))}),t.custom&&o.each(t.custom,function(t,r){e.avatars.custom.push(a.createCustomAvatar(r))})},refresh:function(t){var e=this,r=this.getById(e.TEMP_ID);t=t||{},s.makeRequest({url:this._buildCompleteUrl(this.restQueryUrl),error:t.error,success:function(a){e._refresh(a),r&&e._add(r),t.success&&t.success.apply(this,arguments)}})},getAllAvatars:function(){return this.avatars},getAllSystemAvatars:function(){return this.avatars.system},getAllCustomAvatars:function(){return this.avatars.custom},getRestUrlForAvatar:function(t){return this._buildCompleteUrl(this.restSingleAvatarUrl+"/"+t.getId())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarUtil.js' */
define("jira/ajs/avatarpicker/avatar-util",["jira/util/urls","jira/util/logger","jira/attachment/inline-attach","jquery"],function(e,r,t,a){"use strict";var n={uploadUsingIframeRemoting:function(o,s,i){i=i||{};var l=s.val(),c=new t.Form(new t.FileInput(s,!1)),u=c.addStaticProgress(l),d=c.cloneFileInput();c.fileSelector.clear();var g=new t.Timer(function(){!this.cancelled&&u.show()},this),f=new t.FormUpload({$input:d,url:o,params:a.extend({},i.params,{filename:l,atl_token:e.atl_token()}),scope:this,before:function(){!this.cancelled&&u.start()},success:function(e,r){e.errorMessages&&e.errorMessages.length?c.addErrorWithFileName(e.errorMessages[0],l,n.getErrorTarget(c)):i.success&&i.success(e,r)},error:function(e){r.log(e),this.cancelled||(e.indexOf("SecurityTokenMissing")>=0?c.addError(t.Text.tr("upload.xsrf.timeout",l),n.getErrorTarget(c)):c.addError(t.Text.tr("upload.error.unknown",l),n.getErrorTarget(c)))},after:function(){g.cancel(),u.remove(),this.cancelled||c.enable()}});u.onCancel(function(){f.abort()}),f.upload()},uploadUsingFileApi:function(r,o,s){var i,l,c=o[0].files[0],u=new t.Form(new t.FileInput(o,!1)),d=u.addProgress(c);s=s||{},i=new t.Timer(function(){d.show()}),l=new t.AjaxUpload({file:c,params:a.extend({},s.params,{filename:c.name,size:c.size,atl_token:e.atl_token()}),scope:this,url:r,before:function(){o.hide(),d.start()},progress:function(e){d.progress.$progress.parent().parent().show(),d.update(e)},success:function(e,r){e.errorMessages&&e.errorMessages.length?u.addErrorWithFileName(e.errorMessages[0],c.name,n.getErrorTarget(u)):201===r&&s.success(e,r)},error:function(e,r){r<0?u.addError(e,n.getErrorTarget(u)):u.addError(t.Text.tr("upload.error.unknown",c.name),n.getErrorTarget(u)),s.error&&s.error(e,r)},after:function(){i.cancel(),d.finish().remove(),o.val("").show()}}),l.upload(),d.onCancel(function(){l.abort()})},getErrorTarget:function(e){return{$element:e.$form.find(".error")}},uploadTemporaryAvatar:function(e,r,a){t.AjaxPresenter.isSupported(r)?this.uploadUsingFileApi(e,r,a):this.uploadUsingIframeRemoting(e,r,a)}};return n});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.js' */
define("jira/ajs/avatarpicker/avatar-picker",["jira/util/logger","jira/util/formatter","jira/util/strings","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/ajax/smart-ajax","jira/dialog/dialog","jira/ajs/control","aui/message","jquery"],function(a,e,t,r,i,n,c,o,d){"use strict";return c.extend({init:function(a){this.avatarManager=a.avatarManager,this.avatarRenderer=a.avatarRenderer,this.imageEditor=a.imageEditor,this.size=a.size,this.selectCallback=a.select,this.cropperDialog=null,this.initialSelection=a.initialSelection},render:function(a){var e=this;this.avatarManager.refreshStore({success:function(){e.cropperDialog instanceof n&&(e.cropperDialog.hide(),delete e.cropperDialog),e.element=d('<div id="jira-avatar-picker" />'),e.element.html(JIRA.Templates.AvatarPicker.picker({avatars:e.avatarManager.getAllAvatarsRenderData(e.size)})),e._assignEvents("selectAvatar",e.element.find(".jira-avatar button")),e._assignEvents("deleteAvatar",e.element.find(".jira-delete-avatar")),e._assignEvents("uploader",e.element.find("#jira-avatar-uploader")),void 0!==e.initialSelection&&e.getAvatarElById(e.initialSelection).addClass("jira-selected-avatar"),a(e.element)},error:function(t,r,i,n){e.appendErrorContent(e.element,n),a(e.element)}})},appendErrorContent:function(a,e){try{var r=JSON.parse(e.data);r&&r.errorMessages?d.each(r.errorMessages,function(e,r){o.error(a,{body:t.escapeHtml(r),closeable:!1,shadowed:!1})}):a.append(i.buildDialogErrorContent(e,!0))}catch(t){a.append(i.buildDialogErrorContent(e,!0))}},uploadTempAvatar:function(e){var t=this;this.avatarManager.createTemporaryAvatar(e,{success:function(a){a.id?t.render(function(){t.selectAvatar(a.id)}):(e.val(""),t.cropperDialog=new n({id:"project-avatar-cropper",width:560,content:function(e){function r(){var a=i.find("input[type=submit]"),e=d("<span class='icon throbber loading'></span>");return a.attr("aria-disabled","true").attr("disabled",""),a.before(e),function(){e.remove(),a.removeAttr("aria-disabled").removeAttr("disabled")}}var i=t.imageEditor.render(a);t.imageEditor.edit({confirm:function(a){var e=r();t.avatarManager.createAvatarFromTemporary(a,{success:function(a){t.render(function(){t.selectAvatar(a.id)})},error:e})}}),i.find(".cancel").click(function(){t.cropperDialog.hide()}),e(i)}}),t.cropperDialog.bind("dialogContentReady",function(){d(t).trigger(r.LOADED)}),t.cropperDialog.bind("Dialog.hide",function(){d(t).trigger(r.DISMISSED)}),t.cropperDialog.show())},error:function(){a.log(arguments)}})},getAvatarElById:function(a){return this.element.find(".jira-avatar[data-id='"+a+"']")},selectAvatar:function(a){var e=this.avatarManager.getById(a),t=this;this.avatarManager.selectAvatar(this.avatarManager.getById(a),{error:function(){},success:function(){t.getAvatarElById(a).remove(),t.selectCallback&&t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size))}})},deleteAvatar:function(a){var t=this;confirm("Are you sure you want to delete avatar?")&&this.avatarManager.destroy(this.avatarManager.getById(a),{error:function(){},success:function(){var e=t.avatarManager.getSelectedAvatar(),r=t.getAvatarElById(a);r.fadeOut(function(){r.remove()}),e.getId()!==a&&(t.getAvatarElById(e.getId()).addClass("jira-selected-avatar"),t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size),!0))}})},_events:{uploader:{change:function(a,e){this.uploadTempAvatar(e)}},deleteAvatar:{click:function(a,e){this.deleteAvatar(e.attr("data-id"))}},selectAvatar:{click:function(a,e){"button"===e[0].tagName.toLowerCase()&&this.selectAvatar(e.attr("data-id"))}}}})}),define("jira/ajs/avatarpicker/avatar-picker/image-editor",["jira/ajs/control","jquery"],function(a,e){"use strict";var t=a.extend({render:function(a){return this.element=e('<div id="avatar-picker-image-editor"/>').html(JIRA.Templates.AvatarPicker.imageEditor(a)),this.element},edit:function(a){var t=this,r=this.element.find(".avataror");a=a||{},r.unbind(),r.bind("AvatarImageLoaded",function(){a.ready&&a.ready()}),r.find("img").load(function(){r.avataror({previewElement:t.element.find(".jira-avatar-cropper-header"),parent:t.element})}),this.element.find("#avataror").submit(function(t){t.preventDefault(),a.confirm&&a.confirm({cropperOffsetX:e("#avatar-offsetX").val(),cropperOffsetY:e("#avatar-offsetY").val(),cropperWidth:e("#avatar-width").val()})}).find(".cancel").click(function(e){e.preventDefault(),a.cancel&&a.cancel()})}});return t.LOADED="imageEditorLoaded",t.DISMISSED="imageEditorDismissed",t}),define("jira/ajs/avatarpicker/avatar-picker-factory",["jira/util/browser","jira/util/formatter","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/avatarpicker/avatar-manager-factory","jira/ajs/avatarpicker/avatar/sizes","jira/dialog/form-dialog","wrm/context-path","wrm/data","jquery","exports"],function(a,e,t,r,i,n,c,o,d,l,s){"use strict";s.createUniversalAvatarPicker=function(a){return new t({avatarManager:i.createUniversalAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,avatarType:a.avatarType}),initialSelection:a.initialSelection,imageEditor:new r,size:a.hasOwnProperty("avatarSize")?a.avatarSize:n.LARGE,select:a.select})},s.createProjectAvatarPicker=function(a){return new t({avatarManager:i.createProjectAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})},s.createUserAvatarPicker=function(a){return new t({avatarManager:i.createUserAvatarManager({username:a.username,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})},s.createUniversalAvatarPickerDialog=function(a){var t=a.initialSelection||a.defaultAvatarId,r=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(i){var n,c;c=l('<div id="projectavatar-content-wrapper"/>'),l("<h2 />").text(a.title||"Select a Project Avatar").appendTo(c),n=s.createUniversalAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,initialSelection:t,avatarType:a.avatarType,avatarSize:a.avatarSize,select:function(e,i,n){t=String(e.getId()),a.select&&a.select.apply(this,arguments),n||r.hide()}}),n.render(function(a){c.append(a),i(c)})}});r._focusFirstField=function(){}},s.createProjectAvatarPickerDialog=function(a){var t=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(r){var i,n;n=l('<div id="projectavatar-content-wrapper"/>'),l("<h2 />").text("Select a Project Avatar").appendTo(n),i=s.createProjectAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,select:function(e,r,i){a.select&&a.select.apply(this,arguments),i||t.hide()}}),i.render(function(a){n.append(a),r(n)})}});t._focusFirstField=function(){}};var v=d.claim("jira.core:avatar-picker-data.data");s.createUserAvatarPickerDialog=function(t){if(v&&v.isEnabled)return void l(t.trigger).click(function(e){var t=o()+v.url;t+=(t.indexOf("?")>-1?"&":"?")+"continue="+encodeURIComponent(window.location.href),e.preventDefault(),e.stopPropagation(),a.reloadViaWindowLocation(t)});var r=new c({trigger:t.trigger,id:"user-avatar-picker",width:600,stacked:!0,content:function(a){var i,n;n=l('<div id="useravatar-content-wrapper"/>'),l("<h2 />").text("Select a User Avatar").appendTo(n),i=s.createUserAvatarPicker({username:t.username,defaultAvatarId:t.defaultAvatarId,select:function(a,e,i){t.select&&t.select.apply(this,arguments),l(".avatar-image").attr("src",e),i||r.hide()}}),i.render(function(e){n.append(e),a(n)})}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/GravatarUtil.js' */
define("jira/ajs/avatarpicker/gravatar-util",["jquery","exports"],function(a,r){"use strict";r.showGravatarHelp=function(r){void 0!==r&&void 0!==r.entry&&(a(".gravatar-signup-text").addClass("hidden"),a(".gravatar-login-text").removeClass("hidden"))},r.displayGravatarHelp=function(){var t=a("#gravatar_json_url");t.length&&a.ajax(t.val(),{dataType:"jsonp",success:r.showGravatarHelp})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/initAvatarPicker.js' */
!function(){"use strict";var a=require("jquery"),r=require("jira/ajs/avatarpicker/avatar/sizes"),e=require("jira/ajs/avatarpicker/avatar-factory"),t=require("jira/ajs/avatarpicker/avatar-manager-factory"),c=require("jira/ajs/avatarpicker/avatar-picker-factory"),A=require("jira/ajs/avatarpicker/gravatar-util");AJS.namespace("JIRA.Avatar",null,require("jira/ajs/avatarpicker/avatar")),AJS.namespace("JIRA.Avatar.createCustomAvatar",null,e.createCustomAvatar),AJS.namespace("JIRA.Avatar.createSystemAvatar",null,e.createSystemAvatar),AJS.namespace("JIRA.Avatar.getSizeObjectFromName",null,r.getSizeObjectFromName),AJS.namespace("JIRA.Avatar.LARGE",null,r.LARGE),AJS.namespace("JIRA.Avatar.MEDIUM",null,r.MEDIUM),AJS.namespace("JIRA.Avatar.SMALL",null,r.SMALL),AJS.namespace("JIRA.AvatarManager",null,require("jira/ajs/avatarpicker/avatar-manager")),AJS.namespace("JIRA.AvatarManager.createUniversalAvatarManager",null,t.createUniversalAvatarManager),AJS.namespace("JIRA.AvatarManager.createProjectAvatarManager",null,t.createProjectAvatarManager),AJS.namespace("JIRA.AvatarManager.createUserAvatarManager",null,t.createUserAvatarManager),AJS.namespace("JIRA.AvatarPicker",null,require("jira/ajs/avatarpicker/avatar-picker")),AJS.namespace("JIRA.AvatarPicker.ImageEditor",null,require("jira/ajs/avatarpicker/avatar-picker/image-editor")),AJS.namespace("JIRA.AvatarPicker.createUniversalAvatarPicker",null,c.createUniversalAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createProjectAvatarPicker",null,c.createProjectAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createUserAvatarPicker",null,c.createUserAvatarPicker),AJS.namespace("JIRA.createUniversalAvatarPickerDialog",null,c.createUniversalAvatarPickerDialog),AJS.namespace("JIRA.createProjectAvatarPickerDialog",null,c.createProjectAvatarPickerDialog),AJS.namespace("JIRA.createUserAvatarPickerDialog",null,c.createUserAvatarPickerDialog),AJS.namespace("JIRA.AvatarStore",null,require("jira/ajs/avatarpicker/avatar-store")),AJS.namespace("JIRA.AvatarUtil",null,require("jira/ajs/avatarpicker/avatar-util")),AJS.namespace("JIRA.GravatarUtil.showGravatarHelp",null,A.showGravatarHelp),a(function(){c.createUserAvatarPickerDialog({trigger:"#user_avatar_image",username:a("#avatar-owner-id").text(),defaultAvatarId:a("#default-avatar-id").text()}),a("#gravatar_help_params")&&A.displayGravatarHelp()})}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.soy' */
// This file was automatically generated from AvatarPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.AvatarPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.AvatarPicker == 'undefined') { JIRA.Templates.AvatarPicker = {}; }


JIRA.Templates.AvatarPicker.picker = function(opt_data, opt_ignored) {
  var output = '<form class="jira-avatar-upload-form aui top-label" action="#"><input name="id" value="10000" type="hidden" ><input name="pid" value="10000" type="hidden" ><div class="field-group"><label for="jira-avatar-uploader">' + soy.$$escapeHtml('Upload a new avatar') + '</label><input type="file" class="ignore-inline-attach" name="avatar" id="jira-avatar-uploader"/><div class="error"></div></div></form><div class="form-body"><ul class="jira-avatars">';
  var avatarList6 = opt_data.avatars.system;
  var avatarListLen6 = avatarList6.length;
  for (var avatarIndex6 = 0; avatarIndex6 < avatarListLen6; avatarIndex6++) {
    var avatarData6 = avatarList6[avatarIndex6];
    output += '<li class="jira-avatar jira-system-avatar ' + ((avatarData6.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this Avatar" data-id="' + soy.$$escapeHtml(avatarData6.id) + '"><button data-id="' + soy.$$escapeHtml(avatarData6.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml('Select this Avatar') + '"><img id="avatar-' + soy.$$escapeHtml(avatarData6.id) + '" src="' + soy.$$escapeHtml(avatarData6.src) + '" width="' + soy.$$escapeHtml(avatarData6.width) + '" height="' + soy.$$escapeHtml(avatarData6.height) + '" alt="' + soy.$$escapeHtml('Select this Avatar') + '"/></button></li>';
  }
  var avatarList29 = opt_data.avatars.custom;
  var avatarListLen29 = avatarList29.length;
  for (var avatarIndex29 = 0; avatarIndex29 < avatarListLen29; avatarIndex29++) {
    var avatarData29 = avatarList29[avatarIndex29];
    output += '<li class="jira-avatar jira-custom-avatar ' + ((avatarData29.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this avatar" data-id="' + soy.$$escapeHtml(avatarData29.id) + '"><button data-id="' + soy.$$escapeHtml(avatarData29.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml('Select this Avatar') + '"><img id="avatar-' + soy.$$escapeHtml(avatarData29.id) + '" src="' + soy.$$escapeHtml(avatarData29.src) + '" width="' + soy.$$escapeHtml(avatarData29.width) + '" height="' + soy.$$escapeHtml(avatarData29.height) + '" alt="' + soy.$$escapeHtml('Select this Avatar') + '" /></button><button class="jira-delete-avatar jira-icon-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" title="' + soy.$$escapeHtml('Delete this Avatar') + '">' + soy.$$escapeHtml('Delete this Avatar') + '</button></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.picker.soyTemplateName = 'JIRA.Templates.AvatarPicker.picker';
}


JIRA.Templates.AvatarPicker.imageEditor = function(opt_data, opt_ignored) {
  return '<form id="avataror" class="jira-avatar-cropper-form aui" action="/jira/secure/project/AvatarPicker.jspa"><input type="hidden" name="cropperOffsetX" id="avatar-offsetX" value="' + soy.$$escapeHtml(opt_data.cropperOffsetX) + '"><input type="hidden" name="cropperOffsetY" id="avatar-offsetY" value="' + soy.$$escapeHtml(opt_data.cropperOffsetY) + '"><input type="hidden" name="cropperWidth" id="avatar-width"  value="' + soy.$$escapeHtml(opt_data.cropperWidth) + '"><div class="jira-avatar-cropper-header"><p>' + soy.$$escapeHtml('Please select which part of the uploaded image you wish to use as the avatar.') + '</p></div><div class="form-body"><div class="avataror"><img src="' + soy.$$escapeHtml(opt_data.url) + '" height="300" /></div></div><div class="form-footer buttons-container"><div class="buttons"><input type="submit" class="aui-button aui-button-primary" value="' + soy.$$escapeHtml('Confirm') + '"><a class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml('Cancel') + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.imageEditor.soyTemplateName = 'JIRA.Templates.AvatarPicker.imageEditor';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/initAvatarPickerTrigger.js' */
define("jira/admin/init/avatar-picker-trigger",["jira/ajs/layer/layer-constants","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar-picker-factory","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jquery"],function(t,a,e,r,i,n,c,s,v,o,d){"use strict";function f(t){var a=d(".jira-avatar-picker-trigger"),e=d(".jira-avatar-picker-trigger img, img.jira-avatar-picker-trigger",t),r=d(t).find("#avatar-picker-avatar-id"),i=d(t).find("#avatar-picker-iconurl"),n=d(t).find("#avatar-type");""!==n.text()&&s.createUniversalAvatarPickerDialog({trigger:a,title:d(t).find("#avatar-dialog-title").text(),projectId:d(t).find("#avatar-owner-id").text(),projectKey:d(t).find("#avatar-owner-key").text(),defaultAvatarId:d(t).find("#default-avatar-id").text(),initialSelection:r.val(),avatarSize:c.getSizeObjectFromName(d(t).find("#avatar-size").text()),avatarType:n.text(),select:function(t,a){e.attr("src",a),i.val(a),r.val(t.getId())}})}function l(a){var e=d(".jira-inline-avatar-picker-trigger",a);e.length&&new j({offsetTarget:e,projectId:d(a).find("#avatar-owner-id").text(),projectKey:d(a).find("#avatar-owner-key").text(),defaultAvatarId:d(a).find("#default-avatar-id").text(),alignment:t.LEFT,width:420,allowDownsize:!0})}var g=n.extend({init:function(t){this.avatarPicker=t},content:function(t){this.avatarPicker.render(function(a){t(d("<div />").html(a))})},cache:function(){return!1},isLocked:function(){},startingRequest:function(){},finishedRequest:function(){}}),j=i.extend({init:function(t){var a=this;this.avatarPicker=v.createProjectAvatarPicker({projectId:t.projectId,projectKey:t.projectKey,defaultAvatarId:t.defaultAvatarId,select:function(e,r,i){t.select&&t.select.apply(this,arguments),i||a.hide(),a.offsetTarget().attr("src",r),a.offsetTarget().trigger("AvatarSelected")}}),t.contentRetriever=new g(this.avatarPicker),d(this.avatarPicker.imageEditor).bind(o.LOADED,function(){a.setWidth(a.layer().attr("scrollWidth"))}),this._super(t);var e=this.offsetTarget(),r=d("<span class='jira-avatar-picker-trigger'></span>");r.insertBefore(e).append(e),this._assignEvents("offsetTarget",r)},_events:{offsetTarget:{click:function(){this.show()}}}});a.bind(e.NEW_CONTENT_ADDED,function(t,a,e){e!==r.panelRefreshed&&(f(a),l(a))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/init/init-avatar-picker.js' */
require("jira/admin/init/avatar-picker-trigger");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:croneditor', location = '/includes/js/cron/croneditor.js' */
define("jira/util/cron",["exports"],function(n){"use strict";var i=window.timesOnce=window.timesOnce||{};n.hideCronEdit=function(n){document.getElementById(n).style.display="none"},n.showCronEdit=function(n){document.getElementById(n).style.display=""},n.toggleFrequencyControl=function(i,e){"0"===document.getElementById(i+"interval").value?n.switchToOnce(i,e):n.switchToMany(i,e)},n.switchToOnce=function(e,o){n.hideCronEdit(e+"runMany"),n.showCronEdit(e+"runOnce"),o&&(i[e]=!0)},n.switchToMany=function(e,o){n.hideCronEdit(e+"runOnce"),n.showCronEdit(e+"runMany"),o&&(i[e]=!1)},n.switchToDaysOfMonth=function(i){n.hideCronEdit(i+"daysOfWeek"),n.showCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.hideCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOnce(i,!1)},n.switchToDaysOfWeek=function(i){n.showCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.showCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOriginal(i)},n.switchToDaily=function(i){n.hideCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.showCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOriginal(i)},n.switchToAdvanced=function(i){n.hideCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.hideCronEdit(i+"runOnce"),n.hideCronEdit(i+"runMany"),n.hideCronEdit(i+"freqDiv"),n.showCronEdit(i+"advanced")},n.switchToOriginal=function(e){i[e]?n.switchToOnce(e,!1):n.switchToMany(e,!1)}}),function(){"use strict";var n=require("jira/util/cron");AJS.namespace("hideCronEdit",null,n.hideCronEdit),AJS.namespace("showCronEdit",null,n.showCronEdit),AJS.namespace("switchToOnce",null,n.switchToOnce),AJS.namespace("switchToMany",null,n.switchToMany),AJS.namespace("switchToDaysOfMonth",null,n.switchToDaysOfMonth),AJS.namespace("switchToDaysOfWeek",null,n.switchToDaysOfWeek),AJS.namespace("switchToDaily",null,n.switchToDaily),AJS.namespace("switchToAdvanced",null,n.switchToAdvanced),AJS.namespace("switchToOriginal",null,n.switchToOriginal),AJS.namespace("toggleFrequencyControl",null,n.toggleFrequencyControl)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-page-atl-prefetch', location = '/includes/jira/page/prefetch.js' */
define("jira/page/atl/prefetch",["jira/util/data/meta","jira/data/local-storage","jira/ajs/dark-features","jquery","wrm/context-path"],function(e,t,r,n,i){"use strict";function a(e){n("<link />",{rel:"prefetch",href:e}).appendTo("head")}function s(e){var t=e.sections;if(t){var r=t.filter(function(e){return"issues_history_main"===e.id});if(r.length&&0!==r[0].items.length){return r[0].items[0].url}}}function c(e,t){for(var r=t.exec(e);r;){a(r[1].replace(/&amp;/g,"&")),r=t.exec(e)}}function u(){try{t.setItem(g,d)}catch(e){}}function f(e){c(e,/<script.+?src="(.+?)".+?<\/script>/g),c(e,/<link.+?rel="stylesheet".+?href="(.+?)".+?>/g),u()}function o(){return!!r.isEnabled("jira.issue.prefetch")&&(1===n("#isNavigator").length?(u(),!1):e.get("issue-key")?(u(),!1):d!==t.getItem(g))}function l(e){var t=s(e);t&&h(t)}function h(e){n.get(e,f)}function p(){o()&&n.ajax({url:i()+"/rest/api/1.0/menus/find_link?inAdminMode=false",dataType:"json"}).done(l)}var g="jira.issue.prefetch.last.superbatch",d=function(){var e=new Date,t=e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString(),r=n("head > script").filter(function(e,t){return t.src.indexOf("/_super")>0});return(r.length>0?r[0].src:"empty")+t}();return{prefetchResourcesForUrl:h,prefetchViewIssueResources:p}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-jira-page-atl-prefetch', location = '/includes/jira/page/initPrefetch.js' */
require(["jira/page/atl/prefetch","jquery"],function(e,r){"use strict";r(window).on("load",e.prefetchViewIssueResources.bind(e))});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-terminology-help-dialog', location = '/includes/jira/terminology/InitTerminologyHelpDialog.js' */
require(["jira/data/local-storage","jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/terminology-feature-service","jira/util/formatter","jira/util/init-on-dcl","jquery"],function(e,i,o,t,r,l,n,a){"use strict";n(function(){var n=e.getItem("jira.terminology.help.clicked"),s=e.getItem("jira.terminology.help.dismissed"),g=a("#terminology_help");if(s||!r.isEnglishLocale())return void g.parent("li").remove();if(i.terminologyHelp=new t({id:"terminology-help-dialog",trigger:"#terminology_help",widthClass:"medium",ajaxOptions:o.getDefaultAjaxOptions,defineResources:function(){this.requireResource("jira.webresources:terminology-help-dialog")}}),i.terminologyHelp.onContentReady(function(){var i=this;this.get$popupContent().find("#terminology-dismiss-btn").on("click",function(){e.setItem("jira.terminology.help.dismissed",!0),i.hide(),g.parent("li").remove()})}),!n){var m=a('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-new">'+"New"+"</span>").css("margin-left","5px").appendTo(g);g.on("click",function(){e.setItem("jira.terminology.help.clicked",!0),m.remove()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.feedback.jira-feedback-plugin:button-resources-init', location = '/js/feedback-dialog-init.js' */
require(["jquery","jira/loading/loading","wrm/require"],function(n,i,e){"use strict";function o(){t=!0,AJS.dim(),i.showLoadingIndicator()}function r(n){t=!1,n&&AJS.dim.$dim.css("transition","none"),AJS.undim(),n&&AJS.dim.$dim&&AJS.dim.$dim.css("transition",""),i.hideLoadingIndicator()}var t=!1;n(document).on("click",".jira-feedback-plugin",function(n){n.preventDefault(),t||(o(),e(["wr!com.atlassian.feedback.jira-feedback-plugin:button-resources"]).done(function(){require("jira/feedback/feedback-dialog").show().then(function(){return r(!0)},function(n){console.error("Something went wrong in an attempt to show the issue collector dialog",n),r(!1)})}).fail(function(n){console.error("Something went wrong when loading feedback plugin resources",n),r(!1)}))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init', location = 'static/components/newsletter/initNewsletterSignup.js' */
define("jira/newsletter/init-signup",["wrm/data","wrm/require","require"],function(e,i,r){"use strict";return function(){var t=e.claim("com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup");!t||t&&!t.showNewsletterTip||i("wr!com.atlassian.jira.jira-header-plugin:newsletter-signup-tip").then(function(){r("jira/newsletter/signuptip").render(t)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init-init', location = 'static/components/newsletter/initInitNewsletterSignup.js' */
require(["jquery","jira/newsletter/init-signup"],function(i,e){"use strict";i(function(){e()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/notification-helper-init.js' */
require(["jquery","jira/util/data/meta","wrm/require"],function(a,b,c){b.get("is-admin")&&a(document).delegate(".notificationhelper-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"notification-helper-dialog",content:function(a){const b=this;require(["jira/admin-helper/notification-helper/content-loader"],function(c){c.loadContent(b,a)})}})).show()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/permission-helper-init.js' */
require(["jquery","jira/util/data/meta","wrm/require"],function(a,b,c){b.get("is-admin")&&a(document).delegate(".permissionhelper-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"permission-helper-dialog",content:function(a){const b=this;require(["jira/admin-helper/permission-helper/content-loader"],function(c){c.loadContent(b,a)})}})).show()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/whereismycf-init.js' */
require(["jquery","jira/util/data/meta","jira/dialog/dialog-stack","wrm/require"],function(b,d,e,c){if(d.get("is-admin")){var f="Where is my field?";b(document).delegate(".whereismycf-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"whereismycf-dialog",width:500,content:function(a){var b=this;require(["jira/admin-helper/whereismycf/content-loader"],
function(g){g.loadContentForView(b,a)})}})).show()})});b(document).bind("aui-show",function(a){"qf-fieldpicker-inline"===a.target.id&&(a=b("#qf-fieldpicker-inline"),0==a.find(".whereismycf-qfpicker-link").length&&b("\x3cdiv\x3e\x3ca href\x3d'#' tabindex\x3d'0' class\x3d'whereismycf-qfpicker-link'\x3e"+f+"\x3c/a\x3e\x3c/div\x3e").prependTo(a.find(".qf-picker-header")).attr("tabindex",0).click(function(a){a.preventDefault();const b=e.current;c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>
{(new (require("jira/admin-helper/dialog"))({id:"whereismycf-dialog",width:500,content:function(a){const c=this;require(["jira/admin-helper/whereismycf/content-loader"],function(d){d.loadContentForEditAndCreate(c,b,a)})}})).show()})}))})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-common', location = 'js/ajs-amd.js' */
define('troubleshooting/ajs', [], function () {
    'use strict';

    return AJS;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthcheck-sensors', location = 'js/sensors.js' */
require([
    'troubleshooting/sensors/page-protocols',
    'troubleshooting/ajs'
], function(
    protocolSensor,
    AJS
) {
    var sensors = [protocolSensor];

    AJS.toInit(function() {

        function hash(str) {
            var hash = 0;
            for (var i = 0; i < str.length; ++i) {
                hash = 31 * hash + str.charCodeAt(i);
                hash |= 0; // this reduces the number to 32bits and prevents Infinity
            }
            return hash;
        }

        //this handles cases when the user disabled access to local storage
        var localStorageWrapper = {
            getWithDefaultOnError: function(sensorName, defaultValue) {
                try {
                    return window.localStorage.getItem(sensorName) || "0";
                } catch (e) {
                    return defaultValue;
                }
            },
            setItemQuietly: function (key, value) {
                try {
                    window.localStorage.setItem(key, value);
                } catch (ignored) {
                }
            }
        };

        // Iterate through each sensor and ingest any data it has for us...
        // but only if it's actually working properly in this client.
        sensors.forEach(function(sensor) {
            if (!sensor.isWorking()) {
                return
            }

            var sensorData = {};
            var newData = sensor.getData();
            for (var key in newData) {
                if (newData.hasOwnProperty(key)) {
                    sensorData[key] = newData[key];
                }
            }

            var sensorName = 'atst.healthcheck.sensors.' + sensor.getName();
            var currentHash = hash(JSON.stringify(sensorData)).toString(36);
            var previousHash = localStorageWrapper.getWithDefaultOnError(sensorName, currentHash);
            if (previousHash===currentHash && Math.random()>0.01) {
                return;
            }
            // What's one more analytics event to the world? A drop in the data ocean.
            AJS.trigger('analytics', {
                name: sensorName,
                data: sensorData
            });
            localStorageWrapper.setItemQuietly(sensorName, currentHash);
        });

    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthcheck-sensors', location = 'js/sensors/page-protocols.js' */
define('troubleshooting/sensors/page-protocols', ['troubleshooting/ajs'], function(AJS) {
    var baseUrl = AJS.contextPath();
    var hasPerfData = window.performance && typeof window.performance.getEntriesByType === 'function';

    // WARNING: This is a rough assumption based on how the WRM works.
    // Consuming this from the WRM would be a better option, but meh.
    // See: https://bitbucket.org/atlassian/atlassian-plugins-webresource/src/master/atlassian-plugins-webresource/src/main/java/com/atlassian/plugin/webresource/WebResourceUrlProviderImpl.java
    // See also: https://stash.atlassian.com/projects/CP/repos/static-assets-url/browse/src/main/resources/ui/health-checks/health-checks.js
    var WRM_STATIC_ASSET_REGEX = new RegExp(baseUrl + '/s/.+?/_/');

    function isStaticResource(resource) {
        return WRM_STATIC_ASSET_REGEX.test(resource.name);
    }

    function getNextHopData(resource) {
        return (resource && resource.nextHopProtocol) || 'unknown';
    }

    function unique(elem, pos, arr) {
        return arr.indexOf(elem) === pos;
    }

    return {
        isWorking: function() {
            return hasPerfData;
        },
        getName: function() {
          return 'page-protocols';
        },
        getData: function() {
            var resources = window.performance.getEntriesByType('resource');
            var navigation = window.performance.getEntriesByType('navigation');
            var resourceProtocols = resources
                .filter(isStaticResource)
                .map(getNextHopData)
                .filter(unique)
                .sort();
            if (!resourceProtocols.length) {
                resourceProtocols.push('unknown');
            }
            return {
                resourceProtocols: resourceProtocols,
                navigationProtocol: getNextHopData(navigation[0]),
                userAgent: navigator.getUserAgent && "use-js-client-hints" || navigator.userAgent
            };
        }
    }
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/singleUserPicker.soy' */
// This file was automatically generated from singleUserPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.single = function(opt_data, opt_ignored) {
  var output = '<select id="' + soy.$$escapeHtml(opt_data.field.id) + '" name="' + soy.$$escapeHtml(opt_data.field.name) + '" class="single-user-picker js-' + ((opt_data.type) ? soy.$$escapeHtml(opt_data.type) : 'default-user-picker') + '"' + ((opt_data.inputText) ? ' data-input-text="' + soy.$$escapeHtml(opt_data.inputText) + '"' : '') + ((opt_data.editValue) ? ' data-edit-value="' + soy.$$escapeHtml(opt_data.editValue) + '"' : '') + ((opt_data.showDropdownButton) ? ' data-show-dropdown-button="true"' : '') + ((opt_data.userType) ? ' data-user-type="' + soy.$$escapeHtml(opt_data.userType) + '"' : '') + ((opt_data.containerClass) ? ' data-container-class="' + soy.$$escapeHtml(opt_data.containerClass) + '"' : '') + 'aria-hidden="true" aria-labelledby="' + soy.$$escapeHtml(opt_data.field.id) + '-field" >';
  var optionList40 = opt_data.options;
  var optionListLen40 = optionList40.length;
  for (var optionIndex40 = 0; optionIndex40 < optionListLen40; optionIndex40++) {
    var optionData40 = optionList40[optionIndex40];
    if (optionData40.optionGroup) {
      output += '<optgroup id="' + soy.$$escapeHtml(opt_data.field.id) + '-group-' + soy.$$escapeHtml(optionData40.id) + '" label="' + soy.$$escapeHtml(optionData40.display) + '"' + ((optionData40.footer) ? ' data-footer-text="' + soy.$$escapeHtml(optionData40.footer) + '"' : '') + ((optionData40.weight != -1) ? ' data-weight="' + soy.$$escapeHtml(optionData40.weight) + '"' : '') + '>';
      var groupOptionList61 = optionData40.groupOptions;
      var groupOptionListLen61 = groupOptionList61.length;
      for (var groupOptionIndex61 = 0; groupOptionIndex61 < groupOptionListLen61; groupOptionIndex61++) {
        var groupOptionData61 = groupOptionList61[groupOptionIndex61];
        output += JIRA.Templates.Fields.Pickers.User.option(groupOptionData61);
      }
      output += '</optgroup>';
    } else {
      output += JIRA.Templates.Fields.Pickers.User.option(optionData40);
    }
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.single.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.single';
}


JIRA.Templates.Fields.Pickers.User.option = function(opt_data, opt_ignored) {
  return '<option ' + ((opt_data.loggedInUser) ? 'class="current-user" ' : '') + ((opt_data.selected) ? 'selected="selected" ' : '') + 'value="' + soy.$$escapeHtml(opt_data.optionName) + '" data-field-text="' + soy.$$escapeHtml(opt_data.displayName) + '" data-field-label="' + soy.$$escapeHtml(opt_data.displayName) + ((opt_data.emailAddress) ? ' - ' + soy.$$escapeHtml(opt_data.emailAddress) : '') + ((opt_data.optionName && opt_data.optionName != '-1') ? ' (' + soy.$$escapeHtml(opt_data.optionName) + ')' : '') + '" data-icon="' + soy.$$escapeHtml(opt_data.avatarURL) + '" data-icon-type="rounded" >' + soy.$$escapeHtml(opt_data.displayName) + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.option.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.option';
}


JIRA.Templates.Fields.Pickers.User.popupTrigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.hasPermission) ? '<a class="' + ((opt_data['class']) ? soy.$$escapeHtml(opt_data['class']) : 'popup-trigger') + '"' + ((opt_data.fieldId) ? ' id="' + soy.$$escapeHtml(opt_data.fieldId) + '"' : '') + ' title="' + soy.$$escapeHtml(opt_data.imgTitle) + '" aria-label="' + soy.$$escapeHtml(opt_data.imgTitle) + '" href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '"><span class="icon-default aui-icon aui-icon-small aui-iconfont-admin-roles"></span></a>' : '<span class="aui-icon aui-icon-small aui-iconfont-locked" title="' + soy.$$escapeHtml(opt_data.noPermissionTitle) + '"></span>');
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.popupTrigger.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.popupTrigger';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/assigneeField.soy' */
// This file was automatically generated from assigneeField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.assignee = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.Fields.Pickers.User.single(soy.$$augmentMap(opt_data, {options: opt_data.assigneeOptions.options, showDropdownButton: true, userType: 'assignee', type: 'assignee-picker', containerClass: 'long-field'})) + ((opt_data.isLoggedInUserAssignable) ? '<button type="button" data-field-id="#' + soy.$$escapeHtml(opt_data.field.id) + '" class="aui-button aui-button-link" id="assign-to-me-trigger">' + soy.$$escapeHtml('Assign to me') + '</button>' : '') + '<fieldset class="hidden parameters"><input type="hidden" title="projectKeys" value="' + soy.$$escapeHtml(opt_data.projectKeys) + '"/>' + ((opt_data.issueKey) ? '<input type="hidden" title="assigneeEditIssueKey" value="' + soy.$$escapeHtml(opt_data.issueKey) + '"/>' : '') + ((opt_data.actionDescriptorId) ? '<input type="hidden" title="actionDescriptorId" value="' + soy.$$escapeHtml(opt_data.actionDescriptorId) + '"/>' : '') + '</fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.assignee.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.assignee';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/lib/jquery.dotdotdot-1.5.7.js' */
(function(i){if(i.fn.dotdotdot){return}i.fn.dotdotdot=function(v){if(this.length==0){if(!v||v.debug!==false){b(true,'No element found for "'+this.selector+'".')}return this}if(this.length>1){return this.each(function(){i(this).dotdotdot(v)})}var r=this;if(r.data("dotdotdot")){r.trigger("destroy.dot")}r.bind_events=function(){r.bind("update.dot",function(y,A){y.preventDefault();y.stopPropagation();t.maxHeight=(typeof t.height=="number")?t.height:o(r);t.maxHeight+=t.tolerance;if(typeof A!="undefined"){if(typeof A=="string"||A instanceof HTMLElement){A=i("<div />").append(A).contents()}if(A instanceof i){w=A}}s=r.wrapInner('<div class="dotdotdot" />').children();s.empty().append(w.clone(true)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var z=false,x=false;if(q.afterElement){z=q.afterElement.clone(true);q.afterElement.remove()}if(k(s,t)){if(t.wrap=="children"){x=d(s,t,z)}else{x=m(s,r,s,t,z)}}s.replaceWith(s.contents());s=null;if(i.isFunction(t.callback)){t.callback.call(r[0],x,w)}q.isTruncated=x;return x}).bind("isTruncated.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],q.isTruncated)}return q.isTruncated}).bind("originalContent.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],w)}return w}).bind("destroy.dot",function(x){x.preventDefault();x.stopPropagation();r.unwatch().unbind_events().empty().append(w).data("dotdotdot",false)});return r};r.unbind_events=function(){r.unbind(".dot");return r};r.watch=function(){r.unwatch();if(t.watch=="window"){var z=i(window),y=z.width(),x=z.height();z.bind("resize.dot"+q.dotId,function(){if(y!=z.width()||x!=z.height()||!t.windowResizeFix){y=z.width();x=z.height();if(p){clearInterval(p)}p=setTimeout(function(){r.trigger("update.dot")},10)}})}else{u=j(r);p=setInterval(function(){var A=j(r);if(u.width!=A.width||u.height!=A.height){r.trigger("update.dot");u=j(r)}},100)}return r};r.unwatch=function(){i(window).unbind("resize.dot"+q.dotId);if(p){clearInterval(p)}return r};var w=r.contents(),t=i.extend(true,{},i.fn.dotdotdot.defaults,v),q={},u={},p=null,s=null;q.afterElement=c(t.after,r);q.isTruncated=false;q.dotId=l++;r.data("dotdotdot",true).bind_events().trigger("update.dot");if(t.watch){r.watch()}return r};i.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true,debug:false};var l=1;function d(s,w,v){var u=s.children(),p=false;s.empty();for(var r=0,q=u.length;r<q;r++){var t=u.eq(r);s.append(t);if(v){s.append(v)}if(k(s,w)){t.remove();p=true;break}else{if(v){v.remove()}}}return p}function m(s,r,A,t,q){var w=s.contents(),x=false;s.empty();var z="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style";for(var y=0,u=w.length;y<u;y++){if(x){break}var v=w[y],p=i(v);if(typeof v=="undefined"){continue}s.append(p);if(q){s[(s.is(z))?"after":"append"](q)}if(v.nodeType==3){if(k(A,t)){x=e(p,r,A,t,q)}}else{x=m(p,r,A,t,q)}if(!x){if(q){q.remove()}}}return x}function e(q,r,p,w,s){var D=false,A=q[0];if(typeof A=="undefined"){return false}var E=(w.wrap=="letter")?"":" ",t=h(A).split(E),F=-1,v=-1,G=0,y=t.length-1;while(G<=y){var x=Math.floor((G+y)/2);if(x==v){break}v=x;a(A,t.slice(0,v+1).join(E)+w.ellipsis);if(!k(p,w)){F=v;G=v}else{y=v}}if(F!=-1&&!(t.length==1&&t[0].length==0)){var u=f(t.slice(0,F+1).join(E),w);D=true;a(A,u)}else{var z=q.parent();q.remove();var C=(s)?s.length:0;if(z.contents().size()>C){var B=z.contents().eq(-1-C);D=e(B,r,p,w,s)}else{var A=z.prev().contents().eq(-1)[0];if(typeof A!="undefined"){var u=f(h(A),w);a(A,u);z.remove();D=true}}}return D}function k(q,p){return q.innerHeight()>p.maxHeight}function f(p,q){while(i.inArray(p.slice(-1),q.lastCharacter.remove)>-1){p=p.slice(0,-1)}if(i.inArray(p.slice(-1),q.lastCharacter.noEllipsis)<0){p+=q.ellipsis}return p}function j(p){return{width:p.innerWidth(),height:p.innerHeight()}}function a(q,p){if(q.innerText){q.innerText=p}else{if(q.nodeValue){q.nodeValue=p}else{if(q.textContent){q.textContent=p}}}}function h(p){if(p.innerText){return p.innerText}else{if(p.nodeValue){return p.nodeValue}else{if(p.textContent){return p.textContent}else{return""}}}}function c(p,q){if(typeof p=="undefined"){return false}if(!p){return false}if(typeof p=="string"){p=i(p,q);return(p.length)?p:false}if(typeof p=="object"){return(typeof p.jquery=="undefined")?false:p}return false}function o(s){var t=s.innerHeight(),r=["paddingTop","paddingBottom"];for(var u=0,q=r.length;u<q;u++){var p=parseInt(s.css(r[u]),10);if(isNaN(p)){p=0}t-=p}return t}function b(q,p){if(!q){return false}if(typeof p=="string"){p="dotdotdot: "+p}else{p=["dotdotdot:",p]}if(typeof window.console!="undefined"){if(typeof window.console.log!="undefined"){window.console.log(p)}}return false}var n=i.fn.html;i.fn.html=function(p){if(typeof p!="undefined"){if(this.data("dotdotdot")){if(typeof p!="function"){return this.trigger("update",[p])}}return n.call(this,p)}return n.call(this)};var g=i.fn.text;i.fn.text=function(q){if(typeof q!="undefined"){if(this.data("dotdotdot")){var p=i("<div />");p.text(q);q=p.html();p.remove();return this.trigger("update",[q])}return g.call(this,q)}return g.call(this)}})(require("jquery"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/ProjectTemplatesList.soy' */
// This file was automatically generated from ProjectTemplatesList.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.renderProjectTemplates = function(opt_data, opt_ignored) {
  return '' + ((soy.$$getMapKeys(opt_data.projectTemplates).length == 0) ? JIRA.Templates.errorMsg({closeable: false, msg: 'No project templates could be found.'}) : JIRA.Templates.ProjectTemplates.renderTemplates(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplates';
}


JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.projectTemplatesByType.length == 0) {
    output += JIRA.Templates.errorMsg({closeable: false, msg: 'No project templates could be found.'});
  } else {
    var projectTypeTemplatesGroupList18 = opt_data.projectTemplatesByType;
    var projectTypeTemplatesGroupListLen18 = projectTypeTemplatesGroupList18.length;
    for (var projectTypeTemplatesGroupIndex18 = 0; projectTypeTemplatesGroupIndex18 < projectTypeTemplatesGroupListLen18; projectTypeTemplatesGroupIndex18++) {
      var projectTypeTemplatesGroupData18 = projectTypeTemplatesGroupList18[projectTypeTemplatesGroupIndex18];
      output += '<div class="template-group" id="project-template-group-' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeKey) + '"><div class="template-group-header"><h6><img class="project-type-icon" src="data:image/svg+xml;base64, ' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.icon) + ' "/><span>' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeDisplayKey) + '</span></h6></div>' + JIRA.Templates.ProjectTemplates.renderTemplates({projectTemplates: projectTypeTemplatesGroupData18.projectTemplates}) + '</div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType';
}


JIRA.Templates.ProjectTemplates.renderTemplates = function(opt_data, opt_ignored) {
  return '<div class="pt-templates-list">' + JIRA.Templates.ProjectTemplates.renderItems(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderTemplates';
}


JIRA.Templates.ProjectTemplates.renderItems = function(opt_data, opt_ignored) {
  var output = '<ol class="templates" tabindex="100">';
  var templateList37 = opt_data.projectTemplates;
  var templateListLen37 = templateList37.length;
  for (var templateIndex37 = 0; templateIndex37 < templateListLen37; templateIndex37++) {
    var templateData37 = templateList37[templateIndex37];
    output += '<li class="template"' + ((templateData37.itemModuleCompleteKey) ? 'data-item-module-complete-key="' + soy.$$escapeHtml(templateData37.itemModuleCompleteKey) + '"' : '') + ((templateData37.projectTemplateModuleCompleteKey) ? 'data-project-template-module-complete-key="' + soy.$$escapeHtml(templateData37.projectTemplateModuleCompleteKey) + '"' : '') + ((templateData37.createProject) ? 'data-create-project="' + soy.$$escapeHtml(templateData37.createProject) + '"' : '') + ((templateData37.demoProject) ? 'data-demo-project="' + soy.$$escapeHtml(templateData37.demoProject) + '"' : '') + ((templateData37.backgroundIconUrl) ? 'data-background-icon-url="' + soy.$$escapeHtml(templateData37.backgroundIconUrl) + '"' : '') + ((templateData37.name) ? 'data-name="' + soy.$$escapeHtml(templateData37.name) + '"' : '') + ((templateData37.description) ? 'data-description="' + soy.$$escapeHtml(templateData37.description) + '"' : '') + ((templateData37.longDescriptionContent) ? 'data-long-description-content="' + soy.$$escapeHtml(templateData37.longDescriptionContent) + '"' : '') + ((templateData37.infoSoyPath) ? 'data-info-soy-path="' + soy.$$escapeHtml(templateData37.infoSoyPath) + '"' : '') + '><img class="template-preview" src="' + soy.$$escapeHtml(templateData37.iconUrl) + '" /><div class="template-meta"><div class="template-name" title="' + soy.$$escapeHtml(templateData37.name) + '">' + soy.$$escapeHtml(templateData37.name) + '</div><div class="template-description" title="' + soy.$$escapeHtml(templateData37.description) + '">' + soy.$$escapeHtml(templateData37.description) + '</div></div></li>';
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderItems.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderItems';
}


JIRA.Templates.ProjectTemplates.loadingTemplatesList = function(opt_data, opt_ignored) {
  return '<div class="wait-container"><img class="wait-icon" src="' + soy.$$escapeHtml("") + '/images/icons/wait.gif"><span class="wait-text">' + soy.$$escapeHtml('Loading project templates') + '&hellip;</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loadingTemplatesList.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loadingTemplatesList';
}


JIRA.Templates.ProjectTemplates.footerLinks = function(opt_data, opt_ignored) {
  return '<div class="footer-links"><a class="import-project-trigger button-panel-link" href="' + soy.$$escapeHtml("") + '/secure/admin/views/ExternalImport1.jspa">' + soy.$$escapeHtml('Import a project') + '</a>|<a class="create-with-shared-config button-panel-link" href="#"><span class="aui-icon aui-icon-create-shared">' + soy.$$escapeHtml('Create with shared configuration') + '</span> ' + soy.$$escapeHtml('Create with shared configuration') + '</a>' + ((opt_data.showDemoLink) ? '| <a class="add-demo-project-trigger button-panel-link" href="#">' + soy.$$escapeHtml('Create sample data') + '</a>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.footerLinks.soyTemplateName = 'JIRA.Templates.ProjectTemplates.footerLinks';
}


JIRA.Templates.ProjectTemplates.addWorkflowsLink = function(opt_data, opt_ignored) {
  return '<a class="add-workflow-link" href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/plugins/servlet/wfshare-import?src=projecttemplates" tabindex="-1">' + soy.$$escapeHtml('View Marketplace Workflows') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addWorkflowsLink.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addWorkflowsLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/AddProject.soy' */
// This file was automatically generated from AddProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.addProjectForm = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.errorMessages) {
    var errorList5 = opt_data.errors.errorMessages;
    var errorListLen5 = errorList5.length;
    for (var errorIndex5 = 0; errorIndex5 < errorListLen5; errorIndex5++) {
      var errorData5 = errorList5[errorIndex5];
      output += JIRA.Templates.errorMsg({closeable: false, msg: errorData5});
    }
  }
  output += '<div class="add-project-wrapper"><div class="add-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({legendContent: '', content: '' + JIRA.Templates.ProjectTemplates.longTextField({id: 'name', name: 'name', isRequired: false, maxLength: opt_data.maxNameLength, labelContent: 'Name', descriptionText: AJS.format('Max. {0} characters.',opt_data.maxNameLength), value: opt_data.currentName ? opt_data.currentName : '', errorTexts: opt_data.errors.errors.projectName ? [opt_data.errors.errors.projectName] : []}) + JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon({id: 'key', name: 'key', isRequired: false, maxLength: opt_data.maxKeyLength, labelContent: 'Key', descriptionText: AJS.format('Max. {0} characters.',opt_data.maxKeyLength), helpTitle: 'What\x27s a project key?', value: opt_data.currentKey ? opt_data.currentKey : '', errorTexts: opt_data.errors.errors.projectKey ? [opt_data.errors.errors.projectKey] : []}) + ((opt_data.shouldShowLead) ? JIRA.Templates.ProjectTemplates.projectLeadField({field: opt_data.projectLeadPickerField, isRequired: false, errorTexts: opt_data.errors.errors.projectLead ? [opt_data.errors.errors.projectLead] : [], options: opt_data.leadOptions}) : '') + ((opt_data.addUserToLicense.displayCheckbox) ? JIRA.Templates.ProjectTemplates.addUserToLicense({fieldId: opt_data.addUserToLicense.fieldId, fieldName: opt_data.addUserToLicense.fieldName, applicationName: opt_data.addUserToLicense.applicationName, usedSeats: opt_data.addUserToLicense.usedSeats, totalSeats: opt_data.addUserToLicense.totalSeats, disableCheckbox: opt_data.addUserToLicense.disableCheckbox, licensingUrl: opt_data.addUserToLicense.licensingUrl}) : '') + '<input type="hidden" name="keyEdited" id="keyEdited" value="false"><input type="hidden" name="projectTemplateWebItemKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateWebItemKey) + '"><input type="hidden" name="projectTemplateModuleKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateModuleKey) + '"><input type="submit" class="pt-hidden-submit offscreen-left">'}), id: 'add-project-form'}) + '</div>' + ((opt_data.projectTemplateDescriptionContent) ? '<div class="add-project-description-wrapper"><div class="project-template-title"><h3>' + soy.$$escapeHtml(opt_data.projectTemplateTitle) + '</h3></div><div class="project-template-description">' + soy.$$filterNoAutoescape(opt_data.projectTemplateDescriptionContent) + '</div></div>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addProjectForm';
}


JIRA.Templates.ProjectTemplates.keyHelp = function(opt_data, opt_ignored) {
  return '<div class="project-key-help"><p><b>' + soy.$$escapeHtml('What\x27s a project key?') + '</b></p><ul><li>' + soy.$$escapeHtml('It prefixes each issue in the project') + '</li><li>' + soy.$$escapeHtml('It can be changed, but this is not a trivial task') + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.keyHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.keyHelp';
}


JIRA.Templates.ProjectTemplates.projectLeadField = function(opt_data, opt_ignored) {
  var param77 = '' + aui.form.label({forField: opt_data.field.name + '-field', isRequired: opt_data.isRequired, content: 'Project Lead'}) + JIRA.Templates.Fields.Pickers.User.single({field: opt_data.field, options: opt_data.options, editValue: opt_data.value}) + aui.form.fieldDescription({message: 'Enter the username of the Project Lead.'});
  if (opt_data.errorTexts) {
    var errorList90 = opt_data.errorTexts;
    var errorListLen90 = errorList90.length;
    for (var errorIndex90 = 0; errorIndex90 < errorListLen90; errorIndex90++) {
      var errorData90 = errorList90[errorIndex90];
      param77 += aui.form.fieldError({message: errorData90});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param77});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.projectLeadField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.projectLeadField';
}


JIRA.Templates.ProjectTemplates.addUserToLicense = function(opt_data, opt_ignored) {
  var output = '';
  var labelMessage__soy96 = '' + soy.$$escapeHtml(AJS.format('Give me a {0} license so I can access this project.',opt_data.applicationName)) + ((opt_data.totalSeats > 0) ? '<br/>' + soy.$$escapeHtml(AJS.format('({0} of {1} licenses now used)',opt_data.usedSeats,opt_data.totalSeats)) : '');
  output += aui.form.fieldGroup({content: '' + aui.form.label({forField: opt_data.fieldName, content: 'License'}) + ((opt_data.disableCheckbox) ? aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: true, descriptionContent: AJS.format('We can\x27\x27t give you access to {0} automatically. You can {1}manage application access{2} to work on {0} projects.',opt_data.applicationName,'<a href="' + "" + opt_data.licensingUrl + '">','</a>')}) : aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: false}))});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addUserToLicense.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addUserToLicense';
}


JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon = function(opt_data, opt_ignored) {
  var param128 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value}) + '<a class="help-lnk" title="' + soy.$$escapeHtml(opt_data.helpTitle) + '" id="' + soy.$$escapeHtml(opt_data.id) + '-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml(opt_data.helpTitle) + '</span></a>' + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList152 = opt_data.errorTexts;
    var errorListLen152 = errorList152.length;
    for (var errorIndex152 = 0; errorIndex152 < errorListLen152; errorIndex152++) {
      var errorData152 = errorList152[errorIndex152];
      param128 += aui.form.fieldError({message: errorData152});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param128});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon.soyTemplateName = 'JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon';
}


JIRA.Templates.ProjectTemplates.longTextField = function(opt_data, opt_ignored) {
  var param158 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value, extraClasses: 'long-field'}) + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList176 = opt_data.errorTexts;
    var errorListLen176 = errorList176.length;
    for (var errorIndex176 = 0; errorIndex176 < errorListLen176; errorIndex176++) {
      var errorData176 = errorList176[errorIndex176];
      param158 += aui.form.fieldError({message: errorData176});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param158});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.longTextField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.longTextField';
}


JIRA.Templates.ProjectTemplates.spinner = function(opt_data, opt_ignored) {
  return '<span id=\'' + soy.$$escapeHtml(opt_data.id) + '\' class=\'icon throbber loading\'/>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.spinner.soyTemplateName = 'JIRA.Templates.ProjectTemplates.spinner';
}


JIRA.Templates.ProjectTemplates.formatAnchor = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.body) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.formatAnchor.soyTemplateName = 'JIRA.Templates.ProjectTemplates.formatAnchor';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/CreateSharedProject.soy' */
// This file was automatically generated from CreateSharedProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.createSharedProjectForm = function(opt_data, opt_ignored) {
  return '<div class="create-shared-project-wrapper"><div class="create-shared-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({content: '<p>' + soy.$$escapeHtml('Select the existing project that you\x27d like to share configurations with.') + '<a class="help-lnk" title="' + soy.$$escapeHtml('What will be shared?') + '" id="shared-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml('What will be shared?') + '</span></a></p>' + aui.form.fieldGroup({extraClasses: 'project-picker-group', content: '' + aui.form.label({forField: 'project-picker', isRequired: false, content: 'Choose a project'}) + aui.form.input({id: 'project-picker', name: 'project', type: 'text'}) + '<div id="project-picker-options" data-suggestions="' + soy.$$escapeHtml(opt_data.projectSuggestions) + '"></div>'}) + '<p class="create-shared-info">' + soy.$$escapeHtml('When a configuration is shared with several projects, it means that any changes made to the configuration will affect all the projects.') + '</p>'}), id: 'create-shared-project-form'}) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.createSharedProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.createSharedProjectForm';
}


JIRA.Templates.ProjectTemplates.loading = function(opt_data, opt_ignored) {
  return '<div><div class="dialog-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loading.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loading';
}


JIRA.Templates.ProjectTemplates.noProjects = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('Looks like no other projects exist yet. Please create a brand new project first before trying to share an existing project\x27s configuration.') + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.noProjects.soyTemplateName = 'JIRA.Templates.ProjectTemplates.noProjects';
}


JIRA.Templates.ProjectTemplates.sharedHelp = function(opt_data, opt_ignored) {
  return '<div class="shared-help"><p><strong>' + soy.$$escapeHtml('What will be shared?') + '</strong></p><p>' + soy.$$escapeHtml('Configuration refers to the set of schemes used by a project') + '</p><ul><li>' + soy.$$escapeHtml('Permission Scheme') + '</li><li>' + soy.$$escapeHtml('Notification Scheme') + '</li><li>' + soy.$$escapeHtml('Issue Security Scheme') + '</li><li>' + soy.$$escapeHtml('Workflow Scheme') + '</li><li>' + soy.$$escapeHtml('Issue Type Scheme') + '</li><li>' + soy.$$escapeHtml('Issue Type Screen Scheme') + '</li><li>' + soy.$$escapeHtml('Field Configuration Scheme') + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.sharedHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.sharedHelp';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/Config.js' */
define("jira/project-templates/config",{model:{}});AJS.namespace("JPT.ConfigModel",null,require("jira/project-templates/config"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/ProjectKeyGenerator.js' */
define("jira/project-templates/project-key-generator",["jquery","underscore"],function(d,h){var c={};c.IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"];c.CHARACTER_MAP={};c.CHARACTER_MAP[199]="C";c.CHARACTER_MAP[231]="c";c.CHARACTER_MAP[252]="u";c.CHARACTER_MAP[251]="u";c.CHARACTER_MAP[250]="u";c.CHARACTER_MAP[249]="u";c.CHARACTER_MAP[233]="e";c.CHARACTER_MAP[234]="e";c.CHARACTER_MAP[235]="e";c.CHARACTER_MAP[232]="e";c.CHARACTER_MAP[226]="a";c.CHARACTER_MAP[228]="a";c.CHARACTER_MAP[224]="a";c.CHARACTER_MAP[229]="a";c.CHARACTER_MAP[225]="a";c.CHARACTER_MAP[239]="i";c.CHARACTER_MAP[238]="i";c.CHARACTER_MAP[236]="i";c.CHARACTER_MAP[237]="i";c.CHARACTER_MAP[196]="A";c.CHARACTER_MAP[197]="A";c.CHARACTER_MAP[201]="E";c.CHARACTER_MAP[230]="ae";c.CHARACTER_MAP[198]="Ae";c.CHARACTER_MAP[244]="o";c.CHARACTER_MAP[246]="o";c.CHARACTER_MAP[242]="o";c.CHARACTER_MAP[243]="o";c.CHARACTER_MAP[220]="U";c.CHARACTER_MAP[255]="Y";c.CHARACTER_MAP[214]="O";c.CHARACTER_MAP[241]="n";c.CHARACTER_MAP[209]="N";c.desiredKeyLength=4;c.maxKeyLength=10;c.getTotalLength=function a(k){return k.join("").length};c.removeIgnoredWords=function f(k){return h.reject(k,function(l){return d.inArray(l,c.IGNORED_WORDS)!==-1})};c.createAcronym=function b(l){var k="";d.each(l,function(m,n){k+=n.charAt(0)});return k};c.getFirstSyllable=function i(m){var l=false;var k;for(k=0;k<m.length;k++){if(c.isVowelOrY(m[k])){l=true}else{if(l){return m.substring(0,k+1)}}}return m};c.isVowelOrY=function g(k){return k&&k.length===1&&k.search("[AEIOUY]")!==-1};c.init=function j(l,k){c.desiredKeyLength=l;c.maxKeyLength=k};c.generate=function e(l){l=d.trim(l);if(!l){return""}var k=[];for(var n=0,p=l.length;n<p;n++){var o=c.CHARACTER_MAP[l.charCodeAt(n)];k.push(o?o:l[n])}l=k.join("");var r=[];d.each(l.split(/\s+/),function(s,t){if(t){t=t.replace(/[^a-zA-Z]/g,"");t=t.toUpperCase();t.length&&r.push(t)}});if(c.desiredKeyLength&&c.getTotalLength(r)>c.desiredKeyLength){r=c.removeIgnoredWords(r)}var m;if(r.length==0){m=""}else{if(r.length==1){var q=r[0];if(c.desiredKeyLength&&q.length>c.desiredKeyLength){m=c.getFirstSyllable(q)}else{m=q}}else{m=c.createAcronym(r)}}if(c.maxKeyLength&&m.length>c.maxKeyLength){m=m.substr(0,c.maxKeyLength)}return m};return c});AJS.namespace("JPT.ProjectKeyGenerator",null,require("jira/project-templates/project-key-generator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogView.js' */
define("jira/project-templates/dialog-view-impl",["require","backbone","underscore"],function(e,f,d){var b=AJS.Dialog;var a=AJS.trigger;return f.View.extend({events:{"click   .add-project-trigger":"_onClickAddProject","click   .add-demo-project-trigger":"_onClickAddDemoProject","click   .add-workflow-link":"_onClickViewMarketplaceWorkflows","click   #add-project-dialog .add-demo-project-trigger":"_onCreateProjectAddDemoProjectClick","click   #add-project-dialog .import-project-trigger":"_onClickImportProject","click   #add-project-dialog .create-with-shared-config":"_onClickCreateShared","keydown #add-project-dialog .pt-templates-list":"_onKeydownInTemplatesList"},draw:function(){var g=new b({width:840,height:400,id:"add-project-dialog",closeOnOutsideClick:false,keypressListener:d.bind(this._onKeyPressed,this)});var h=g.popup.element;g.addPage("project-templates-page");g.addHeader("Create project","add-project-dialog-header");g.addPanel("ProjectTemplatesListPanel",JIRA.Templates.ProjectTemplates.loadingTemplatesList(),"pt-content");this._dialog=g;this._$dialogElement=h;g.show();return g},remove:function(){this._dialog&&this._dialog.remove()},showErrorMessage:function(g){this._dialog.getPanel(1,0).html(JIRA.Templates.errorMsg({closable:false,msg:g}))},get$PTContent:function c(){return this.getDialogController().$dialogElement.find(".pt-content")},_onKeyPressed:function(h){var g=27;if(this._dialog){if(h.keyCode===g){this.getDialogController().hideDialogFromNewUser("dismissed");this._dialog.remove();return false}}return true},_onKeydownInTemplatesList:function(h){var g=13;if(this._dialog){if(h.keyCode===g){this._$dialogElement.find(".pt-submit-button:visible").click();return false}}return true},_onClickAddProject:function(g){g.preventDefault();this.getDialogController().handleProjectTemplateTriggered()},_onCreateProjectAddDemoProjectClick:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.create.project.clicked"})},_onClickViewMarketplaceWorkflows:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.viewmarketplaceworkflows.clicked"})},_onClickAddDemoProject:function(h){h.preventDefault();var g=this.getDialogController().dialog;if(g&&g.popup&&g.popup.element){g.remove()}this.getDialogController().handleDemoProjectTemplateTriggered()},_onClickImportProject:function(g){this.getDialogController().hideDialogFromNewUser("importproject")},_onClickCreateShared:function(g){this.getDialogController().handleCreateShared()},getDialogController:function(){return e("jira/project-templates/dialog-controller")}})});define("jira/project-templates/dialog-view",["jira/project-templates/dialog-view-impl","jquery"],function(b,a){return new b({el:a(document)})});AJS.namespace("JPT.DialogView",null,require("jira/project-templates/dialog-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogController.js' */
define("jira/project-templates/dialog-controller",["jira/project-templates/dialog-view","jira/project-templates/config","jira/ajs/ajax/smart-ajax","jira/util/data/meta","jira/lib/class","jquery","underscore","wrm/data"],function(n,e,a,g,b,k,o,m){var d=AJS.contextPath();var f=AJS.isDevMode;var i=AJS.log;function h(p,q){AJS.trigger("analyticsEvent",{name:p,data:q})}var l;var c=function(){if(!l){l=m.claim("com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData")||{}}return l};var j=b.extend({WELCOME_REST_URL:d+"/rest/welcome/1.0/show/welcome",initialize:function(){o.bindAll(this,"handleProjectTemplateTriggered","hideDialogFromNewUser");if(g.getBoolean("show-welcome-screen")){this.handleProjectTemplateTriggered()}},handleProjectTemplateTriggered:function(){this.demoProject=false;h("jira.project.templates.dialog.create.show");this.openWithFirstProjectTemplateOfTypePreSelected()},handleDemoProjectTemplateTriggered:function(){this.demoProject=true;var p=this.getTemplateController().loadDemoProjectTemplatesData();this.openWithFirstProjectTemplateOfTypePreSelected(null,p);this._addAnalyticsToCreateDemoShow(p)},_addAnalyticsToCreateDemoShow:function(p){p.done(function(r){var s={};var q=function(t){return t.projectTemplatesGroupedByType.map(function(u){return u.projectTemplates.map(function(v){return v.itemModuleCompleteKey}).join()}).join()};s.demoSets=q(r);s.instanceCreatedDate=c().instanceCreatedDate;h("jira.project.templates.dialog.create.demo.show",s)}.bind(this))},openWithFirstProjectTemplateOfTypePreSelected:function(p,q){q=q||this.getTemplateController().loadProjectTemplatesData();this.dialog=n.draw();q.fail(o.bind(function(r){this._handleUnknownErrorOfPTRetrieval()},this));q.done(o.bind(function(r){this.$dialogElement=this.dialog.popup.element;var s;if(!o.isUndefined(e.model.selectedTemplate)){s=e.model.selectedTemplate}e.model=r;e.model.selectedTemplate=s;this.getTemplateController().init(r,p)},this))},handleCreateShared:function(){h("jira.project.templates.dialog.create.shared.clicked");this.demoProject=false;this.openWithCreateShared()},openWithCreateShared:function(){var p=require("jira/project-templates/create-shared-controller");p.initCreateShared()},callbackWithResize:function(p){return o.bind(o.wrap(p,function(q){q.call(this);this.dialog.updateHeight()}),this)},addPage:function(r){var q=this.dialog.addPage(r.name).page[this.dialog.curpage];this.dialog.addHeader(r.title,"add-project-dialog-header");this.dialog.addPanel(r.panelName,"","pt-content");if(r.backButton){this._addBackButton(q)}this.dialog.addButton(r.submitButtonText,this.callbackWithResize(r.submitButtonCallback),r.submitButtonClass+" pt-submit-button");var p=this.$dialogElement.find("."+r.submitButtonClass);p.removeClass("button-panel-button").addClass("aui-button aui-button-primary");p.focus();this.dialog.addCancel("Cancel",o.bind(function(s){this.hideDialogFromNewUser("dismissed");this.dialog.remove()},this));return q},_backButtonOnClickCallback:function(p){return o.bind(function(){if(this.demoProject){h("jira.project.templates.dialog.demo.back")}else{h("jira.project.templates.dialog.create.back")}var q=n.get$PTContent();q.css("background-image","none");this.dialog.prevPage();p.remove();this.dialog.page.pop()},this)},_addBackButton:function(q){this.dialog.addButton("Back",this.callbackWithResize(this._backButtonOnClickCallback(q)),"add-project-back-button");var p=this.$dialogElement.find(".add-project-back-button");p.removeClass("button-panel-button").addClass("aui-button")},_handleUnknownErrorOfPTRetrieval:function(){n.showErrorMessage("An error occurred while trying to contact Jira")},hideDialogFromNewUser:function(p){if(p==="dismissed"){if(this.demoProject){h("jira.project.templates.dialog.demo.dismissed")}else{h("jira.project.templates.dialog.create.dismissed")}}else{if(p==="importproject"){h("jira.project.templates.dialog.import.clicked")}else{if(p==="templateselected"){if(this.demoProject){h("jira.project.templates.dialog.demo.templateselected")}else{h("jira.project.templates.dialog.create.templateselected")}}}}if(g.getBoolean("show-welcome-screen")){k.ajax({url:this.WELCOME_REST_URL+"/"+p,type:"DELETE",success:function(){if(f&&f()){i("don't show project template dialog anymore")}}})}},getTemplateController:function(){return require("jira/project-templates/select-project-template-controller")}});return new j()});AJS.namespace("JPT.DialogController",null,require("jira/project-templates/dialog-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectView.js' */
define("jira/project-templates/add-project-view-impl",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/util/events","jira/util/events/types","require","backbone","jquery","underscore"],function(q,n,t,y,m,e,g,D){var f=AJS.InlineDialog;return e.View.extend({TIMEOUT_MS:100,postDrawCallbacks:[],events:{"submit #add-project-form":"onSubmitForm"},page:undefined,isSubmitting:false,initialize:function(F){D.bindAll(this,"bindHook")},addPostDrawCallback:function(F){this.postDrawCallbacks.push(F)},prepareDialog:function(F){this.page=q.addPage({name:"add-project",title:F,panelName:"add-project",backButton:true,submitButtonText:"Submit",submitButtonCallback:this.onSubmitForm.bind(this),submitButtonClass:"add-project-dialog-create-button"})},draw:function(U){function V(X){if(!X.errors){X.errors={}}return X}this.isSubmitting=false;q.dialog.gotoPage(this.page.id);var G=U.webItemData.projectTemplateModuleCompleteKey;var F=D.find(n.model.projectTemplatesGroupedByType,function(X){return D.any(X.projectTemplates,function(Y){return Y.itemModuleCompleteKey==G})});var L=(F&&F.applicationInfo&&F.applicationInfo.applicationName)||"";var K=(F&&F.applicationInfo&&F.applicationInfo.licenseUsedSeats)||0;var H=(F&&F.applicationInfo&&F.applicationInfo.licenseTotalSeats)||0;var T=(F&&F.applicationInfo&&F.applicationInfo.canUserBeAddedToApplication)||false;var J=(F&&F.applicationInfo&&F.applicationInfo.canUserUseApplication)||false;var P=(F&&F.applicationInfo&&F.applicationInfo.ondemand)||false;var I;if(!F||!F.applicationInfo){I=false}else{I=!J}var R={maxNameLength:n.model.maxNameLength,maxKeyLength:n.model.maxKeyLength,shouldShowLead:n.model.shouldShowProjectLead,projectTemplateWebItemKey:n.model.selectedTemplate||U.webItemData.itemModuleCompleteKey,projectTemplateModuleKey:G,projectTemplateTitle:U.webItemData.name,projectTemplateDescriptionContent:U.webItemData.longDescriptionContent,currentKey:U.currentKey||"",currentName:U.currentName||"",errors:V(U.errors),projectLeadPickerField:{id:"lead",name:"lead"},addUserToLicense:{displayCheckbox:I,disableCheckbox:!T,applicationName:L,usedSeats:K,totalSeats:H,fieldId:"licenseUser",fieldName:"licenseUser",licensingUrl:P?"/admin/accessconfig":"/plugins/servlet/applications/versions-licenses"},leadOptions:[{selected:true,displayName:U.currentUserDisplayName,optionName:U.currentUserName,avatarURL:U.currentUserAvatarUrl}]};var N=JIRA.Templates.ProjectTemplates.addProjectForm(R);q.dialog.getPanel(this.page.id,0).html(N);if(U.webItemData&&U.webItemData.backgroundIconUrl){var Q=q.$dialogElement.find(".pt-content");Q.css("background-image",'url("'+U.webItemData.backgroundIconUrl+'")')}var O=g("#add-project-form");t.trigger(y.NEW_CONTENT_ADDED,[O]);this.nameElement=q.$dialogElement.find("#name");this.keyElement=q.$dialogElement.find("#key");this.keyEditedElement=q.$dialogElement.find("#keyEdited");this.leadDisplayElement=q.$dialogElement.find("#lead-field");this.leadValueElement=q.$dialogElement.find("#lead");var W=this.keyElement.parent().find(".aui-icon-help");if(W.length){new f(W,"project-key-help-popup",function(Z,Y,X){Z.html(JIRA.Templates.ProjectTemplates.keyHelp());X()},{width:330,offsetX:-30})}this.keyElement.attr("style","text-transform: uppercase");var S=m("jira/project-templates/add-project-controller");this.nameElement.focus(D.bind(function(X){this.bindHook(X,S.nameTimeout)},this));var M=this;this.nameElement.change(function(X){S.validateName();M.unbindHook(X)});this.nameElement.focus();this.keyElement.focus(D.bind(function(Y){var X=g(Y.target);X.data("lastValue",X.val());this.bindHook(Y,S.keyTimeout)},this));this.keyElement.blur(D.bind(function(X){this.unbindHook(X)},this));this.keyElement.change(function(){S.validateKey();S.autofillKeyIfNeeded()});if(!D.isEmpty(this.postDrawCallbacks)){D.each(this.postDrawCallbacks,function(X){X()})}q.dialog.updateHeight()},onSubmitForm:function(G){var F=m("jira/project-templates/add-project-controller");F.submit();return false},get$SubmitButton:function(){return q.$dialogElement.find(".add-project-dialog-create-button")},get$BackButton:function(){return q.$dialogElement.find(".add-project-back-button")},bindHook:function p(I,G){var F=g(I.target),H;H=D.bind(function(){this.unbindHook(I);G.apply();if(F.is(":visible")){F.data("checkHook",setTimeout(H,this.TIMEOUT_MS))}},this);if(!F.data("checkHook")){F.data("checkHook",setTimeout(H,0))}},unbindHook:function(G){var F=g(G.target);clearTimeout(F.data("checkHook"));F.removeData("checkHook")},showInlineError:function(G,H){if(this.isSubmitting){return}var F=G.parent().find(".error");if(!F.length){F=g("<div class='error'></div>");G.parent().append(F)}F.text(H);F.show()},showInlineErrorForName:function E(F){this.showInlineError(this.nameElement,F)},showInlineErrorForKey:function A(F){this.showInlineError(this.keyElement,F)},hideInlineError:function z(F){F.parent().find(".error").hide()},hideInlineErrorForName:function c(){this.hideInlineError(this.nameElement)},hideInlineErrorForKey:function u(){this.hideInlineError(this.keyElement)},setName:function i(F){this.nameElement.val(F)},getName:function s(){return this.nameElement.val()},setKey:function b(F){this.keyElement.val(F)},getKey:function o(){return this.keyElement.val().toUpperCase()},getLeadDisplayName:function v(){return this.leadDisplayElement.val()},getLeadUserName:function w(){return this.leadValueElement.val()},getAvatarUrlOfSelectedLead:function r(){var F=q.$dialogElement.find("#lead-single-select .aui-ss-entity-icon").css("background-image");if(!D.isUndefined(F)){var G=F.match(/^url\((.+)\)$/);return(G&&G[1])?G[1]:""}else{return""}},setKeyEdited:function l(F){this.keyEditedElement.val(F)},getKeyEdited:function B(){return this.keyEditedElement.val()},setKeyEdited:function l(){var F=this.getKey();if(this.keyElement.data("lastValue")!==F){this.keyEditedElement.val((F)?"true":"false")}this.keyElement.data("lastValue",F)},hasNameErrors:function d(){return this.nameElement.parent().find(".error").size()>0},getAddProjectForm:function h(){return g("#add-project-form")},get$FormFields:function k(){return q.$dialogElement.find(":input")},enterLoadingState:function j(){$submitButton=this.get$SubmitButton();if(!$submitButton.attr("disabled")){$backButton=this.get$BackButton();$submitButton.attr("disabled","disabled");$backButton.attr("disabled","disabled");$backButton.before(JIRA.Templates.ProjectTemplates.spinner({id:"addproject-loading"}));this.get$FormFields().attr("disabled","disabled");this.isSubmitting=true;return true}else{return false}},hideLoadingState:function x(){q.$dialogElement.find("#addproject-loading").remove();this.get$SubmitButton().removeAttr("disabled");this.get$BackButton().removeAttr("disabled");this.get$FormFields().removeAttr("disabled")},avoidDirtyFormWarning:function a(){if(g.fn.removeDirtyWarning){this.getAddProjectForm().removeDirtyWarning()}},hasInlineErrors:function C(){return q.$dialogElement.find(".field-group .error:visible").length!=0}})});define("jira/project-templates/add-project-view",["jira/project-templates/add-project-view-impl","jira/project-templates/dialog-view","jquery"],function(b,a,c){return new b({el:c(document),dialogView:a})});AJS.namespace("JPT.AddProjectView",null,require("jira/project-templates/add-project-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectController.js' */
define("jira/project-templates/add-project-controller-impl",["jira/project-templates/add-project-view","jira/project-templates/project-key-generator","jira/project-templates/dialog-controller","jira/project-templates/config","jira/lib/class","jquery","underscore"],function(m,i,k,e,b,l,o){var d=AJS.contextPath();var c=AJS.trigger;return b.extend({postProjectCreationCallbacks:[],projectKeyValidationCallbacks:[],projectNamesUpperCased:[],init:function(p){this._window=p.window||window;o.bindAll(this,"projectCreatedHandler","projectValidationFailedHandler","nameTimeout","keyTimeout","submit")},initCreateShared:function(p){this.existingProjectData=p;this._initAddProject("Create with shared configuration")},initProjectTemplate:function(p){this.existingProjectData=undefined;this.webItemData=p;this._initAddProject(p.name)},_initAddProject:function(p){this.desiredKeyLength=4;this.lastKeyValidated="";this._getExistingProjects();i.init(this.desiredKeyLength,e.model.maxKeyLength);m.prepareDialog(p);m.draw({webItemData:this.webItemData||{},maxKeyLength:e.model.maxKeyLength,maxNameLength:e.model.maxNameLength,currentUserName:e.model.currentUserName,currentUserDisplayName:e.model.currentUserDisplayName,currentUserAvatarUrl:e.model.currentUserAvatarUrl,errors:{}})},_resetProjectLeadValues:function(){e.model.currentUserDisplayName="";e.model.currentUserName="";e.model.currentUserAvatarUrl=""},_hasFullyConfiguredProjectLead:function(){return m.getLeadDisplayName()&&m.getAvatarUrlOfSelectedLead()!=""},submit:function(p){var q;if(this.existingProjectData){q={key:m.getKey(),name:m.getName(),lead:m.getLeadUserName()&&m.getLeadUserName()[0]}}else{q=jQuery.param(m.getAddProjectForm().serializeArray().map(function(r){if(r.name==="key"){r.value=r.value.toUpperCase()}return r}))}if(m.hasInlineErrors()){return}if(m.enterLoadingState()){if(this._hasFullyConfiguredProjectLead()){e.model.currentUserDisplayName=m.getLeadDisplayName();e.model.currentUserName=e.model.currentUserDisplayName?m.getLeadUserName():"";e.model.currentUserAvatarUrl=m.getAvatarUrlOfSelectedLead()}else{this._resetProjectLeadValues()}if(this.existingProjectData){l.ajax({url:d+"/rest/project-templates/1.0/createshared/"+this.existingProjectData.existingProjectId,type:"POST",contentType:"application/json",data:JSON.stringify(q)}).done(this.projectCreatedHandler).fail(this.projectValidationFailedHandler)}else{l.ajax({url:d+(this.webItemData.demoProject?"/rest/jira-importers-plugin/1.0/demo/create":"/rest/project-templates/1.0/templates"),type:"POST",data:q,headers:{"X-Atlassian-Token":"no-check"}}).done(this.projectCreatedHandler).fail(this.projectValidationFailedHandler)}}},registerPostProjectCreationCallback:function(p){this.postProjectCreationCallbacks.push(p)},registerProjectKeyValidationCallback:function(p){this.projectKeyValidationCallbacks.push(p)},localStoragePrefix:"jira.projecttemplates.",projectCreatedHandler:function(q){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.success"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.success"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.success"})}}m.avoidDirtyFormWarning();var p=this.localStoragePrefix;var r=["confluenceProject","fisheyeProject","crucibleProject","bambooProject"];o.map(r,function(s){if(q.remoteProjectLinks&&q.remoteProjectLinks[s]){localStorage.setItem(p+s,q.remoteProjectLinks[s])}});if(!o.isEmpty(this.postProjectCreationCallbacks)){k.dialog.addPage("post-project-created-page");o.each(this.postProjectCreationCallbacks,function(s){s(k.dialog,q.returnUrl,q.projectId,q.projectKey,q.projectName)})}else{this._window.location=d+q.returnUrl}},projectValidationFailedHandler:function(q,s){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.failure"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.failure"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.failure"})}}var r={};if(this.isBadRequest(q)){r=JSON.parse(q.responseText)}else{if(this.isUnDefinedServerSideError(q)){r={errorMessages:["Hmm... we couldn\'t create your project due to an unknown error. Try refreshing the page to start again."]}}else{if(this.isDefinedServerSideError(q)){var p=JSON.parse(q.responseText);JIRA.Messages.showReloadErrorMsg(p.message);m.avoidDirtyFormWarning();this._window.location=d+p.returnUrl;return}else{if(this.isTimeoutError(s)){r={errorMessages:["Request timeout when creating project"]}}else{r={errorMessages:[AJS.format("Error creating project, {0}",q.responseText)]}}}}}m.draw({webItemData:this.webItemData||{},errors:r,currentName:m.getName(),currentKey:m.getKey(),currentUserDisplayName:e.model.currentUserDisplayName,currentUserName:e.model.currentUserName,currentUserAvatarUrl:e.model.currentUserAvatarUrl});m.hideLoadingState()},isBadRequest:function(p){return(p.status===400)},isUnDefinedServerSideError:function(p){if(p.status===500){try{JSON.parse(p.responseText)}catch(q){return true}}return false},isDefinedServerSideError:function(p){return p.status===500&&!o.isUndefined(JSON.parse(p.responseText).message)},isTimeoutError:function(p){return p==="timeout"},_updateAndValidateKey:function a(p){m.setKey(p);this.validateKey()},_shouldUpdateKey:function h(){return(m.getKeyEdited()!="true")},autofillKeyIfNeeded:function n(){if(this._shouldUpdateKey()){var p=i.generate(m.getName());if(p.length>1){this._updateAndValidateKey(p)}else{m.setKey("")}}},_doesProjectNameExists:function(q){var p;for(p in this.projectNamesUpperCased){if(q.toUpperCase()==this.projectNamesUpperCased[p]){return true}}return false},validateName:function(){var p=l.trim(m.getName());if(!p){return}if(p.length<e.model.minNameLength){m.showInlineErrorForName(AJS.format("The project name should be at least {0} characters in length.",e.model.minNameLength));return}if(p.length>e.model.maxNameLength){m.showInlineErrorForName(AJS.format("The project name must not exceed {0} characters in length.",e.model.maxNameLength));return}if(this._doesProjectNameExists(p)){m.showInlineErrorForName("A project with that name already exists.");return}m.hideInlineErrorForName()},_performKeyValidationChecks:function(p){var q=l.ajax({url:d+"/rest/api/latest/projectvalidate/key?key="+p.toUpperCase()});q.done(o.bind(function(s){if(s.errors&&s.errors.projectKey){m.showInlineErrorForKey(s.errors.projectKey)}else{var r=false;o.each(this.projectKeyValidationCallbacks,function(u){var t=u(p.toUpperCase());if(t.errors&&t.errors.projectKey){r=true;m.showInlineErrorForKey(t.errors.projectKey)}});if(!r){m.hideInlineErrorForKey()}}},this))},validateKey:function g(){var p=m.getKey();if(this.lastKeyValidated===p){return}if(p){this.lastKeyValidated=p;this._performKeyValidationChecks(p)}else{m.hideInlineErrorForKey()}},nameTimeout:function j(){this.autofillKeyIfNeeded()},keyTimeout:function f(){m.setKeyEdited()},_getExistingProjects:function(){if(this.projectNamesUpperCased.length>0){return this.projectNamesUpperCased}var p=l.ajax({url:d+"/rest/api/latest/project"});p.done(o.bind(function(q){this.projectNamesUpperCased=o.map(q,function(r){return r.name.toUpperCase()})},this))}})});define("jira/project-templates/add-project-controller",["jira/project-templates/add-project-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.AddProjectController",null,require("jira/project-templates/add-project-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoView.js' */
define("jira/project-templates/template-info-view",["jira/project-templates/dialog-controller","require","backbone","jquery","underscore"],function(e,c,f,d,b){var a=AJS.trigger;return f.View.extend({initialize:function(g){b.bindAll(this,"draw","onNext")},draw:function(j,h){var k=e.addPage({name:"template-info",title:h,panelName:"template-info",backButton:true,submitButtonText:"Select",submitButtonCallback:this.onNext,submitButtonClass:"template-info-dialog-create-button"});var g=this._nameToObj(j)();e.dialog.getPanel(k.id,0).html(g);e.dialog.gotoPage(k.id);var i=b.find(k.button,function(l){return l.item&&l.item.hasClass("pt-submit-button")});if(i){setTimeout(function(){i.item.focus()},0)}},_nameToObj:function(g){return b.reduce(g.split("."),function(i,h){if(i){return i[h]}},window)},onNext:function(h){a("analyticsEvent",{name:"jira.project.templates.dialog.create.templateinfo.next"});var g=c("jira/project-templates/template-info-controller");g.next();return false}})});AJS.namespace("JPT.TemplateInfoView",null,require("jira/project-templates/template-info-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoController.js' */
define("jira/project-templates/template-info-controller",["jira/project-templates/template-info-view","jira/lib/class","require","underscore"],function(e,a,c,b){var d=a.extend({init:function(f){b.bindAll(this,"initTemplateInfo","next")},initTemplateInfo:function(g){this.projectTemplateData=g;var f=new e();f.draw(g.infoSoyPath,g.name)},next:function(){var f=c("jira/project-templates/select-project-template-controller");f.openAddProjectPage(this.projectTemplateData)}});return new d()});AJS.namespace("JPT.TemplateInfoControllerImpl",null,require("jira/project-templates/template-info-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateView.js' */
define("jira/project-templates/select-project-template-view",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/featureflags/feature-manager","require","backbone","jquery","underscore"],function(d,b,i,c,g,e,h){var a=AJS.contextPath();var f=AJS.preventDefault;return{ROW_LENGTH:2,DIALOG_BODY_CLASS:"select-project-templates-page",DIALOG_WIDTH:800,draw:function(n,m){var j=c("jira/project-templates/select-project-template-controller");this.page=d.addPage({name:this.DIALOG_BODY_CLASS,title:n.demoProjects?"Create project with sample data":"Create project",panelName:"ProjectTemplatesListPanel",backButton:false,submitButtonText:"Next",submitButtonCallback:j.dialogSubmitted,submitButtonClass:"create-project-dialog-create-button"});function p(){if(j.isProjectTypesEnabled(n)){return JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType({projectTemplatesByType:n.projectTemplatesGroupedByType})}return JIRA.Templates.ProjectTemplates.renderProjectTemplates({projectTemplates:n.projectTemplates})}d.dialog.getPanel(this.page.id,0).html(p());if(b.model.projectCount>=2&&!n.demoProjects){e(JIRA.Templates.ProjectTemplates.addWorkflowsLink({baseUrl:a})).appendTo(d.$dialogElement.find(".dialog-title"))}var o=d.$dialogElement.find(".create-project-dialog-create-button");var l=this;this.getTemplateItems().click(function(){var q=e(this);q.addClass("selected");l.getTemplateItems().not(this).removeClass("selected")}).dblclick(function(){o.click()}).focus(function(){e(this).click()});var k=this.get$TemplatesContainer();if(!n.demoProjects){e(JIRA.Templates.ProjectTemplates.footerLinks({showDemoLink:i.isFeatureEnabled("jira.onboarding.cyoa")})).prependTo(d.$dialogElement.find(".dialog-button-panel"))}this.bindKeyboardEvents(k);if(j.isProjectTypesEnabled(n)){if((n.projectTemplatesGroupedByType).length==0){o.attr("disabled","disabled")}}else{if((n.projectTemplates).length==0){o.attr("disabled","disabled")}}this.focusOnFirstTemplate(k,m);d.dialog.updateHeight();this.truncateTemplateDescriptions()},get$TemplatesContainer:function(){return d.$dialogElement.find(".templates")},focusOnFirstTemplate:function(j,k){if(k){this.getFirstTemplateItemOfProjectType(k).click()}else{this.getFirstTemplateItem().click()}setTimeout(function(){j.focus()},0)},getSelectedTemplateData:function(){var j=d.$dialogElement.find(".template.selected");return j.data()},getMoveDeltaForKey:function(j){switch(j){case 37:return -1;case 39:return +1;case 38:return -this.ROW_LENGTH;case 40:return +this.ROW_LENGTH}return 0},bindKeyboardEvents:function(j){j.bind("keydown",h.bind(function(k){var l=this.getMoveDeltaForKey(k.which);if(l){this.moveSelection(j,l);return f(k)}},this))},moveSelection:function(l,o){var k=l.find(".template");var n=k.filter(".selected");var m=k.index(n)+o;if(m<k.length&&m>=0){var j=k.eq(m);j.click().focus();this.scrollToSelectedElement(j)}},scrollToSelectedElement:function(l){var o=e(".dialog-panel-body.pt-content");var j=o.offset().top;var k=l.offset().top;var n=k+l.height();var m=j+o.height();if(k<j){o.scrollTop(o.scrollTop()-(j-k))}else{if(n>(j+o.height())){o.scrollTop(o.scrollTop()+n-m)}}},get$NextButton:function(){return d.$dialogElement.find(".create-project-dialog-create-button")},disableNextButton:function(){this.get$NextButton().attr("disabled","disabled")},truncateTemplateDescriptions:function(){var j=AJS.Meta.get("user-locale");var k="word";if(j==="ja_JP"){k="letter"}d.$dialogElement.find(".template-description").each(function(){e(this).dotdotdot({wrap:k,lastCharacter:{remove:[" ",",",";",".","!","?",""],noEllipsis:[]}})})},getFirstTemplateItem:function(){return this.getTemplateItems().first()},getFirstTemplateItemOfProjectType:function(j){return this.getTemplateItems().filter("#project-template-group-"+j+" *").first()},getTemplateItems:function(){return d.$dialogElement.find(".template")}}});AJS.namespace("JPT.SelectProjectTemplateView",null,require("jira/project-templates/select-project-template-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateController.js' */
define("jira/project-templates/select-project-template-controller",["jira/project-templates/select-project-template-view","jira/project-templates/template-info-controller","jira/project-templates/add-project-controller","jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/project-templates/config","wrm/context-path","jquery","underscore"],function(f,h,k,l,o,g,n,m,p){var e=n();var d={init:function q(s,r){f.draw(s,r)},isProjectTypesEnabled:function c(r){return r.projectTemplatesGroupedByType!=null},loadProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates",type:"GET"})},loadDemoProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates/demo-projects",type:"GET"}).done(function(r){r.demoProjects=true;return r})},dialogSubmitted:function b(){var r=f.getSelectedTemplateData();l.hideDialogFromNewUser("templateselected");d.raiseAtlassianEvent(r.itemModuleCompleteKey);if(!p.isUndefined(r.infoSoyPath)){h.initTemplateInfo(r)}else{d.openAddProjectPage(r)}},openAddProjectPage:function i(r){if(!r){o.showErrorMessage("An error occurred while trying to contact Jira");return}if(r.createProject){k.initProjectTemplate(r)}else{l.dialog.addPage("blank-template-page");m("body").trigger(r.itemModuleCompleteKey,l.dialog)}},raiseAtlassianEvent:function a(r){g.model.selectedTemplate=r;if(AJS.EventQueue){AJS.EventQueue.push({name:"projecttemplates.templateselected",properties:{selectedTemplate:r}})}}};return d});AJS.namespace("JPT.SelectProjectTemplateController",null,require("jira/project-templates/select-project-template-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedView.js' */
define("jira/project-templates/create-shared-view",["jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","require","backbone","jquery"],function(d,h,g,i,c,j,e){var f=AJS.InlineDialog;var b=AJS.trigger;var a=j.View.extend({events:{"submit #create-shared-project-form":"onSubmitForm"},page:undefined,prepareDialog:function(l){var k=c("jira/project-templates/create-shared-controller");this.page=d.addPage({name:"create-shared-project",title:l,panelName:"create-shared-project",backButton:true,submitButtonText:"Next",submitButtonCallback:k.dialogSubmitted,submitButtonClass:"create-shared-dialog-button"})},draw:function(l){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.createSharedProjectForm({projectSuggestions:JSON.stringify(l.projectSuggestions)});d.dialog.getPanel(this.page.id,0).html(k);this._createProjectPicker();var m=d.$dialogElement.find("#shared-help-icon");if(m.length){new f(m,"shared-project-help-popup",function(p,o,n){p.html(JIRA.Templates.ProjectTemplates.sharedHelp());n()},{width:330,offsetX:-30})}d.$dialogElement.find(".dialog-button-panel button").removeAttr("disabled")},showProjectMissingError:function(){this._clearFormErrors();this._getProjectPickerInput().after(aui.form.fieldError({extraClasses:"project-picker-missing-error",message:"Please select an existing project first."}))},drawEmptyInfo:function(){var k=JIRA.Templates.ProjectTemplates.noProjects();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-button-panel button").hide()},drawError:function(k){d.dialog.getPanel(this.page.id,0).html(JIRA.Templates.errorMsg({closable:false,msg:k}))},drawLoading:function(){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.loading();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-spinner").spin();d.$dialogElement.find(".dialog-button-panel button").attr("disabled","disabled")},_clearFormErrors:function(){d.$dialogElement.find(".project-picker-missing-error").remove()},_getProjectPickerInput:function(){return d.$dialogElement.find("#project-picker")},onSubmitForm:function(l){this._clearFormErrors();var k=c("jira/project-templates/create-shared-controller");k.dialogSubmitted();return false},_getExtraInfoMessage:function(){return d.$dialogElement.find(".create-shared-info")},_createProjectPicker:function(){this._getExtraInfoMessage().hide();this.projectSelect=new g({element:this._getProjectPickerInput(),revertOnInvalid:true,pageSize:50,pagingThreshold:100,model:i});this.projectSelect.$field.focus();var k=this;this._getProjectPickerInput().on("selected",function(m,l){if(l.value()){b("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.selected"});k._getExtraInfoMessage().show()}})},getSelectedProject:function(){return this.projectSelect.getSelectedDescriptor()&&this.projectSelect.getSelectedDescriptor().value()}});return new a({el:e(document),dialogView:h})});AJS.namespace("JPT.CreateSharedView",null,require("jira/project-templates/create-shared-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedController.js' */
define("jira/project-templates/create-shared-controller-impl",["jira/project-templates/add-project-controller","jira/project-templates/create-shared-view","jira/lib/class","jquery","underscore"],function(e,f,a,d,c){var b=AJS.contextPath();return a.extend({init:function(g){this._window=g.window||window;c.bindAll(this,"dialogSubmitted")},initCreateShared:function(){f.prepareDialog("Create with shared configuration");var g=this;this._getProjectSuggestions().done(function(h){if(g._hasSuggestions(h)){f.draw({projectSuggestions:h})}else{f.drawEmptyInfo()}}).fail(function(){f.drawError("An error occurred while trying to contact Jira")});f.drawLoading()},_hasSuggestions:function(h){var g=false;d.each(h,function(j,k){if(k&&k.items&&k.items.length>0){g=true}});return g},_getProjectSuggestions:function(){return d.ajax({url:b+"/rest/project-templates/1.0/createshared"})},dialogSubmitted:function(){var g=f.getSelectedProject();if(g){e.initCreateShared({existingProjectId:g})}else{f.showProjectMissingError()}}})});define("jira/project-templates/create-shared-controller",["jira/project-templates/create-shared-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.CreateSharedController",null,require("jira/project-templates/create-shared-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/RemoteProjectsCreatedMessage.js' */
var $=require("jquery");$(function(){var i=AJS.format;var e=require("jira/project-templates/add-project-controller");var b=localStorage.getItem(e.localStoragePrefix+"confluenceProject");var j=localStorage.getItem(e.localStoragePrefix+"fisheyeProject");var g=localStorage.getItem(e.localStoragePrefix+"crucibleProject");var d=localStorage.getItem(e.localStoragePrefix+"bambooProject");localStorage.removeItem(e.localStoragePrefix+"confluenceProject");localStorage.removeItem(e.localStoragePrefix+"fisheyeProject");localStorage.removeItem(e.localStoragePrefix+"crucibleProject");localStorage.removeItem(e.localStoragePrefix+"bambooProject");var k;function c(m,l){return JIRA.Templates.ProjectTemplates.formatAnchor({href:m,body:l,title:l})}function a(n,o,m,p){var l=[];l.push("a Jira project");if(n){l.push(c(n,"a Confluence space"))}if(o){l.push(c(o,"a FishEye repository"))}if(m){l.push(c(m,"a Crucible project"))}if(p){l.push(c(p,"a Bamboo project"))}return l}function h(m,o,l,r){var q="The following entities were created: {0} and {1}.";var n=a(m,o,l,r);var p=n.pop();return(n.length>0)?i(q,n.join(", "),p):null}function f(l){var m=$(l).offset();if(m){window.scrollTo(m.left,m.top)}}if(b||j||g||d){k=h(b,j,g,d);if(k){JIRA.Messages.showSuccessMsg(k,{closeable:true})}f("#project-config-webpanel-summary-settings")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira-core-project-templates:jira-core-project-templates-resources', location = '/soy/CoreProjectTemplates.soy' */
// This file was automatically generated from CoreProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.CoreTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }
if (typeof JIRA.Templates.ProjectTemplates.CoreTemplates == 'undefined') { JIRA.Templates.ProjectTemplates.CoreTemplates = {}; }


JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: 'Create simple tasks, organize them and get them done. You can use this project to manage your tasks or assign them to someone else.', projectTemplate: 'taskManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: 'Create your tasks, organize and track their progress, and deliver your work on time. Estimations and time tracking allow you to report on where your project is at any stage.', projectTemplate: 'projectManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: 'Create your tasks and track them at every step, from start to finish. You can use this project to review documentation, approve expenses, or other processes.', projectTemplate: 'processManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: 'Visualize work across your team with a board.', projectTemplate: 'projectManagement', issueTypesHtml: '' + JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('Issue Types') + '</h6><ul class="project-template-issuetype-list">' + ((opt_data.issueTypesHtml != null) ? soy.$$filterNoAutoescape(opt_data.issueTypesHtml) : JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null) + JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType(null)) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('Workflow') + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.projectTemplate) + '"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.issueType = function(opt_data, opt_ignored) {
  return '<li><span class="issuetype-list-label"><span class="issuetype-icon ' + soy.$$escapeHtml(opt_data.iconKey) + '"></span><span class="issuetype-name">' + soy.$$escapeHtml(opt_data.label) + '</span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.issueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.issueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'task', label: 'Task'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'subtask', label: 'Sub-task'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-active-session-headsup-assets', location = 'includes/js/headsup/headsup.js' */
AJS.$(function(a){var b=a("#login-form");if(b.length!==0){a("#bonfire-build-info").hide();a(".bonfire-headsup").hide()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.bonfire.plugin:bonfire-active-session-headsup', location = 'includes/empty.js' */

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'includes/js/rapid/AnalyticsTracker.js' */
"use strict";define("jira-agile/rapid/analytics-tracker",["jira/util/logger","underscore","jquery"],function(t,a,n){function e(e,i,t){if(a.isUndefined(e))throw new Error("You must specify a category");this.params={};this.params.category=e;e=0;if(!a.isUndefined(i)){this.params.action=i;e++;if(!a.isUndefined(t)){this.params.label=t;e++}}this.requiredArgumentNames=["action","label","value"].slice(e);this.useAsync=!0}e.prototype.setAsync=function(e){this.useAsync=e;return this};e.prototype.trigger=function(){this.requiredArgumentNames.length<arguments.length&&t.log("Warning: too many arguments passed in. Needed at most "+this.requiredArgumentNames.length+" but got "+arguments.length);for(var e=a.clone(this.params),i=0;i<arguments.length&&!a.isUndefined(this.requiredArgumentNames[i]);i++)e[this.requiredArgumentNames[i]]=arguments[i];this._validateParams(e);n(document).trigger("gh.analytics.async",e)};e.prototype._validateParams=function(i){a.each(["category","action","label"],function(e){a.isUndefined(i[e])||a.isString(i[e])?a.isUndefined(i[e])&&(i[e]=""):i[e]=i[e].toString()});a.each(["category","action"],function(e){i[e]=i[e].replace(/\s+/g,"")});if(!a.isUndefined(i.value)){i.value=parseInt(i.value,10);isNaN(i.value)&&(i.value=void 0)}};return e});AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/ui/help/HelpAnalytics.js' */
"use strict";require(["jira-agile/rapid/analytics-tracker","jira/util/init-on-dcl","jquery"],function(t,e,i){e(function(){function n(e){return new t(e).setAsync(!1)}i("#gh_view_help").click(function(e){n("gh.gethelp").trigger("usermenu","docs");return r(i(this))});i("#greenhopper-my-jira-home-enablement").click(function(e){n("gh.myjirahome").trigger("usermenu","enabled");return r(i(this))});i("#greenhopper-my-jira-home-enablement-ondemand").click(function(e){n("gh.myjirahome").trigger("usermenu","set");return r(i(this))});i("#greenhopper-my-jira-home-disablement-ondemand").click(function(e){n("gh.myjirahome").trigger("usermenu","disable");return r(i(this))});i("#greenhopper-my-jira-home-set").click(function(e){n("gh.myjirahome").trigger("usermenu","set");return r(i(this))});i("#beta_gh\\.configuration\\.rapid\\.removal").click(function(e){var r=i(this).attr("checked")?"on":"off";n("gh.labs.feature").trigger("rapid_removal",r);return!0});i(document).on("click","#js-classic-link_lnk",function(){n("gh.agile.menu").trigger("classic");return!0});var r=function(e){if("_blank"===e.attr("target"))return!0;setTimeout('document.location = "'+e.attr("href")+'"',100);return!1}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/Analytics.js' */
"use strict";define("jira-agile/rapid/analytics",["jquery","underscore"],function(n,i){GH.AnalyticsEnabled=!0;n(document).on("gh.analytics.async",function(n,a){!function(n){var a={},e=n.category;i.isUndefined(n.action)||(e=e+"."+n.action);i.isUndefined(n.label)||(a.label=n.label);i.isUndefined(n.value)||(a.value=n.value);AJS.trigger("analytics",{name:e,data:a})}(a)});var a={isEnabled:function(){return GH.AnalyticsEnabled},setEnabled:function(n){return GH.AnalyticsEnabled=n}};return a});AJS.namespace("GH.Analytics",null,require("jira-agile/rapid/analytics"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalissueoperations', location = 'includes/js/gh-globalissueoperations.js' */
"use strict";define("jira-agile/gh-globalissueoperations",["jira/dialog/form-dialog","jira/dialog/dialog-register","jquery"],function(i,r,a){function e(i,r){var e="";(i=a(i)).hasClass("js-rapidboard-operation-sprint")?e="sprint.":i.hasClass("js-rapidboard-operation-issue")&&(e="issue.");return e+=r}var o=new(require("jira-agile/rapid/analytics-tracker"))("gh.issueaction.gotorapidboard").setAsync(!1),t=new(i.extend({_performRedirect:function(i){o.trigger("direct");window.location.href=i}}))({id:"gh-rapidboard-dialog",trigger:".issueaction-greenhopper-rapidboard-operation",ajaxOptions:function(){return r.getDefaultAjaxOptions.apply(this,arguments)}});return{init:function(){a(document).on("simpleClick",".issueaction-greenhopper-rapidboard-operation",function(i){i.preventDefault();i=e(i.currentTarget,"open");o.trigger(i);t.show()});a(document).on("simpleClick",".js-select-rapidboard",function(i){i=e(i.currentTarget,"chosen");o.trigger(i)})}}});require("jira-agile/gh-globalissueoperations").init();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicPicker.js' */
"use strict";define("includes/js/field/epic-picker",["jira/ajs/layer/inline-layer","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/select/single-select","jira/util/formatter","jira/util/strings","jquery","underscore","wrm/context-path"],function(a,p,h,e,u,g,o,d,f){e=e.extend({init:function(e){var r,n=e.element,c=this;o.extend(e,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:f()+"/rest/greenhopper/1.0/epics",data:function(e){var t=!l();return{searchQuery:e,projectKey:o(n).attr("data-project-key"),maxResults:100,hideDone:t}},formatResponse:function(i){if(!i||!i.epicLists||0===i.total)return[];for(var s=[],a=c.getQueryVal(),o=0,e=function(e){var t=i.epicLists[e],r=t.epicNames,n=(e=e+1,t=t.listDescriptor,new p({weight:e,label:t,replace:!0}));if(0<r.length){d.each(r,function(e){n.addItem((r=a,i=(t=e).key,e=t.name,t=t.isDone,r=function(e,t,r,i){e=g.escapeHtml(String(e));t=g.escapeHtml(String(t));var n=(i=g.escapeHtml(String(i))).toUpperCase(),s=e.toUpperCase(),a=t.toUpperCase();n=(n+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1");var o,n=new RegExp("("+n+")","gi"),s=s.search(n);if(-1<s){o=e.slice(s,s+i.length);e=e.replace(o,"<em>"+o+"</em>")}if(-1<(s=a.search(n))){o=t.slice(s,s+i.length);t=t.replace(o,"<em>"+o+"</em>")}r=r?" &#8226; "+"Done":"";return e+" - <span class='epic-menu-metadata'>("+t+r+")</span>"}(e,i,t,r),new h({value:"key:"+i,fieldText:e,label:r,html:r,allowDuplicate:!1,highlighted:!0})));var t,r,i});s.push(n)}o+=r.length},t=0;t<i.epicLists.length;t++)e(t);if(0<o){var r=new p({weight:0,showLabel:!1,items:[new h({label:a,highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:"<li><h5>"+u.format("Showing {0} of {1} matching epics",o,i.total)+"</h5><label for='chkShowDoneEpic'><input type='checkbox' id='chkShowDoneEpic'"+(l()?" checked":"")+">"+"Show done epics"+"</label></li>"})]});s.unshift(r)}return s},error:function(e,t,r){var i=o(n);i.siblings(".ghx-error").remove();i.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+r,type:"error",className:"ghx-error aui-ss"}))}}});var i=this.setSelection;this.setSelection=function(e,t){e.properties.customItem||i.apply(this,arguments)};!function(){c._super(e);r=c.handleFreeInput;c.handleFreeInput=t;c.dropdownController.bind(a.EVENTS.show,function(e,t){t.off("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',s);t.on("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',s)})}();function t(e){var t;r.apply(c,[e]);e=e||o.trim(c.$field.val());if(!c.model.getDescriptor(e)&&c.$container.hasClass("aui-ss-editing"))if((t=function(e){var t="",r=!1;if(e&&0<e.length){t=u.format("Epic with key \'\'{0}\'\' does not exist.",e);r=!0}return{isError:r,message:t}}(e)).isError){c.options.errorMessage=t.message;c.showErrorMessage(e)}else c.hideErrorMessage()}function l(){return"true"===localStorage.getItem("gh.epicpicker.showdone")}function s(e){e.preventDefault();e=!l();try{localStorage.setItem("gh.epicpicker.showdone",e)}catch(e){}c.$field.click();return!1}}});e.READY_EVENT="gh.epic-picker.ready";return e});AJS.namespace("JIRA.EpicPicker",null,require("includes/js/field/epic-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.soy' */
// This file was automatically generated from SprintPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintpicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintpicker == 'undefined') { GH.tpl.customfields.sprintpicker = {}; }


GH.tpl.customfields.sprintpicker.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '' + ((opt_data.boardName) ? '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithBoardName(opt_data) + ')</span>' : '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName(opt_data) + ')</span>');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderSuggestionMeta';
}


GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('Active sprint') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future sprint') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintpicker.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Active sprint in {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('Future sprint in {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked = function(opt_data, opt_ignored) {
  return '<li><h5> ' + soy.$$escapeHtml('Showing sprints from the selected project') + ' </h5><label for=\'chkShowAllSprints\'><input type=\'checkbox\' id=\'show-all-sprints-toggle\' checked>' + soy.$$escapeHtml('Show all') + '</label></li>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked';
}


GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked = function(opt_data, opt_ignored) {
  return '<li><h5> ' + soy.$$escapeHtml('Showing sprints from the selected project') + ' </h5><label for=\'chkShowAllSprints\'><input type=\'checkbox\' id=\'show-all-sprints-toggle\'>' + soy.$$escapeHtml('Show all') + '</label></li>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.js' */
"use strict";define("jira-agile/field/sprint-picker",["jira/ajs/select/single-select"],function(e){return e.extend({element:void 0,Storage:void 0,_isShowAll:function(){return"true"===this.Storage.getItem("gh.sprintpicker.showall")},_constructRequestData:function(e){return"true"!==AJS.$(this.element).attr("data-relevant-sprints-enabled")||this._isShowAll()?{query:e}:{project:AJS.$(this.element).attr("data-project-key"),query:e}},_formatResponse:function(e){var t=this;function n(e){var t=AJS.escapeHTML(String(e.name));return new AJS.ItemDescriptor({value:e.id.toString(),label:e.name,html:t,stateKey:e.stateKey,boardName:e.boardName,allowDuplicate:!1})}function i(e){return _.sortBy(e,function(e){return e.name.toLowerCase()})}if(!e.suggestions&&!e.allMatches)return[];var r=new AJS.GroupDescriptor({weight:0,label:"Suggestions"}),s=new AJS.GroupDescriptor({weight:1,label:"All sprints"});_.each(i(e.suggestions),function(e){r.addItem(n(e))});_.each(i(e.allMatches),function(e){s.addItem(n(e))});var o=[];o.push(r);o.push(s);if("true"===AJS.$(this.element).attr("data-relevant-sprints-enabled")){this.getQueryVal();e=new AJS.GroupDescriptor({weight:0,showLabel:!1});e.addItem(new AJS.ItemDescriptor({label:"",highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:t._isShowAll()?GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked():GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked()}));o.unshift(e)}return o},_handleClickOnShowAllCheckbox:function(e){e.preventDefault();e=!this._isShowAll();try{this.Storage.setItem("gh.sprintpicker.showall",e)}catch(e){console.log("Failed to set item in localStorage ",e)}this.$field.click();return!1},init:function(t){this.element=t.element;this.Storage=localStorage;var n,r,i,s=this._handleClickOnShowAllCheckbox.bind(this),o={ACTIVE:"ACTIVE",FUTURE:"FUTURE",CLOSED:"CLOSED"},a=this.element.data("saved-state"),l=this.element.data("saved-id"),c=this,p=AJS.SelectSuggestHandler.extend({formatSuggestions:function(e,t){e=this._super(e,t);0===t.length&&e[e.length-1].footerText("Start typing for sprints.");return e}}),e=require("wrm/context-path"),d=this.setSelection;this.setSelection=function(e,t){e.properties.customItem||d.apply(this,arguments)};AJS.$.extend(t,{submitInputVal:!1,showDropdownButton:!0,removeOnUnSelect:!1,maxInlineResultsDisplayed:10,ajaxOptions:{url:e()+"/rest/greenhopper/1.0/sprint/picker",query:!0,data:this._constructRequestData.bind(this),formatResponse:this._formatResponse.bind(this),error:function(e,t,n){var i=AJS.$(c.element);i.siblings(".ghx-error").remove();i.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+n,type:"error",className:"ghx-error aui-ss"}))}}});!function(){c._super(t);var e=require("jira/ajs/layer/inline-layer");n=c.listController._renders.suggestion;r=c.showErrorMessage;c.listController._renders.suggestion=g;c.showErrorMessage=u;c.dropdownController.bind(e.EVENTS.show,function(e,t){t.off("click",'.ghx-epic-menu-header label[for="chkShowAllSprints"]',s);t.on("click",'.ghx-epic-menu-header label[for="chkShowAllSprints"]',s)});if(f()){var i=0<c.$container.closest(".inline-edit-fields").size();i&&c.element.parent().find("input").on("focus",function(){c.showErrorMessage()})}c.element.bind("selected",function(e,t,n){f()&&i||n.showErrorMessage(n.getQueryVal());h(t);c.showErrorMessage()});c.suggestionsHandler=new p(c.options,c.model)}();function g(e){var t=n.apply(this,arguments);t.find("a").append(GH.tpl.customfields.sprintpicker.renderSuggestionMeta(e.properties));return t}function u(e){var t=this.getSelectedDescriptor();e||t||h(null);!function(){if(i){i.remove();i=null}}();this.hideErrorMessage();if((e=t?function(e){var t=!1;a===o.ACTIVE?t=!!f()||parseInt(l,10)!==e.properties.value:a!==o.FUTURE&&a||e.properties.stateKey===o.ACTIVE&&(t=!0);return{message:null,needsScopeChangeWarning:t}}(t):function(e){var t=null,n=!1;if(e&&0<e.length)if(a){t=AJS.format("{0} is not a valid sprint name. This issue will be returned to the backlog.",e);a===o.ACTIVE&&(n=!0)}else t=AJS.format("{0} is not a valid sprint name.",e);else a===o.ACTIVE&&(n=!0);return{message:t,needsScopeChangeWarning:n}}(e)).message){this.options.errorMessage=e.message;r.apply(this,arguments);this.$errorMessage.addClass("inline-edit-error")}e.needsScopeChangeWarning&&function(){if(!i){f()||(i=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."})));var e=c.$container.closest(".inline-edit-fields");if(0<e.size())if(f()){(i=AJS.$('<div class="ghx-estimate-scope-warning"></div>')).text("Sprint scope will be affected by this action.");e.find(".field-group").append(i)}else e.closest(".editable-field").append(i);else{f()&&(i=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."})));c.$container.closest(".field-group").append(i)}}i.show()}()}function h(e){GH.SprintConfig&&AJS.$(GH).trigger("QuickEdit.fieldChange",{fieldId:GH.SprintConfig.getSprintFieldId(),fieldChangeData:{original:l,updated:e?e.properties.value:null}})}function f(){return!(!GH||!GH.DetailsObjectFactory)}}})});AJS.namespace("JIRA.SprintPicker",null,require("jira-agile/field/sprint-picker"));JIRA.SprintPicker.READY_EVENT="gh.sprint-picker.ready";
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.soy' */
// This file was automatically generated from SprintMultiselect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintmultiselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintmultiselect == 'undefined') { GH.tpl.customfields.sprintmultiselect = {}; }


GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$escapeHtml(opt_data.name) + '</div><div><span class=\'ghx-sprint-multiselect-meta\'> ' + ((opt_data.boardName) ? GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName(opt_data) : GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName(opt_data)) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('Active') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml('Closed') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Active \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('Future \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('Closed \xb7 {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderTooltip = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('Started on {0}',opt_data.date)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('Future') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('Closed on {0}',opt_data.date)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderTooltip.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderTooltip';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.js' */
"use strict";require(["includes/js/field/sprint-suggest-handler","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/select/checkbox-multi-select","jira/moment","jira/util/events","jira/util/events/types","jira/util/formatter","jquery","underscore","wrm/context-path"],function(n,r,a,l,o,e,t,u,c,d,m){e.bind(t.NEW_CONTENT_ADDED,function(e,t){function s(e){return[new r({weight:0,label:"Suggestions",items:d.map(e.suggestions,i)}),new r({weight:1,label:"All sprints",items:d.map(e.allMatches,i)})]}function i(e){e.date=o(e.date,"YYYY-MM-DDTHH:mm:ssZ").format("LL");var t=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(e);return new a({value:e.id,label:e.name,html:t,title:GH.tpl.customfields.sprintmultiselect.renderTooltip(e),date:e.date,boardName:e.boardName,stateKey:e.stateKey,highlighted:!0,allowDuplicate:!1})}c(".js-sprint-checkboxmultiselect",t).each(function(){var e=new l({element:this,maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:m()+"/rest/greenhopper/1.0/sprint/picker",error:function(){e._setSuggestions([])},data:{excludeCompleted:!1},query:!0,formatResponse:s},suggestionsHandler:n})})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintSuggestHandler.js' */
"use strict";define("includes/js/field/sprint-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){return e.extend({formatSuggestions:function(e,t){var r,s=this.model.getDisplayableSelectedDescriptors();r=s,_.each(r,function(e){var t=JSON.parse(e.properties.meta);t.date=moment(t.date).format("LL");e.properties.title=GH.tpl.customfields.sprintmultiselect.renderTooltip(t);e.properties.html=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(t)});function i(e){for(var t in s)if(s[t].properties.value===e.properties.value.toString())return!1;return!0}e=_.map(e,function(e){var t=_.filter(e.properties.items,i);e.properties.items=t;return e});return this._super(e,t)}})});AJS.namespace("GH.SprintSuggestHandler",null,require("includes/js/field/sprint-suggest-handler"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkMultiselect.js' */
"use strict";define("init-epic-link-multiselect",["require"],function(e){var n=e("jquery"),c=e("underscore");function r(e){return 0!==e.indexOf("project")?"":(function(e){return(e=e.match(/\bproject\s*=\s*(\S+)/i))?e[1]:null}(e=e)||function(e){return(e=e.match(/\bproject\s+in\s+\((.*?)\)/i))?e[1]:null}(e)).trim()}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t){var i=n("#jql",this).val();t.find(".js-epiclink-checkboxmultiselect").each(function(){var e=new AJS.CheckboxMultiSelect({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/epics",error:function(){e._setSuggestions([])},data:{searchQuery:"",projectKey:r(i),filterEpicsByGivenProjects:!0,maxResults:100},query:!0,minQueryLength:0,formatResponse:function(e){var t=[];t.push(new AJS.GroupDescriptor({weight:1,items:[new AJS.ItemDescriptor({highlighted:!0,label:"No Epic Link",value:"EMPTY",title:"EMPTY"})]}));if(!e||!e.epicLists||0===e.total)return t;for(var i=0;i<e.epicLists.length;i++){var n=e.epicLists[i],r=n.epicNames,s=new AJS.GroupDescriptor({label:n.listDescriptor,weight:i});if(0<r.length){c.each(r,function(e){s.addItem(new AJS.ItemDescriptor({highlighted:!0,label:e.name+" - ("+e.key+")",value:e.key,title:e.key}))});t.push(s)}}return t}},suggestionsHandler:GH.EpicLinkSuggestHandler})})})});require("init-epic-link-multiselect");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkSuggestHandler.js' */
"use strict";define("includes/js/field/epic-link-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){return e.extend({formatSuggestions:function(e,r){function t(e){for(var r in i)if(i[r].properties.value===e.properties.value.toString())return!1;return!0}var i=this.model.getDisplayableSelectedDescriptors();e=_.map(e,function(e){var r=_.filter(e.properties.items,t);e.properties.items=r;return e});return this._super(e,r)}})});AJS.namespace("GH.EpicLinkSuggestHandler",null,require("includes/js/field/epic-link-suggest-handler"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/initFieldPickers.js' */
"use strict";!function(c){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,i,n){if(n!==JIRA.CONTENT_ADDED_REASON.panelRefreshed){c(".js-epic-picker",i).each(function(){var e=c(this),e=new JIRA.EpicPicker({element:e});c(document).trigger(JIRA.EpicPicker.READY_EVENT,e)});c(".js-sprint-picker",i).each(function(){var e=c(this),e=new JIRA.SprintPicker({element:e});c(document).trigger(JIRA.SprintPicker.READY_EVENT,e)})}})}(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:project-template-resources', location = '/projecttemplates/soy/ProjectTemplates.soy' */
// This file was automatically generated from ProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.projecttemplates.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.projecttemplates == 'undefined') { GH.tpl.projecttemplates = {}; }


GH.tpl.projecttemplates.kanbanInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this project to optimise the flow of work in your development project. Add constraints to work-in-progress, analyze how long it takes to complete issues, find bottlenecks in your process, and more. This project includes a Kanban board, a basic Agile workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('Story') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'kanban-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.kanbanInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.kanbanInfoPageJira7';
}


GH.tpl.projecttemplates.scrumInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this project to manage your Agile development work. Create a backlog, organise work into sprints, check progress using reports, and more. This project includes a Scrum board, a basic Agile workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('Story') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'scrum-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.scrumInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.scrumInfoPageJira7';
}


GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: 'Use this project to work on new features for your product and also track any bugs. This project provides you with a basic workflow and issue type configuration, which you can change later on.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon improvement"></span><span class="issuetype-name">' + soy.$$escapeHtml('Improvement') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon newfeature"></span><span class="issuetype-name">' + soy.$$escapeHtml('New Feature') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'basic-development-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7';
}


GH.tpl.projecttemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('Issue Types') + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon bug"></span><span class="issuetype-name">' + soy.$$escapeHtml('Bug') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon task"></span><span class="issuetype-name">' + soy.$$escapeHtml('Task') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon subtask"></span><span class="issuetype-name">' + soy.$$escapeHtml('Sub-task') + '</span></span></li>' + soy.$$filterNoAutoescape(opt_data.extraIssueTypes) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('Workflow') + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.workflowScreenshotClass) + '"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.templateInfoDialog.soyTemplateName = 'GH.tpl.projecttemplates.templateInfoDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:bamboo-soy-resources', location = 'templates/plugins/bamboo/components.soy' */
// This file was automatically generated from components.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.components.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.components == 'undefined') { bamboo.components = {}; }


bamboo.components.pageHeader = function(opt_data, opt_ignored) {
  return '' + aui.page.pageHeader({content: '' + ((opt_data.headerImageContent) ? aui.page.pageHeaderImage({content: opt_data.headerImageContent}) : '') + aui.page.pageHeaderMain({content: opt_data.headerMainContent}) + ((opt_data.headerActionsContent) ? aui.page.pageHeaderActions({content: opt_data.headerActionsContent}) : '')});
};
if (goog.DEBUG) {
  bamboo.components.pageHeader.soyTemplateName = 'bamboo.components.pageHeader';
}


bamboo.components.icon = function(opt_data, opt_ignored) {
  return '<span class="bamboo-icon bamboo-icon-' + soy.$$escapeHtml(opt_data.type) + '"' + ((opt_data.text && opt_data.showTitle) ? ' title="' + soy.$$escapeHtml(opt_data.text) + '"' : '') + '>' + ((opt_data.text) ? '<span>' + soy.$$escapeHtml(opt_data.text) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  bamboo.components.icon.soyTemplateName = 'bamboo.components.icon';
}


bamboo.components.buildDetail = function(opt_data, opt_ignored) {
  return '<dl><dt class="' + soy.$$escapeHtml(opt_data.keyClass) + '">' + soy.$$escapeHtml(opt_data.key) + '</dt><dd>' + soy.$$filterNoAutoescape(opt_data.value) + '</dd></dl>';
};
if (goog.DEBUG) {
  bamboo.components.buildDetail.soyTemplateName = 'bamboo.components.buildDetail';
}


bamboo.components.artifacts = function(opt_data, opt_ignored) {
  var output = '<ul id="shared-artifacts">';
  var artifactList42 = opt_data.artifacts;
  var artifactListLen42 = artifactList42.length;
  for (var artifactIndex42 = 0; artifactIndex42 < artifactListLen42; artifactIndex42++) {
    var artifactData42 = artifactList42[artifactIndex42];
    output += bamboo.components.artifactItem(soy.$$augmentMap(artifactData42, {id: artifactData42.name, url: artifactData42.link.href}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.artifacts.soyTemplateName = 'bamboo.components.artifacts';
}


bamboo.components.artifactItem = function(opt_data, opt_ignored) {
  return '<li>' + bamboo.components.icon({type: 'artifact-shared'}) + ' <a class="artifact-link" id="artifact-' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a><span class="filesize">(' + soy.$$escapeHtml(opt_data.prettySizeDescription) + ')</span></li>';
};
if (goog.DEBUG) {
  bamboo.components.artifactItem.soyTemplateName = 'bamboo.components.artifactItem';
}


bamboo.components.labels = function(opt_data, opt_ignored) {
  var output = '<ul class="labels">';
  var labelList65 = opt_data.labels;
  var labelListLen65 = labelList65.length;
  for (var labelIndex65 = 0; labelIndex65 < labelListLen65; labelIndex65++) {
    var labelData65 = labelList65[labelIndex65];
    output += bamboo.components.labelItem(soy.$$augmentMap(labelData65, {url: opt_data.baseBambooUrl + '/browse/label/' + labelData65.name}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.labels.soyTemplateName = 'bamboo.components.labels';
}


bamboo.components.labelItem = function(opt_data, opt_ignored) {
  return '<li><a class="lozenge" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><span>' + soy.$$escapeHtml(opt_data.name) + '</span></a></li>';
};
if (goog.DEBUG) {
  bamboo.components.labelItem.soyTemplateName = 'bamboo.components.labelItem';
}


bamboo.components.errorResponseMessage = function(opt_data, opt_ignored) {
  return '' + bamboo.components.auiWarning({body: '' + ((opt_data.errorMessage.messageBody) ? '<p>' + soy.$$escapeHtml(opt_data.errorMessage.messageBody) + '</p>' : (opt_data.errorMessage.oauthCallback) ? '<p><a href="' + soy.$$filterNoAutoescape(opt_data.errorMessage.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '" id="oauthDanceLink">' + soy.$$escapeHtml('Log in \x26 approve') + '</a></p>' : '<p>' + soy.$$escapeHtml(opt_data.errorMessage.message) + '</p>')});
};
if (goog.DEBUG) {
  bamboo.components.errorResponseMessage.soyTemplateName = 'bamboo.components.errorResponseMessage';
}


bamboo.components.auiWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message aui-message-warning warning">' + soy.$$filterNoAutoescape(opt_data.body) + '</div>';
};
if (goog.DEBUG) {
  bamboo.components.auiWarning.soyTemplateName = 'bamboo.components.auiWarning';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function getItemsInSection(section) {
            return _.map(section.items, formatItem).concat(_.map(section.sections, getItemsInSection));
        }

        function formatResponse(data) {
            return _.flatten(getItemsInSection(data));
        }

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(formatResponse)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "Administration",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                window.location = value;
                return jQuery.Deferred();
            }
        };
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-dialog-bootstrap', location = '/jpo2/scripts-plugin/dialog-bootstrap.js' */
!function(o){function t(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return o[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=o,t.c=i,t.d=function(o,i,e){t.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:e})},t.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(i,"a",i),i},t.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},t.p="",t(t.s=1)}([,function(o,t){window.AJS.$(function(){return null==window.JIRA.Portfolio&&(window.JIRA.Portfolio={}),window.JIRA.Portfolio.createDialog=new window.JIRA.FormDialog({id:"jpo-create-dialog",trigger:"li.jpo-create-dialog a, a.jpo-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.quickCreateDialog=new window.JIRA.FormDialog({id:"jpo-quick-create-dialog",trigger:"li.jpo-quick-create-dialog a, a.jpo-quick-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.keyboardShortcutsDialog=new window.JIRA.FormDialog({id:"jpo-keyboard-shortcuts-dialog",trigger:"a.jpo-keyboard-shortcuts",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,width:500})})}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-parent', location = '/jpo2/scripts-plugin/field-parent.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){var r,i;r=[],void 0!==(i=function(){var e,t,n,r,i,o,s,u,a,c;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,c=AJS.escapeHTML,o=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,i){if(i!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},a=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:c(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},i=function(e){var t;if(t=e.items,0===t.length)return t.push(a({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},u=function(t){var n,i;return n=t.ajaxOptions,i=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=i(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:o,createDropdownAjaxOptions:s,createInfoMessageListItem:a,addNoMatchesItemIfEmpty:i,createDropdownClass:u}}.apply(t,r))&&(e.exports=i)},,function(e,t,n){var r;r=[n(0)],function(e){var t,n,r,i,o,s,u,a,c,l,p,f,d,m,h,g,y,v,j,I,x,w,S,T,A,E,D,b,J,M,N,O,_,k;if(a=window.JIRA,t=AJS.$,u=AJS.ItemDescriptor,r=AJS.GroupDescriptor,m=AJS.contextPath,x=AJS.escapeHTML,c=100,l=".jpo-parent-selection-dropdown",o=".jpo-initial-issue-type-name",i=".jpo-initial-epic-link",n=".jpo-client-error-message-container.jpo-parent-link",s="#issuetype-field",p=m()+"/rest/jpo/1.0/parent/suggest",E="",J=void 0,I=void 0,T=function(e){var t,n,r,i;for(t={},r=0,i=e.length;r<i;r++)n=e[r],t[n.id]=n;return t},O=function(){return E=t(o).val()},b=function(){return t(s).change(function(e){var t;if(null!=(t=e.target.value)&&t.length>0)return E=t})},A=function(){return null!=I&&I.length>0},N=function(){return I=t(i).val()},D=function(e){return e.$field.change(function(e){return I=e.target.value,d()})},d=function(){return A()?k("Cannot use parent link when epic link is set."):S()},_=function(e){if(null!=J)return J.$container.toggle(e)},k=function(e){return _(!1),t(n).html("<span class='error'>"+x(e)+"</span>")},S=function(){return _(!0),t(n).empty()},w=function(e){var t,n,i,o,s;return i=e.issues,n=e.issueTypes,s=e.projects,t=new r({weight:0,showLabel:!1,items:[h()]}),o=new r({weight:1,items:j({issues:i,issueTypes:n,projects:s})}),[t,o]},v=function(e){var t,n,r,i,o,s,a;return r=e.issue,s=e.issueType,a=e.project,i=r.issueKey,o=r.issueSummary,t=a.key+"-"+i,n=t+" "+o,new u({value:t,fieldText:n,label:n,icon:s.iconUrl})},j=function(t){var n,r,i,o,s,u,a;return o=t.issues,r=t.issueTypes,u=t.projects,i=T(r),a=T(u),s=function(){var e,t,r;for(r=[],e=0,t=o.length;e<t;e++)n=o[e],r.push(v({issue:n,issueType:i[n.issueTypeId],project:a[n.projectId]}));return r}(),e.addNoMatchesItemIfEmpty({items:s}),s},h=function(){return e.createInfoMessageListItem({text:"To set an epic as the parent, use the epic link instead",additionalStyles:"jpo-dropdown-item-italic"})},g=function(e){var t;return t=e.query,JSON.stringify({query:t,issueTypeName:E,maxResults:c})},f=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:p,createQueryData:g,formatResponse:w}),getNoMatchingValueMessage:function(e){return AJS.format("No valid parent matching \'\'{0}\'\' was found.",e)}}),y=function(e){return t(l,e).each(function(){return J=new f({element:t(this)}),d()})},e.bindInitializationCallback(function(e){var t;return t=e.context,N(),O(),b(),y(t)}),null!=(null!=(M=a.EpicPicker)?M.READY_EVENT:void 0))return a.bind(a.EpicPicker.READY_EVENT,function(e,t){return D(t)})}.apply(t,r)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-target-dates', location = '/jpo2/scripts-plugin/field-target-dates.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){var r,o;r=[],void 0!==(o=function(){var e,t,n,r,o,i,a,u,s,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,o){if(o!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},a=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},s=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},o=function(e){var t;if(t=e.items,0===t.length)return t.push(s({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},u=function(t){var n,o;return n=t.ajaxOptions,o=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=o(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:a,createInfoMessageListItem:s,addNoMatchesItemIfEmpty:o,createDropdownClass:u}}.apply(t,r))&&(e.exports=o)},,,function(e,t,n){var r;r=[n(0)],function(e){var t,n,r,o,i,a,u,s,l,c,p,f,d,m,h,g,v,j,y;return t=AJS.$,c=AJS.escapeHTML,i=".jpo-baseline-start > div > input",o=".jpo-baseline-end > div > input",r=".jpo-client-error-message-container.jpo-start",n=".jpo-client-error-message-container.jpo-end",y=void 0,j=void 0,d=function(){return t(i).change(function(e){var t;if(null!=(t=e.target.value))return y=t,u()})},f=function(){return t(o).change(function(e){var t;if(null!=(t=e.target.value))return j=t,a()})},h=function(){return y=t(i).val()},m=function(){return j=t(o).val()},l=function(e,t){var n,r;return r=new Date(e),n=new Date(t),r.getTime()>n.getTime()},a=function(){return null!=j&&null!=y&&l(y,j)?g("Target end date must be after target start date"):p()},u=function(){return null!=j&&null!=y&&l(y,j)?v("Target start date must be before target end date"):p()},g=function(e){return t(n).html("<span class='error jpo-error'>"+c(e)+"</span>")},v=function(e){return t(r).html("<span class='error jpo-error'>"+c(e)+"</span>")},p=function(){return t(n).empty(),t(r).empty()},s=function(e){return t(i,e).each(function(){return t(this.parentNode).append("<div class='jpo-client-error-message-container jpo-start'/>"),y=h(),j=m(),u()}),t(o,e).each(function(){return t(this.parentNode).append("<div class='jpo-client-error-message-container jpo-end'/>"),a()})},e.bindInitializationCallback(function(e){var t;return t=e.context,f(),d(),s(t)})}.apply(t,r)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:sensors', location = 'sensors.js' */
require(["internal/browser-metrics","jira/util/events"],function(e,i){var a,o={},d={},t={};o=function(e,i,a){function o(){function e(e){return o.hasOwnProperty(e)?o[e]:null}var o={"bonfire_top_menu_dropdown-content":"jira.header.menu.capture","browse_link-content":"jira.header.menu.projects","find_link-content":"jira.header.menu.issues","greenhopper_menu-content":"jira.header.menu.agile","home_link-content":"jira.header.menu.dashboards","plugins-jira-webitem-main-content":"jira.header.menu.portfolio","servicedesk-section-content":"jira.header.menu.service-desk","system-admin-menu-content":"jira.header.menu.admin","system-help-menu-content":"jira.header.menu.help","user-options-content":"jira.header.menu.profile"};i.bind("aui-dropdown2-show-before",function(i){var o=i.target,d=e(o&&o.id);d&&a.start({key:d,isInitial:!1,threshold:250})}),i.bind("aui-dropdown2-show-after",function(i){var o=i.target,d=e(o&&o.id);d&&a.end({key:d})})}return e.applicationMenusSensorInit=o,e}(o,i,e),d=function(e){function i(e){var i;if(a.hasOwnProperty(e))return e;for(i=0;i<o.length;i++)if(e.match(o[i].pattern))return o[i].dialogId;return null}e.safeDialogId=i;var a=["about-dialog","add-basicuser-dialog","add-developer-dialog","add-field-configuration-dialog","add-field-configuration-scheme-dialog","add-field-dialog","add-field-screen-dialog","add-field-screen-scheme-dialog","add-incoming-mail-handler-dialog","add-issue-type-dialog","add-issue-type-field-configuration-association-dialog","add-issue-type-screen-scheme-configuration-association-dialog","add-issue-type-screen-scheme-dialog","add-new-issue-type-to-scheme-dialog","add-screen-scheme-item-dialog","add-subtask-type-dialog","add-workflow-dialog","add_workflowscheme-dialog","assign-dialog","assign-issue-types-dialog","assign-to-me-link-handler","attach-file-dialog","attach-screenshot-dialog","auditing-settings-dialog","clone-issue-dialog","comment-add-dialog","configure_wallboard_dialog","confluence-page-search-dialog","copy_classic default workflow-dialog","copy-filter-dialog","copy_jira-dialog","create-issue-dialog","create-issue-dialog.issueType","create-issue-dialog.projectId","create-request-dialog","create-service-desk-dialog","create-status-dialog","create-story-dialog","create-story-dialog.issueType","create-story-dialog.projectId","create-subtask-dialog","create-subtask-dialog.issueType","create-team-dialog","create_user-dialog","credits-dialog","delete-attachment-dialog","delete-comment-dialog","delete-dshboard","delete-filter-dialog","delete-issue-dialog","delete-issue-link-dialog","delete-log-work-dialog","delete-metric","delete-queue","delete-status-dialog","deleteuser_link-dialog","devstatus-branch-detail-dialog","devstatus-build-detail-dialog","devstatus-commit-detail-dialog","devstatus-cta-dialog","devstatus-deployment-detail-dialog","devstatus-pullrequest-detail-dialog","devstatus-review-detail-dialog","discard-draft-dialog","discard_draft_workflow-dialog","edit-attachments-dialog","edit-comment","editgroups_admin-dialog","editgroups_link-dialog","editgroups_sysadmin-dialog","edit-issue-dialog","edit-labels-dialog","edit-log-work-dialog","edit-status-dialog","edituser_link_admin-dialog","edit-workflow-dialog","gh-rapidboard-dialog","inline-issue-create-dialog","invite_user-dialog","issue-actions-dialog","issue-tab-error-dialog","jim-create-project-dialog","keyboard-shortcuts-dialog","link-issue-dialog","log-work-dialog","manage-attachment-dialog","metric-pre-save-dialog","modal-field-view","permission-helper-dialog","project-avatar-cropper","project-avatar-picker","project-config-details-project-category-dialog","project-config-project-edit-dialog","project-config-project-edit-lead-and-default-assignee-dialog","project-email-dialog","publish_draft_workflow-dialog","queue-dirty-edits","QuickCreateIssue.error","QuickCreateIssue.success","QuickCreateSubtask.error","QuickCreateSubtask.success","QuickEdit.error","QuickEdit.success","remote-jira-search-dialog","rename-filter-dialog","report-dirty-edits","save-filter-dialog","sd-add-default-value","sd-add-remove-agent-dialog","sd-remove-field-dialog","server-error-dialog","report-delete-confirm","tempo-add-hours-issue-dialog","tempo-add-internal-activity-form","tempo-core-medium-form","tempo-delete-form-dialog","tempo-grace-form","tempo-large-form","tempo-medium-form","tempo-move-form-dialog","tempo-pdf-form","tempo-small-form","tempo-split-form-dialog","tempo-user-settings-dialog","user-avatar-picker","user-defaults-edit-dialog","versionsMergeDialog","view-workflow-dialog","view-workflow-dialog-project-admin","view-workflow-dialog-workflow-schemes","wait-migrate-dialog","whereismycf-dialog","workflow-text-view"].reduce(function(e,i){return e[i]=!0,e},{}),o=[{dialogId:"component-delete-dialog",pattern:/^component-\d+-delete-dialog$/i},{dialogId:"version-delete-dialog",pattern:/^version-\d+-delete-dialog$/i},{dialogId:"workflow-transition-dialog",pattern:/^workflow-transition-\d+-dialog$/i}];return e}(d),t=function(e,i,a,o){function d(){i.bind("beforeShow",function(e,i){if("string"==typeof i){var d=(0,o.safeDialogId)(i);d&&a.start({key:"jira.dialog.open."+d,isInitial:!1,threshold:1e3})}}),i.bind("dialogContentReady",function(e,i){if("string"==typeof i.options.id){var d=(0,o.safeDialogId)(i.options.id);d&&a.end({key:"jira.dialog.open."+d})}})}return e.dialogsSensorInit=d,e}(t,i,e,d),a=function(e,i){(0,e.applicationMenusSensorInit)(),(0,i.dialogsSensorInit)()}(o,t)});
}catch(e){WRMCB(e)};OJYYh@      bHbRDdQ      O^partitionKey=%28https%2Cjenkins.io%29,:https://issues.jenkins.io/s/c342e2a23a2911dc22c7861ded36fe71-CDN/-st5lxp/820010/157mvhb/ab73002ec7ae7434bcd6b2f7ba3cb202/_/download/contextbatch/js/jira.browse.project,jira.view.issue,project.issue.navigator,jira.global,atl.general,-_super/batch.js?agile_global_admin_condition=true&jag=true&jcap=true&jira.create.linked.issue=true&locale=en-US&richediton=true necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEANwFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAX2MIIF8jCCBNqgAwIBAgIQBdbOxKeyHWKppnRSk5q8tTANBgkqhkiG9w0BAQsFADBGMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRUwEwYDVQQLEwxTZXJ2ZXIgQ0EgMUIxDzANBgNVBAMTBkFtYXpvbjAeFw0yMTEwMDcwMDAwMDBaFw0yMjExMDQyMzU5NTlaMBwxGjAYBgNVBAMTEWlzc3Vlcy5qZW5raW5zLmlvMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwgHoCcxtHty36AeM+DfEZbsVPvb6MMNwtblYb2TvvuzsCDM/MeWZVCjTBBUOs8YbASgiusFGVCLZjBVNBhEqs7cHIg9Nve1PK08XFoeRjxib+EBvrkdkLOwZFHn2/TYGPFp3lgGotWgJPq+ZWGqVrKzZGzYya497UQI81gei8+Pgbx3v6g0p2DtbOhYElerkrFzZmkmCU5f2uG+KXB/DEARgJOqicC7ECV0khxCZ0bzoTpQI71f9NB0e9DBqn8nT9e64RcQK56xySgSowKoU8CLa5XktRVii4Jf+WZFrF8DRahFj9gVhzRQ4wdJcwSQOUp6sol7263dKwFgXOxYPvQIDAQABo4IDBDCCAwAwHwYDVR0jBBgwFoAUWaRmBlKge5WSPKOUByeWdFv5PdAwHQYDVR0OBBYEFO5PEGYoBKrIdKwwquuFDoSOowF/MDMGA1UdEQQsMCqCEWlzc3Vlcy5qZW5raW5zLmlvghVpc3N1ZXMuamVua2lucy1jaS5vcmcwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjA9BgNVHR8ENjA0MDKgMKAuhixodHRwOi8vY3JsLnNjYTFiLmFtYXpvbnRydXN0LmNvbS9zY2ExYi0xLmNybDATBgNVHSAEDDAKMAgGBmeBDAECATB1BggrBgEFBQcBAQRpMGcwLQYIKwYBBQUHMAGGIWh0dHA6Ly9vY3NwLnNjYTFiLmFtYXpvbnRydXN0LmNvbTA2BggrBgEFBQcwAoYqaHR0cDovL2NydC5zY2ExYi5hbWF6b250cnVzdC5jb20vc2NhMWIuY3J0MAwGA1UdEwEB/wQCMAAwggF/BgorBgEEAdZ5AgQCBIIBbwSCAWsBaQB3ACl5vvCeOTkh8FZzn2Old+W+V32cYAr4+U1dJlwlXceEAAABfFgrZ0EAAAQDAEgwRgIhAPxwX6sCWD9k92Fxe3w/9SZMnrJsTUReaFqpHQfvbnXKAiEAklJWRXeEbrJJ7mleba67IKO0KG5Sw9tYhZVpbajdr00AdgBRo7D1/QF5nFZtuDd4jwykeswbJ8v3nohCmg3+1IsF5QAAAXxYK2eIAAAEAwBHMEUCIQDYrGzVc//lgPjbPqQHYVRDZe7Eimw5g7hE8aY3a9IgHwIgWZ25C9B+4j9ZNX0TEQX3Oahg8NOM27J11VtIDBs+HZYAdgBByMqx3yJGShDGoToJQodeTjGLGwPr60vHaPCQYpYG9gAAAXxYK2c+AAAEAwBHMEUCIQDft6ndD9IiA1Srdx3mqU7EnbOzyeBqfg7Xwhjc2XYOvwIgZIWGTFaIu0D23HqksZFsxwp8LQdkBoZAgw1RwzxSpVcwDQYJKoZIhvcNAQELBQADggEBAKTY/GzLHMoVwtyKaxccT+mtUf4aegbQVqU57GOe7Ipemr7+BW8udWxfcYpcULM4HTJ9nSlJxVhkC6klnEi1JjDh2JmxWdX8sBQ0HPyFcCpsAkgCgnBTkfQseIq35J/EAHBqLyx81avIIjxOIx6v2S6HygPvl9UMYGpHdJc1E+7I1eme+yHm4l9MHSTzYyOgwHiGpPWfzlqDhYb0C1U5K19hedN6TuYAdmoxjS9244lGguzac+A3YbvdPsFJ7yNNQRA1C6Inp9mg0+/7ejDv0tYAqvinJWCF7UF+r6GTfrdX2wXo+D6nNCFJ6mOV+MQB4V4Hl9bmdT14cp0iExJX5ZrALwADAAAAAAEBAAAAAAAABFAyNTYAAAAQUlNBLVBLQ1MxLVNIQTUxMgADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAF9jCCBfIwggTaoAMCAQICEAXWzsSnsh1iqaZ0UpOavLUwDQYJKoZIhvcNAQELBQAwRjELMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEVMBMGA1UECxMMU2VydmVyIENBIDFCMQ8wDQYDVQQDEwZBbWF6b24wHhcNMjExMDA3MDAwMDAwWhcNMjIxMTA0MjM1OTU5WjAcMRowGAYDVQQDExFpc3N1ZXMuamVua2lucy5pbzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMIB6AnMbR7ct+gHjPg3xGW7FT72+jDDcLW5WG9k777s7AgzPzHlmVQo0wQVDrPGGwEoIrrBRlQi2YwVTQYRKrO3ByIPTb3tTytPFxaHkY8Ym/hAb65HZCzsGRR59v02Bjxad5YBqLVoCT6vmVhqlays2Rs2MmuPe1ECPNYHovPj4G8d7+oNKdg7WzoWBJXq5Kxc2ZpJglOX9rhvilwfwxAEYCTqonAuxAldJIcQmdG86E6UCO9X/TQdHvQwap/J0/XuuEXECuesckoEqMCqFPAi2uV5LUVYouCX/lmRaxfA0WoRY/YFYc0UOMHSXMEkDlKerKJe9ut3SsBYFzsWD70CAwEAAaOCAwQwggMAMB8GA1UdIwQYMBaAFFmkZgZSoHuVkjyjlAcnlnRb+T3QMB0GA1UdDgQWBBTuTxBmKASqyHSsMKrrhQ6EjqMBfzAzBgNVHREELDAqghFpc3N1ZXMuamVua2lucy5pb4IVaXNzdWVzLmplbmtpbnMtY2kub3JnMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwPQYDVR0fBDYwNDAyoDCgLoYsaHR0cDovL2NybC5zY2ExYi5hbWF6b250cnVzdC5jb20vc2NhMWItMS5jcmwwEwYDVR0gBAwwCjAIBgZngQwBAgEwdQYIKwYBBQUHAQEEaTBnMC0GCCsGAQUFBzABhiFodHRwOi8vb2NzcC5zY2ExYi5hbWF6b250cnVzdC5jb20wNgYIKwYBBQUHMAKGKmh0dHA6Ly9jcnQuc2NhMWIuYW1hem9udHJ1c3QuY29tL3NjYTFiLmNydDAMBgNVHRMBAf8EAjAAMIIBfwYKKwYBBAHWeQIEAgSCAW8EggFrAWkAdwApeb7wnjk5IfBWc59jpXflvld9nGAK+PlNXSZcJV3HhAAAAXxYK2dBAAAEAwBIMEYCIQD8cF+rAlg/ZPdhcXt8P/UmTJ6ybE1EXmhaqR0H7251ygIhAJJSVkV3hG6ySe5pXm2uuyCjtChuUsPbWIWVaW2o3a9NAHYAUaOw9f0BeZxWbbg3eI8MpHrMGyfL956IQpoN/tSLBeUAAAF8WCtniAAABAMARzBFAiEA2Kxs1XP/5YD42z6kB2FUQ2XuxIpsOYO4RPGmN2vSIB8CIFmduQvQfuI/WTV9ExEF9zmoYPDTjNuyddVbSAwbPh2WAHYAQcjKsd8iRkoQxqE6CUKHXk4xixsD6+tLx2jwkGKWBvYAAAF8WCtnPgAABAMARzBFAiEA37ep3Q/SIgNUq3cd5qlOxJ2zs8ngan4O18IY3Nl2Dr8CIGSFhkxWiLtA9tx6pLGRbMcKfC0HZAaGQIMNUcM8UqVXMA0GCSqGSIb3DQEBCwUAA4IBAQCk2PxsyxzKFcLcimsXHE/prVH+GnoG0FalOexjnuyKXpq+/gVvLnVsX3GKXFCzOB0yfZ0pScVYZAupJZxItSYw4diZsVnV/LAUNBz8hXAqbAJIAoJwU5H0LHiKt+SfxABwai8sfNWryCI8TiMer9kuh8oD75fVDGBqR3SXNRPuyNXpnvsh5uJfTB0k82MjoMB4hqT1n85ag4WG9AtVOStfYXnTek7mAHZqMY0vduOJRoLs2nPgN2G73T7BSe8jTUEQNQuiJ6fZoNPv+3ow79LWAKr4pyVghe1Bfq+hk363V9sF6Pg+pzQhSepjlfjEAeFeB5fW5nU9eHKdIhMSV+WaZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAETTCCBEkwggMxoAMCAQICEwZ7UFwqZSe8Hr4totGZmO24mywwDQYJKoZIhvcNAQELBQAwOTELMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEZMBcGA1UEAxMQQW1hem9uIFJvb3QgQ0EgMTAeFw0xNTEwMjEyMjI0MzRaFw00MDEwMjEyMjI0MzRaMEYxCzAJBgNVBAYTAlVTMQ8wDQYDVQQKEwZBbWF6b24xFTATBgNVBAsTDFNlcnZlciBDQSAxQjEPMA0GA1UEAxMGQW1hem9uMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwk4WZ93OvGrIN1rsOjCwHebREugSKEjM6CnBuW5T1aPrAzkazHeH9gG52XDMz2uN4+MDcYaZbcumlCpOE9anvQTsChY8Cus5scS1WKO2x1Yl7D5SeqjjKRYHuW5Qz/tfMfgdugNKYokDrj5H8g8nkeMUIIX4+umKNfVfnplN52s376RQPkTs+lqFZgecfhdqVfMXijUe7umsw3VOWFV9U2sKa5sUQtflrAGJs+qj/s/AKwyEwthTFctn8NCIyjrRF3P1X5rUxXIefgHxmDBjKqryei3F4gIahuUyPg69EbTPPJPvF1AQnkPCBirgDWi+04iLSmWMStTDLkybVfSG5QIDAQABo4IBOzCCATcwEgYDVR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFFmkZgZSoHuVkjyjlAcnlnRb+T3QMB8GA1UdIwQYMBaAFIQYzIU07LwMlJQuCFmcx7IQTgoIMHsGCCsGAQUFBwEBBG8wbTAvBggrBgEFBQcwAYYjaHR0cDovL29jc3Aucm9vdGNhMS5hbWF6b250cnVzdC5jb20wOgYIKwYBBQUHMAKGLmh0dHA6Ly9jcmwucm9vdGNhMS5hbWF6b250cnVzdC5jb20vcm9vdGNhMS5jZXIwPwYDVR0fBDgwNjA0oDKgMIYuaHR0cDovL2NybC5yb290Y2ExLmFtYXpvbnRydXN0LmNvbS9yb290Y2ExLmNybDATBgNVHSAEDDAKMAgGBmeBDAECATANBgkqhkiG9w0BAQsFAAOCAQEAH7GhCsJ9ew4wG4vw4ntHrZ/jxIH2PyOrPDS1pMRgDlH1tqPr1aMDQEUVY2iBna4QH3lh5GSOqtqSNMfyCWJsppnFmmWlv9kew70A7cQpBZFWsVHh7xDZuiMqlYX+kOaDddpA0qyaM88eyO7R44QSu1eV6E8kuDVOBIUssxoI9semsQ3dYR0Y25RKSfNC6Il5ZlA86brQV8juZpHK6ZXFb5SCYlpio6w59s8ysQ1+Z8L5LJKSI2JSXK0LuIgl9f2MGdcjahfS68o5YpaYRwgAoh24SEZxnzfI/Ciw1Zlsk2DJPFfuo9CyOPuMxYdrqahjEBy91RVRVgXpOrwg1oQf22YKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAAA0UwggNBMIICKaADAgECAhMGbJ/Pmb+MCjni8HiKQ+aWNlvKMA0GCSqGSIb3DQEBCwUAMDkxCzAJBgNVBAYTAlVTMQ8wDQYDVQQKEwZBbWF6b24xGTAXBgNVBAMTEEFtYXpvbiBSb290IENBIDEwHhcNMTUwNTI2MDAwMDAwWhcNMzgwMTE3MDAwMDAwWjA5MQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRkwFwYDVQQDExBBbWF6b24gUm9vdCBDQSAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsniAccp41eNxr0eAUHR9btjXiHb0mWj3WCFg+XSEAS+sAi2G06BDek6ypNA2ugG+jdtIyAcXNkz07ogjxz7rN/W1GfhJaLDe17l2OB1hnqT+gjal5UpW5EXh+f20Fvp02pybNTkv+rAgUAZsetCAsqb5r+xHGY9QOAfcooc5WPi61an5SGcwlu6UeF5viaNRwDCGZqFFZrpU66PDkflI3P/R6DAtfS10cDXXiCT3nsRZbrtzhxfyMkYouEP6tx2qyrTynyQOLUv3cVxeaf/qlQLLOIquUDhv2/stYhvFxx5U4XfgZ8gPnIcj1j9AIH8ggMSATD47JCaOBK5smsiqDQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBhjAdBgNVHQ4EFgQUhBjMhTTsvAyUlC4IWZzHshBOCggwDQYJKoZIhvcNAQELBQADggEBAJjyN1pBkKEaxXZRKCA2Iw6u5ii7qviUrkikMH8b/CSNS7TIoZf2tvF6cMhTk8wIKOOYJc8jpPneIdN8hQmtTpp1OsILaol4dkRHGGVsjUGOO3+ay/S1p1DXBSw36ANLrelhoAJu9fLwxbLtW7fc+pRcd54TpX9SrZXy+JM73otcW8paUltgrxT3S++j+59AlW0xVPxC08dGHyOt2Q9IcJrZdXhx0XJDNHVuV1nCAlwmYCnPIxkWjohDpdTkywj7IxFD6EMpcmKhqV1eCNSQrrjYzhTC0FXyhvbEk0N3ZmHAuehB15d4YANuSnKupdF9uhCehmwbirlZM/jrxJC+8bkAAAABAAAAAmgyAAEAAAAATnRsc2ZsYWdzMHgwMDAwMDAwMDppc3N1ZXMuamVua2lucy5pbzo0NDNecGFydGl0aW9uS2V5PSUyOGh0dHBzJTJDamVua2lucy5pbyUyOQ== request-method GET response-head HTTP/2 200 OK
date: Fri, 19 Aug 2022 05:23:18 GMT
content-type: application/javascript
server: nginx/1.20.1
x-arequestid: 323x11824321x2
x-asessionid: lw1348
referrer-policy: strict-origin-when-cross-origin
x-xss-protection: 1; mode=block
x-content-type-options: nosniff
x-frame-options: SAMEORIGIN
content-security-policy: frame-ancestors 'self'
strict-transport-security: max-age=31536000
expires: Sat, 19 Aug 2023 05:23:18 GMT
cache-control: max-age=31536000, public
X-Firefox-Spdy: h2
 original-response-headers date: Fri, 19 Aug 2022 05:23:18 GMT
content-type: application/javascript
server: nginx/1.20.1
x-arequestid: 323x11824321x2
x-asessionid: lw1348
referrer-policy: strict-origin-when-cross-origin
x-xss-protection: 1; mode=block
x-content-type-options: nosniff
x-frame-options: SAMEORIGIN
content-security-policy: frame-ancestors 'self'
strict-transport-security: max-age=31536000
expires: Sat, 19 Aug 2023 05:23:18 GMT
cache-control: max-age=31536000
cache-control: public
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0 net-response-time-onstart 1773 net-response-time-onstop 10642  